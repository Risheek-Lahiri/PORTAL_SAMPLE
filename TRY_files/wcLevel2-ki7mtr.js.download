function AdfDhtmlZOrderManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlZOrderManager);
AdfDhtmlZOrderManager.InitClass=function(){var a=["__af_Z_maskingframe","__af_Z_window","__af_Z_tooltip"];this.LAYERCONTAINER="DhtmlZOrderManagerLayerContainer";this.FLOATINGTYPE_WINDOW=a[1];this.FLOATINGTYPE_TOOLTIP=a[2];this.FLOATINGTYPE_MASKINGFRAME=a[0];this.LAYERIDS=a;this._LAYER_CONTAINER_STYLECLASS="AFZOrderLayerContainer";this.LAYER_STYLECLASS="AFZOrderLayer";this._MAXZ=Math.pow(2,31)-2;this._SHADOWDECORATORZINDEX=3;this._BLANK_PAGE_RESOURCE="about:blank";this._FORM_ID_EXPANDO="data-afr-fid";
this._INUSE_EXPANDO="data-afr-inuse"};AdfDhtmlZOrderManager.prototype.Init=function(){AdfDhtmlZOrderManager.superclass.Init.call(this);this._layerHash={};this._isGecko=AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM};AdfDhtmlZOrderManager.getMaxZIndex=function(){return AdfDhtmlZOrderManager._MAXZ};AdfDhtmlZOrderManager.prototype.dispose=function(){this._layerHash=null};
AdfDhtmlZOrderManager.prototype.addElementToLayer=function(a,b,d,e){this._assertLayers(e);b=e?AdfRichUIPeer.createSubId(e,b):b;this._getLayer(b).addElement(a,d)};AdfDhtmlZOrderManager.prototype.raiseToFront=function(a){var b=a.parentNode,d=b.parentNode.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO);this._assertLayers(d);b=b.getAttribute("id");AdfAssert.assertNonEmptyString(b);(b=this._getLayer(b))&&b.raiseToFront(a);AdfPopupScopingUtils.scope(a)};
AdfDhtmlZOrderManager._createMapSafeKey=function(a){AdfAssert.assertString(a);return a.split(":").join("$")+"$key"};AdfDhtmlZOrderManager.prototype._getLayer=function(a){a=AdfDhtmlZOrderManager._createMapSafeKey(a);var b=this._layerHash[a];return b&&!b.getContainerElement()?(delete this._layerHash[a],null):b};AdfDhtmlZOrderManager.prototype._setLayer=function(a,b){var d=AdfDhtmlZOrderManager._createMapSafeKey(a);this._layerHash[d]=b};
AdfDhtmlZOrderManager.prototype._createLayers=function(a){var b=AdfDhtmlZOrderManager.LAYERIDS,d=AdfDhtmlZOrderManager.LAYERCONTAINER,d=a?AdfRichUIPeer.createSubId(a,d):d,d=this._createLayerElement(d);AdfDomUtils.addCSSClassName(d,AdfDhtmlZOrderManager._LAYER_CONTAINER_STYLECLASS);a&&d.setAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO,a);for(var e=AdfDhtmlZOrderManager.LAYER_STYLECLASS,f=0;f<b.length;f++){var g=a?AdfRichUIPeer.createSubId(a,b[f]):b[f],h=this._createLayerElement(g),g=new AdfDhtmlZOrderLayer(g);
this._addLayer(d,g,h);AdfDomUtils.addCSSClassName(h,e)}this._positionLayerContainer(d);return d};AdfDhtmlZOrderManager.prototype._createLayerElement=function(a){var b=this._getLayer(a);if(b)return b.getContainerElement();b=AdfPage.PAGE.getDomDocument().createElement("div");b.setAttribute("id",a);b.style.zIndex=AdfDhtmlZOrderManager._MAXZ;return b};AdfDhtmlZOrderManager.prototype._addLayer=function(a,b,d){var e=b.getId();this._setLayer(e,b);a.appendChild(d);AdfAgent.AGENT.elementsAdded(a)};
AdfDhtmlZOrderManager.prototype._assertLayers=function(a){var b=this._getLayerContainer(a);b||(b=this._createLayers(a));AdfDhtmlZOrderManager._getFormOrBody(a).lastChild!=b&&this._repairLayers(b)};AdfDhtmlZOrderManager.prototype._repairLayers=function(a){var b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO),b=AdfDhtmlZOrderManager._getFormOrBody(b);a.parentNode!=b?this._positionLayerContainer(a):(b.removeChild(a),b.appendChild(a))};
AdfDhtmlZOrderManager.prototype._positionLayerContainer=function(a){var b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO),b=AdfDhtmlZOrderManager._getFormOrBody(b);a.parentNode!=b&&(b.appendChild(a),AdfAgent.AGENT.elementsAdded(a))};AdfDhtmlZOrderManager.prototype.containsElement=function(a){if(null==a)return!1;var b=AdfDhtmlZOrderManager.LAYERCONTAINER;for(a=a.parentNode;a;a=a.parentNode)if(1==a.nodeType){var d=a.getAttribute("id");if(d){var d=d.split(":"),e=d.length;if(1<e&&b==d[e-1])return!0}}return!1};
AdfDhtmlZOrderManager.prototype.getElementCount=function(){var a=0,b=this._layerHash;for(id in b){var d=b[id];d&&d.getContainerElement()&&(a+=d.getContainerElementCount())}return a};AdfDhtmlZOrderManager.prototype.removeElement=function(a){if(a.parentNode){AdfPopupScopingUtils.unscope(a);var b=a.parentNode.getAttribute("id");AdfAssert.assertNonEmptyString(b);b=this._getLayer(b);AdfAssert.assertObject(b);b.removeElement(a)}};
AdfDhtmlZOrderManager.prototype._getLayerContainer=function(a){var b=AdfDhtmlZOrderManager.LAYERCONTAINER;a=a?AdfRichUIPeer.createSubId(a,b):b;return AdfAgent.AGENT.getElementById(a)};AdfDhtmlZOrderManager._getFormOrBody=function(a){return(a=AdfAgent.AGENT.getElementById(a))?a:AdfPage.PAGE.getDomDocument().body};
AdfDhtmlZOrderManager.prototype.prepareMaskingFrame=function(a){var b;if(a){var d=AdfDhtmlZOrderManager.LAYERCONTAINER;for(a=a.parentNode;a;a=a.parentNode)if(1==a.nodeType){var e=a.getAttribute("id");if(e){var e=e.split(":"),f=e.length;if(1<f&&e[f-1]==d){b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO);break}}}}this._assertLayers(b);a=AdfDhtmlZOrderManager.FLOATINGTYPE_MASKINGFRAME;d=b?AdfRichUIPeer.createSubId(b,a):a;d=this._getLayer(d);delete d._unusedMaskingFrame;d.visitElements(AdfDhtmlZOrderManager._findMaskingFramesInUse);
e=d._unusedMaskingFrame;delete d._unusedMaskingFrame;e||(e=this._isGecko?"DIV":"IFRAME",e=d.getContainerElement().ownerDocument.createElement(e),this.removeMaskingFrame(e),"IFRAME"==e.tagName&&(e.src=AdfDhtmlZOrderManager._BLANK_PAGE_RESOURCE,e.setAttribute("aria-hidden",!0)),e.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!1),this.addElementToLayer(e,a,null,b));return e};
AdfDhtmlZOrderManager._findMaskingFramesInUse=function(a,b){return"false"==b.getAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO)?(a._unusedMaskingFrame=b,!0):!1};AdfDhtmlZOrderManager.prototype.createMaskingFrame=function(a){a=this.prepareMaskingFrame(a);a.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!0);a.style.zIndex=1;return a};
AdfDhtmlZOrderManager.prototype.removeMaskingFrame=function(a){a.frameBorder="0";a.className="AFMaskingFrame";var b=a.style;b.visibility="hidden";b.width="0px";b.height="0px";b.left="0px";b.top="0px";b.zIndex=0;a.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!1)};AdfObject.ensureClassInitialization(AdfDhtmlZOrderManager);
function AdfAutoDismissalManager(){this.Init()}AdfObject.createSubclass(AdfAutoDismissalManager);AdfAutoDismissalManager.prototype.Init=function(){AdfAutoDismissalManager.superclass.Init.call(this);this._componentStack=[];this._defaultPopupTimeout=500};AdfAutoDismissalManager.prototype.getBehaviorCount=function(){return this._componentStack.length};AdfAutoDismissalManager.prototype.dispose=function(){this.closeAll();this._unregisterEventHandlers()};
AdfAutoDismissalManager.prototype.addBehavior=function(a,b){if(!this.hasComponent(a,b)){var d=b[AdfDhtmlPopupHints.AUTODISMISS];switch(d){case AdfDhtmlPopupHints.AUTODISMISS_MENU:case AdfDhtmlPopupHints.AUTODISMISS_ALWAYS:case AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT:case AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE:case AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT:this._addComponent(a,d,b)}}};
AdfAutoDismissalManager.prototype.removeBehavior=function(a,b){var d=a.getClientId(),e=this._componentStack;b||(b=d);for(var f=0;f<e.length;f++){var g=e[f];if(g){var h=g.id,g=g.popupId?g.popupId:d;if(h==d&&g==b){if(a instanceof AdfRichPopup)for(d=e.length-1;d>f;d--){var k=e[d];k&&(g=k.id,page.findComponent(g).isDescendant(a)&&(k=k.dismissalBehavior,AdfAssert.assertFunction(k),AdfLogger.LOGGER.logMessage(AdfLogger.FINE,"force autodismissal for descendant popupId: '"+g+"' of parent popupId: '"+h+"'"),
k(d)))}AdfLogger.LOGGER.logMessage(AdfLogger.FINE,"unregistering autodismissal for popupId: '"+h+"'");e.splice(f,1);0==e.length&&this._unregisterEventHandlers();break}}}};AdfAutoDismissalManager.prototype.changeBehavior=function(a,b){for(var d=a.getClientId(),e=this._componentStack,f=e.length,g=b[AdfDhtmlPopupHints.AUTODISMISS],h=0;h<f;h++){var k=e[h];if(k.id==d){k.type=g;break}}};AdfAutoDismissalManager.prototype.hasComponents=function(){return 0<this._componentStack.length};
AdfAutoDismissalManager.prototype.hasComponent=function(a,b){for(var d=a.getClientId(),e=this._componentStack,f=e.length,g=0;g<f;g++)if(e[g].id==d)if(b.popupId){if(e[g].popupId==b.popupId)return!0}else return!0;return!1};AdfAutoDismissalManager.prototype.closeAll=function(){for(var a=AdfPage.PAGE,b=this._componentStack,d=b.length-1;-1<d;d--){var e,f=a.findComponent(b[d].id);f&&(e=f.getPeer())&&e.cancelAllPopups(f,!0)}AdfCollections.clearArray(b)};
AdfAutoDismissalManager.prototype._addComponent=function(a,b,d){var e=a.getClientId(),f=AdfPage.PAGE,g=this._componentStack;if(!(a instanceof AdfRichDocument))for(var h=g.length-1;0<=h;h--){var k=g[h];if(k){var l=f.findComponent(k.id);e!=k.id&&!a.isDescendant(l)&&(k=k.dismissalBehavior,AdfAssert.assertFunction(k),k(h))}}a={};a.id=e;a.type=b;a[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID]=d[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID];a[AdfRichPopup.HINT_LAUNCH_ID]=d[AdfRichPopup.HINT_LAUNCH_ID];a.popupId=
d.popupId?d.popupId:e;b==AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT?(a.dismissalBehavior=this.createCallback(this._cancelTimeoutDismissalBehavior),b={stackObj:a,myself:this},a.timer=f.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,b,d[AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT])):(a.dismissalBehavior=b==AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE?this.createCallback(this._inactivateDismissalBehavior):this.createCallback(this._hideDismissalBehavior),0<d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&
!d[AdfDhtmlPopupHints.MODAL]&&(a[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]=d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT],b={stackObj:a,myself:this},a.timer=f.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,b,d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT])));0==g.length&&this._registerEventHandlers();g.push(a)};
AdfAutoDismissalManager.prototype.dismiss=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d];e&&!this._cancelDismissal(a,e)&&(e=e.dismissalBehavior,AdfAssert.assertFunction(e),e(d))}};
AdfAutoDismissalManager.prototype._dismissOnMouseOver=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d];if((e.type==AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT||e.type==AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT)&&!this._cancelDismissal(a,e))e=e.dismissalBehavior,AdfAssert.assertFunction(e),e(d)}};
AdfAutoDismissalManager.prototype._adjustPopupTimeout=function(a){for(var b=this._componentStack,d=AdfPage.PAGE,e=AdfAgent.AGENT.getDomDocument().activeElement,f=b.length-1;0<=f;f--){var g=b[f];g[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&(g.timer&&(this._cancelDismissal(a,g)||this._cancelDismissal(e,g))?(d.cancelTimer(g.timer),delete g.timer):!g.timer&&(!this._cancelDismissal(a,g)&&!this._cancelDismissal(e,g))&&(g.timer=d.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,{stackObj:g,
myself:this},this._defaultPopupTimeout)))}};AdfAutoDismissalManager.prototype.stopPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].timer&&b[f].id==a&&(e.cancelTimer(b[f].timer),delete b[f].timer)};
AdfAutoDismissalManager.prototype.restartPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].id==a&&(b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&!b[f].timer)&&(b[f].timer=e.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,{stackObj:b[f],myself:this},this._defaultPopupTimeout))};
AdfAutoDismissalManager.prototype.cancelPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].id==a&&(b[f].timer&&(e.cancelTimer(b[f].timer),delete b[f].timer),b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&delete b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT])};
AdfAutoDismissalManager.prototype._undismissDueToActiveIframe=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d],f=AdfPage.PAGE;if(e.type==AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE){var e=e.id,f=f.findComponent(e),g=f.getPeer();g.bind(f);f=g.getAllPopups(f);if(null!=f&&(e=f[e]))if(f=e.getElement(),AdfDomUtils.isAncestor(f,a)){e.handleActivate(!1);break}}else this.dismiss(a)}};
AdfAutoDismissalManager.prototype._cancelDismissal=function(a,b){var d=b[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID],e=b[AdfRichPopup.HINT_LAUNCH_ID],f=AdfPage.PAGE.findComponent(b.id),g=f.getPeer();g.bind(f);g=g.getAllPopups(f);if(null==g)return!1;var h=this._isTargetInPopup(a,g),k;switch(b.type){case AdfDhtmlPopupHints.AUTODISMISS_ALWAYS:k=h;!k&&(e&&AdfDomUtils.isAncestorOrSelf(AdfAgent.AGENT.getElementById(e),a))&&(k=!0);!k&&!this._isPopupAboveTopGlassPane(f)&&(k=!0);break;case AdfDhtmlPopupHints.AUTODISMISS_MENU:k=
h||this._isTargetInOwner(a,f);break;case AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT:k=d?h||AdfDomUtils.isAncestorOrSelf(AdfAgent.AGENT.getElementById(d),a):h||this._isTargetInOwner(a,f);break;case AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE:k=h;break;case AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT:k=!this._isTargetInPopup(a,g)}return k};
AdfAutoDismissalManager.prototype._isTargetInPopup=function(a,b){var d=null,e;for(e in b){var f=b[e];if(f.getElement){f=f.getElement();if(AdfDomUtils.isAncestor(f,a))return!0;null==d&&(d=this._getContainingComponent(a));if(e&&this._isComponentAncestor(e,d))return!0}}return!1};
AdfAutoDismissalManager.prototype._getContainingComponent=function(a){for(var b=AdfPage.PAGE;a;){var d=a.id;!d&&1==a.nodeType&&(d=a.getAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO));if(d=d?b.findComponent(d):null)return d;a=a.parentNode}return null};AdfAutoDismissalManager.prototype._isComponentAncestor=function(a,b){for(;b;){if(a==b.getClientId())return!0;b=b.getParent()}return!1};
AdfAutoDismissalManager.prototype._isTargetInOwner=function(a,b){var d=b.getPeer();d.bind(b);d=d.getDomElement();return AdfDomUtils.isAncestorOrSelf(d,a)};AdfAutoDismissalManager.prototype._isPopupAboveTopGlassPane=function(a){var b=a.getPeer();b.bind(a);a=b.getDomElement();return AdfPage.PAGE.getModalityManager().isAboveTopGlassPane(a)};
AdfAutoDismissalManager.prototype._inactivateDismissalBehavior=function(a){AdfAssert.assertNumber(a);var b=this._componentStack[a];a=b.popupId;b=AdfPage.PAGE.findComponent(b.id);if((a=b.getPeer().getPopupWindow(b,a))&&a instanceof AdfDhtmlSimpleFloat)b=AdfDhtmlDialogManager.getInstance(),b.getActiveDialog()==a&&b.deactivateCurrentDialog()};AdfAutoDismissalManager.prototype._hideDismissalBehavior=function(a){AdfAssert.assertNumber(a);a=AdfPage.PAGE.findComponent(this._componentStack[a].id);this._hideComponentPopups(a)};
AdfAutoDismissalManager.prototype._cancelTimeoutDismissalBehavior=function(a){AdfAssert.assertNumber(a);var b=AdfPage.PAGE;a=this._componentStack[a];var d=a.timer;AdfAssert.assertNumber(d);b.cancelTimer(d);a.type=AdfDhtmlPopupHints.AUTODISMISS_MENU;a.dismissalBehavior=this.createCallback(this._hideDismissalBehavior);delete a.timer};
AdfAutoDismissalManager._timeoutDismissalBehavior=function(a){var b=a.stackObj,d=b[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT];if(b.type==AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT||d)a=a.myself,b=AdfPage.PAGE.findComponent(b.id),a._hideComponentPopups(b)};AdfAutoDismissalManager.prototype._hideComponentPopups=function(a){var b=a.getPeer();a instanceof AdfRichMenu?b.cancelPopup():b.cancelAllPopups(a)};
AdfAutoDismissalManager.prototype._registerEventHandlers=function(){var a=AdfAgent.AGENT,b=a.getPlatform()==AdfAgent.IE_PLATFORM,d=a.getPlatform()==AdfAgent.WEBKIT_PLATFORM,e=a.getDomDocument(),f=this._keyupCallback=this.createCallback(this._handleKeyDown);a.addBubbleEventListener(e,"keyup",f);f=this._mousedownCallback=this.createCallback(this._handleMouseDown);a.addBubbleEventListener(e.body,"mousedown",f);b?(b=this._focusinCallback=this.createCallback(this._handleFocusIn),a.addBubbleEventListener(e,
"focusin",b)):d?(b=a.getDomWindow(),d=this._blurCallback=this.createCallback(this._handleBlur),a.addBubbleEventListener(b,"blur",d)):(b=this._blurCallback=this.createCallback(this._handleBlur),a.addBubbleEventListener(e,"blur",b));b=this._mouseoverCallback=this.createCallback(this._handleMouseOver);a.addBubbleEventListener(e,"mouseover",b)};
AdfAutoDismissalManager.prototype._unregisterEventHandlers=function(){var a=AdfAgent.AGENT,b=a.getPlatform()==AdfAgent.IE_PLATFORM,d=a.getPlatform()==AdfAgent.WEBKIT_PLATFORM,e=a.getDomDocument(),f=this._keyupCallback;f&&(a.removeBubbleEventListener(e,"keyup",f),delete this._keyupCallback);if(f=this._mousedownCallback)a.removeBubbleEventListener(e.body,"mousedown",f),delete this._mousedownCallback;if(b){if(b=this._focusinCallback)a.removeBubbleEventListener(e,"focusin",b),delete this._focusinCallback}else if(d){if(b=
this._blurCallback)d=a.getDomWindow(),a.removeBubbleEventListener(d,"blur",b)}else if(b=this._blurCallback)a.removeBubbleEventListener(e,"blur",b),delete this._blurCallback;if(b=this._mouseoverCallback)a.removeBubbleEventListener(e,"mouseover",b),delete this._mouseoverCallback};AdfAutoDismissalManager.prototype._handleFocusIn=function(a){(a=AdfAgent.AGENT.getEventTarget(a))&&"IFRAME"==a.tagName&&this.dismiss(a)};
AdfAutoDismissalManager.prototype._handleMouseDown=function(a){AdfAgent.AGENT.isDefaultPrevented(a)||this.dismiss(AdfAgent.AGENT.getEventTarget(a))};
AdfAutoDismissalManager.prototype._handleKeyDown=function(a){var b=AdfAgent.AGENT;if(b.getKeyCode(a)==AdfKeyStroke.TAB_KEY){var d=b.getEventTarget(a);AdfPage.PAGE.getModalityManager().isAboveTopGlassPane(d)?this.dismiss(d):(b.eatEvent(a),a=AdfDhtmlDialogManager.getInstance(),(dialogWindow=a.getActiveDialog())&&dialogWindow.activate?dialogWindow.activate():a.focusNextModelessDialog())}};
AdfAutoDismissalManager.prototype._handleBlur=function(a){if(!this._handleBlurTimeout&&(a.target instanceof HTMLDocument||a.target.location))this._handleBlurTimeout=AdfPage.PAGE.scheduleTimer(this,AdfAutoDismissalManager._dismissBlurringElement,{myself:this,blurringElement:a.target},100)};
AdfAutoDismissalManager._dismissBlurringElement=function(a){var b,d=AdfAgent.AGENT.getDomDocument().activeElement;if(d)try{b=d.tagName}catch(e){AdfLogger.LOGGER.logErrorAsInfo(e,"unable to detect the activeElement")}a=a.myself;("IFRAME"==b||"BODY"==b)&&a._undismissDueToActiveIframe(d);delete this._handleBlurTimeout};AdfAutoDismissalManager.prototype.cancelBlurTimeout=function(){var a=this._handleBlurTimeout;a&&(AdfPage.PAGE.cancelTimer(a),delete this._handleBlurTimeout)};
AdfAutoDismissalManager.prototype._handleMouseOver=function(a){var b=AdfPage.PAGE,d=this._moTimeout;d&&(b.cancelTimer(d),delete this._moTimeout);a={myself:this,lastMOTarget:AdfAgent.AGENT.getEventTarget(a)};this._moTimeout=b.scheduleTimer(this,AdfAutoDismissalManager._handleMouseOverTimeout,a,300)};AdfAutoDismissalManager._handleMouseOverTimeout=function(a){var b=a.myself;a=a.lastMOTarget;b._dismissOnMouseOver(a);b._adjustPopupTimeout(a);delete this._moTimeout};
function AdfDhtmlShadowDecorator(){this.Init()}AdfObject.createSubclass(AdfDhtmlShadowDecorator);AdfDhtmlShadowDecorator.prototype.Init=function(){AdfDhtmlShadowDecorator.superclass.Init.call(this)};AdfDhtmlShadowDecorator.getShadowSize=function(){var a=AdfDhtmlShadowDecorator._SHADOW_PIXEL_SIZE;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-pixel-size")),a=isNaN(a)?0:a,AdfDhtmlShadowDecorator._SHADOW_PIXEL_SIZE=a);return a};
AdfDhtmlShadowDecorator.prototype._create=function(a,b,d,e,f,g){null==d&&(d=3);this._shadowOffsetTop=d;null==e&&(e=3);this._shadowOffsetLeft=e;null==g&&(g=100);this._isRelative=f;var h=AdfDhtmlShadowDecorator.getShadowSize(),k=2*h,l=AdfPage.PAGE,m=AdfAgent.AGENT;this._maskFrame||(this._maskFrame=l.createMaskingFrame(a));if(!AdfDhtmlShadowDecorator._usesNativeShadows(a)&&!this._shadeElements){var n=m.getComputedStyle(a);this._shadeElements=Array(k);if(void 0==n.zIndex||2>=AdfAgent.getCSSLengthAsInt(n.zIndex))a.style.zIndex=
3;var p=a.ownerDocument,l=l.getLocaleContext().isRightToLeft(),q=f?{x:0,y:0}:m.getElementPosition(a);f=q.y+d;var r;r=l?q.x-(e+h):q.x+e;var s=a.offsetWidth,u=a.offsetHeight;b=b?b:p.body;this._anchorBox={x:q.x,y:q.y,offsetWidth:s,offsetHeight:u};a=p.createElement("div");AdfDomUtils.addCSSClassName(a,AdfDhtmlShadowDecorator._SHADOW_STYLE_CLASS);q=a.style;q.zIndex=AdfAgent.getCSSLengthAsInt(n.zIndex)-1;q.position="absolute";q.left=r+"px";q.top=f+"px";q.width=s+h+"px";q.height=u+h+"px";f=0;r=l?h+e:0;e=
s-e+"px";d=u-d+"px";for(h=0;h<k;h++)n=p.createElement("div"),q=n.style,q.position="absolute",q.left=r+"px",q.top=f+"px",0==h%2?l?r--:r++:f++,q.width=e,q.height=d,q.backgroundColor="#000000",m.setOpacity(n,Math.floor(g/(2*h+4))),a.appendChild(n),this._shadeElements[h]=n;b.appendChild(a);this._shadeContainer=a}};
AdfDhtmlShadowDecorator.prototype._move=function(a){var b=AdfAgent.AGENT,d=AdfPage.PAGE,e=this._maskFrame;e&&d.moveMaskingFrame(a,e);if(this._shadeElements){var f=this._anchorBox,e=a.offsetWidth,d=a.offsetHeight,g=this._isRelative?{x:0,y:0}:b.getElementPosition(a);if(!(f.x==g.x&&f.y==g.y&&f.offsetWidth==e&&f.offsetHeight==d)){this._anchorBox={x:g.x,y:g.y,offsetWidth:e,offsetHeight:d};var b=b.getComputedStyle(a).zIndex-1,f=this._shadowOffsetTop,h=this._shadowOffsetLeft,k=AdfPage.PAGE.getLocaleContext().isRightToLeft();
a=this._shadeContainer.style;a.zIndex=b;var l=AdfDhtmlShadowDecorator.getShadowSize(),b=2*l;a.left=(k?g.x-(h+l):g.x+h)+"px";a.top=g.y+f+"px";a.width=e+l+"px";a.height=d+l+"px";AdfAssert.assert(0<e-h,"Computed shadow width is less than one");AdfAssert.assert(0<d-f,"Computed shadow height is less than one");e=e-h+"px";d=d-f+"px";for(g=0;g<b;g++)a=this._shadeElements[g].style,a.width=e,a.height=d}}};
AdfDhtmlShadowDecorator.prototype._show=function(a,b){this._maskFrame&&(this._maskFrame.style.visibility=b?"visible":"hidden");this._shadeElements&&(this._shadeContainer.style.display=b?"block":"none")};AdfDhtmlShadowDecorator.prototype._remove=function(a){if(a=this._maskFrame)AdfPage.PAGE.removeMaskingFrame(a),delete this._maskFrame;this._shadeElements&&(this._shadeContainer.parentNode.removeChild(this._shadeContainer),delete this._shadeElements,delete this._shadeContainer)};
AdfDhtmlShadowDecorator.createShadowDecorator=function(a,b,d){var e=AdfDhtmlShadowDecorator._getShadowDecorator(a);if(!e){var e=new AdfDhtmlShadowDecorator,f=AdfDhtmlShadowDecorator._getShadowOffset(),g=AdfDhtmlShadowDecorator._getShadowStartingBlackPercent();e._create(a,b,f,f,d,g);AdfDhtmlShadowDecorator._uniqueIdCounter||(AdfDhtmlShadowDecorator._uniqueIdCounter=0);b="sd$"+ ++AdfDhtmlShadowDecorator._uniqueIdCounter;d=AdfDhtmlShadowDecorator._shadowDecorators;d||(d=AdfDhtmlShadowDecorator._shadowDecorators=
{});d[b]=e;a.setAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE,b)}return e};
AdfDhtmlShadowDecorator._usesNativeShadows=function(a){var b=AdfAgent.AGENT,d=b.getPlatform()==AdfAgent.WEBKIT_PLATFORM||b.atLeast(AdfAgent.IE_PLATFORM,9)||b.atLeast(AdfAgent.GECKO_PLATFORM,"1.9.1");if(!d)return d;for(d=!1;a&&!d;){if(1==a.nodeType){if(AdfDomUtils.containsCSSClassName(a,AdfDhtmlZOrderManager.LAYER_STYLECLASS))break;for(var e=b.getComputedStyle(a),f=0;f<AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS.length;f++){var g=e[AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS[f]];if(g&&0<g.length&&
"none"!=g){d=!0;break}}}a=a.parentNode}return d};AdfDhtmlShadowDecorator.moveShadowDecorator=function(a){var b=AdfDhtmlShadowDecorator._getShadowDecorator(a);b&&b._move(a)};AdfDhtmlShadowDecorator.removeShadowDecorator=function(a){var b=AdfDhtmlShadowDecorator._getShadowDecorator(a);if(b&&(b._remove(a),b=a.getAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE)))a.removeAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE),(a=AdfDhtmlShadowDecorator._shadowDecorators)&&delete a[b]};
AdfDhtmlShadowDecorator.showShadowDecorator=function(a,b){var d=AdfDhtmlShadowDecorator._getShadowDecorator(a);d&&d._show(a,b)};AdfDhtmlShadowDecorator.hasShadowDecorator=function(a){return void 0!=AdfDhtmlShadowDecorator._getShadowDecorator(a)};AdfDhtmlShadowDecorator._getShadowDecorator=function(a){a=a.getAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE);var b,d=AdfDhtmlShadowDecorator._shadowDecorators;d&&a&&(b=d[a]);return b};
AdfDhtmlShadowDecorator._getShadowOffset=function(){var a=AdfDhtmlShadowDecorator._SHADOW_OFFSET;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-offset")),a=isNaN(a)?3:a,AdfDhtmlShadowDecorator._SHADOW_OFFSET=a);return a};
AdfDhtmlShadowDecorator._getShadowStartingBlackPercent=function(){var a=AdfDhtmlShadowDecorator._SHADOW_STARTING_BLACK_PERCENT;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-starting-black-percent")),a=isNaN(a)?3:a,AdfDhtmlShadowDecorator._SHADOW_STARTING_BLACK_PERCENT=a);return a};AdfDhtmlShadowDecorator.setRelative=function(a,b){var d=AdfDhtmlShadowDecorator._getShadowDecorator(a);d&&b&&(d._isRelative=!0)};
AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE="data-afr-shaddec";AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS=["box-shadow","-webkit-box-shadow","-moz-box-shadow"];
function AdfDhtmlZOrderLayer(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlZOrderLayer);AdfDhtmlZOrderLayer._MINIMAL_Z_INDEX=20;AdfDhtmlZOrderLayer.prototype.Init=function(a){AdfDhtmlZOrderLayer.superclass.Init.call(this);this._containerElementId=a;this._elements=[];this._elementsCount=0};AdfDhtmlZOrderLayer.prototype.getContainerElement=function(){var a=this.getId();return AdfAgent.AGENT.getElementById(a)};AdfDhtmlZOrderLayer.prototype.getContainerElementCount=function(){return this._elementsCount};
AdfDhtmlZOrderLayer.prototype.getId=function(){return this._containerElementId};AdfDhtmlZOrderLayer.prototype.addElement=function(a,b){this._elementsCount++;var d=this._elements,e=0;b?(e=AdfCollections.indexOf(d,b),-1<e?d.splice(e,0,a):(d.push(a),e=d.length-1)):(d.push(a),e=d.length-1);for(;e<d.length;e++)e in d&&this._updateElement(e);this.getContainerElement().appendChild(a)};
AdfDhtmlZOrderLayer.prototype.removeElement=function(a){var b=this._elementsCount--,d=this._elements,e=AdfCollections.indexOf(d,a);-1<e&&delete d[e];this.getContainerElement().removeChild(a);0==b&&(this._elements=[])};AdfDhtmlZOrderLayer.prototype.raiseToFront=function(a){var b=this._elements,d=AdfCollections.indexOf(b,a);-1<d&&(delete b[d],b.push(a),this._updateElement(b.length-1))};AdfDhtmlZOrderLayer.prototype._updateElement=function(a){this._elements[a].style.zIndex=2*a+AdfDhtmlZOrderLayer._MINIMAL_Z_INDEX};
AdfDhtmlZOrderLayer.prototype.visitElements=function(a){AdfAssert.assertFunction(a,"no visitor callback");for(var b=this._elements,d=0;d<b.length&&!(d in b&&a(this,b[d]));d++);};
function AdfDhtmlModalityManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlModalityManager);AdfDhtmlModalityManager.prototype.Init=function(){AdfDhtmlModalityManager.superclass.Init.call(this);this._modalElementStack=[];this._glassPaneStack=[]};AdfDhtmlModalityManager.prototype.getElementCount=function(){return this._modalElementStack.length};AdfDhtmlModalityManager.prototype.dispose=function(){this._glassPaneStack=this._modalElementStack=null};
AdfDhtmlModalityManager.prototype.pushModal=function(a){AdfAssert.assertDomElement(a);if(this.isGlassPaneVisible())this._glassPaneStack[this._glassPaneStack.length-1].style.display="none";else{var b=AdfAgent.AGENT,d=b.getDomWindow();this._setupEventHandler(b,"_handleResize",this._handleResize,"resize",!0,d)}AdfAssert.assertDomElement(a.parentNode);b=a.parentNode.getAttribute("id");AdfAssert.assertString(b);d=this._createGlassPane();AdfPage.PAGE.getZOrderManager().addElementToLayer(d,b,a);AdfPopupScopingUtils.markAsScopingContainer(d);
this._modalElementStack.push(a);this._glassPaneStack.push(d)};
AdfDhtmlModalityManager.prototype.popModal=function(){this._modalElementStack.pop();var a=this._glassPaneStack.pop();a.style.width="1px";a.style.height="1px";var b=AdfPage.PAGE;b.getZOrderManager().removeElement(a);if(0<this._modalElementStack.length)this._glassPaneStack[this._glassPaneStack.length-1].style.display="block";else{var a=AdfAgent.AGENT,d=a.getDomWindow();this._setupEventHandler(a,"_handleResize",this._handleResize,"resize",!1,d);a=a.getElementById(b.getDocumentClientId());b.doResizeNotifyDom(a,
!0)}};
AdfDhtmlModalityManager.prototype._createGlassPane=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE.getDomDocument().createElement("div"),d=b.style,e=a.getDomWindow();b.className="AFModalGlassPane";d.width=a.getWindowScrollWidth(e)+"px";d.height=a.getWindowScrollHeight(e)+"px";a.disableUserSelect(b);a.addBubbleEventListener(b,"keydown",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"keyup",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"keypress",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mousedown",
AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseup",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseover",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseout",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"click",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"focusin",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"focus",AdfAgent.eatEventCallback);return b};
AdfDhtmlModalityManager.prototype._handleResize=function(){AdfPage.PAGE.scheduleTimer(this,this._onResize,null,1)};AdfDhtmlModalityManager.prototype._onResize=function(){for(var a=AdfAgent.AGENT,b=a.getDomWindow(),d=0;d<this._glassPaneStack.length;d++){var e=this._glassPaneStack[d];e.style.display="none";e.style.width=a.getWindowScrollWidth(b)+"px";e.style.height=a.getWindowScrollHeight(b)+"px";e.style.display=""}};
AdfDhtmlModalityManager.prototype.getTopGlassPane=function(){if(this.isGlassPaneVisible())return this._glassPaneStack[this._glassPaneStack.length-1]};AdfDhtmlModalityManager.prototype._setupEventHandler=function(a,b,d,e,f,g){b+="Stub";null==this[b]&&(this[b]=this.createCallback(d));f?a.addBubbleEventListener(g,e,this[b]):a.removeBubbleEventListener(g,e,this[b])};
AdfDhtmlModalityManager.prototype.isAboveTopGlassPane=function(a){if(!this.isGlassPaneVisible()||!a)return!0;var b=AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW,d=AdfDhtmlZOrderManager.FLOATINGTYPE_TOOLTIP,e=AdfDhtmlZOrderManager.FLOATINGTYPE_MASKINGFRAME,f=a;for(a=a.parentNode;a;a=a.parentNode){if(1==a.nodeType){var g=a.getAttribute("id");if(g){var g=g.split(":"),h=g.length;if(0<h){g=g[h-1];if(d==g)return!0;if(e==g)break;else if(b==g)return a=this.getTopGlassPane().style.zIndex,f.style.zIndex>a}}}f=
a}return!1};AdfDhtmlModalityManager.prototype.isGlassPaneVisible=function(){return 0<this._glassPaneStack.length};
function AdfAbstractFloatingElement(a){this.Init(a)}AdfObject.createSubclass(AdfAbstractFloatingElement);AdfAbstractFloatingElement.prototype.Init=function(a){AdfAbstractFloatingElement.superclass.Init.call(this);this._floatingType=a;this._alignPosition=this._shadowAnchor=this._rootElement=this._alignElement=null};AdfAbstractFloatingElement.prototype.GetFirstFormId=function(){var a=AdfPage.PAGE.getDomDocument();return a.forms&&0<a.forms.length&&a.forms[0].id?a.forms[0].id:null};
AdfAbstractFloatingElement.prototype.setElement=function(a){this._rootElement=a;this.setShadowAnchor(a);var b=a.style;b.position="absolute";b.zIndex=2;this.ImmediateZorderRegistration()&&AdfPage.PAGE.getZOrderManager().addElementToLayer(a,this.GetFloatingType(),this.GetFirstFormId())};AdfAbstractFloatingElement.prototype.ImmediateZorderRegistration=function(){return!0};AdfAbstractFloatingElement.prototype.getElement=function(){return this._rootElement};
AdfAbstractFloatingElement.prototype.setAlignElement=function(a){a&&a.id?(this._alignElementId=a.id,delete this._alignElement):(this._alignElement=a,delete this._alignElementId)};AdfAbstractFloatingElement.prototype.setAlignPosition=function(a){this._alignPosition=a;delete this._alignElement;delete this._alignElementId};AdfAbstractFloatingElement.prototype.getAlignPosition=function(){return this._alignPosition};
AdfAbstractFloatingElement.prototype.getAlignElement=function(){var a=this._alignElementId,b=this._alignElement;a&&!b&&(b=AdfAgent.AGENT.getElementById(a));return b};AdfAbstractFloatingElement.prototype.show=function(){this._rootElement.style.display=""};AdfAbstractFloatingElement.prototype.hide=function(){this._rootElement.style.display="none"};AdfAbstractFloatingElement.prototype.cancel=function(){this.hide()};AdfAbstractFloatingElement.prototype.destroy=function(){AdfPage.PAGE.getZOrderManager().removeElement(this._rootElement)};
AdfAbstractFloatingElement.prototype.getWidth=function(){return this.getElement().offsetWidth};AdfAbstractFloatingElement.prototype.getHeight=function(){return this.getElement().offsetHeight};AdfAbstractFloatingElement.prototype.setShadowAnchor=function(a){this._shadowAnchor=a};AdfAbstractFloatingElement.prototype.getShadowAnchor=function(){return this._shadowAnchor};
AdfAbstractFloatingElement.prototype.setTop=function(a){isNaN(a)||(a+="px");this._rootElement.style.top=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.getTop=function(){return parseInt(this._rootElement.style.top)};
AdfAbstractFloatingElement.prototype.setLeft=function(a){isNaN(a)||(a+="px");this._rootElement.style.left=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.getLeft=function(){return parseInt(this._rootElement.style.left)};
AdfAbstractFloatingElement.prototype.setPosition=function(a,b){isNaN(a)||(a+="px");isNaN(b)||(b+="px");this._rootElement.style.left=b;this._rootElement.style.top=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.raiseToFront=function(){AdfPage.PAGE.getZOrderManager().raiseToFront(this._rootElement)};
AdfAbstractFloatingElement.prototype.CreateTable=function(a,b){for(var d=AdfPage.PAGE.getDomDocument().createElement("table"),e=0;e<a;e++)for(var f=d.insertRow(e),g=0;g<b;g++)f.insertCell(g);d.cellPadding=0;d.cellSpacing=0;d.setAttribute("role","presentation");return d};AdfAbstractFloatingElement.prototype.GetFloatingType=function(){return this._floatingType};
function AdfRepositionable(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfRepositionable);AdfRepositionable.InitClass=function(){var a=this.prototype;a.NORMAL=0;a.START_DRAGGING=1;a.DRAGGING=2};
AdfRepositionable.prototype.Init=function(a,b){AdfRepositionable.superclass.Init.call(this);this._floatingElement=a;this._handle=b;var d=AdfAgent.AGENT;this._mousedownStub=this.createCallback(this._mouseDownHandler);this._mousemoveStub=this.createCallback(this._mouseMoveHandler);this._mouseupStub=this.createCallback(this._stopDragging);d.getCapabilities();d.addBubbleEventListener(this._handle,"touchstart",this._mousedownStub);d.addBubbleEventListener(this._handle,"mousedown",this._mousedownStub);
d.disableUserSelect(b);this._mouseStartY=this._mouseStartX=this._originalLeftPosition=this._originalTopPosition=null;this._state=this.NORMAL};AdfRepositionable.prototype.destroy=function(){var a=AdfAgent.AGENT;a.removeBubbleEventListener(this._handle,"touchstart",this._mousedownStub);a.removeBubbleEventListener(this._handle,"mousedown",this._mousedownStub);this._state!=this.NORMAL&&AdfPage.PAGE.stopDrag()};AdfRepositionable.prototype.getElement=function(){return this._floatingElement.getElement()};
AdfRepositionable.prototype._mouseDownHandler=function(a){var b=AdfPage.PAGE;if(!b.isDragging()){var d=AdfAgent.AGENT;a=a||d.getDomWindow().event;if(!(a instanceof MouseEvent)||d.isLeftButton(a)){this._state=this.START_DRAGGING;d.preventDefault(a);var e=d.getEventTarget(a);AdfPage.PAGE.getAutoDismissalManager().dismiss(e);if(d.getPlatform()==AdfAgent.IE_PLATFORM){d=this._handle;try{d.setActive()}catch(f){AdfLogger.LOGGER.fine("Could not restore focus to handle:",d.id?d.id:"unknown")}}b.startDrag(a,
this._mousemoveStub,this._mouseupStub,null,!0)}}};
AdfRepositionable.prototype._mouseMoveHandler=function(a,b,d){var e=AdfAgent.AGENT;a=e.getMousePosition(a);if(this._state==this.START_DRAGGING){this._onDragStart.apply(this._floatingElement);this._state=this.DRAGGING;this._mouseStartX=a.x;this._mouseStartY=a.y;this._originalLeftPosition=parseInt(this._floatingElement.getLeft());this._originalTopPosition=parseInt(this._floatingElement.getTop());this._moveDeltaY=this._moveDeltaX=0;this._originalLeftPosition||(this._originalLeftPosition=0);this._originalTopPosition||
(this._originalTopPosition=0);var f=AdfPage.PAGE.getDomDocument().documentElement,g=e.getPlatform()==AdfAgent.IE_PLATFORM,h=AdfPage.PAGE.getLocaleContext().isRightToLeft(),k=e.getDomWindow();a=e.getWindowScrollWidth(k);var e=e.getWindowScrollHeight(k),k=AdfDhtmlShadowDecorator.getShadowSize(),l=h?k:0;g&&h&&(f=f.scrollWidth-f.clientWidth,l-=f,a-=f);this._minLeft=l;f=this.getElement();this._wiggleWidth=a-f.offsetWidth-2*k;this._wiggleHeight=e-f.offsetHeight-2*k}this._state==this.DRAGGING&&(b=this._moveDeltaX+=
b,d=this._moveDeltaY+=d,this._move(b,d))};AdfRepositionable.prototype._stopDragging=function(a,b,d){this._mouseStartY=this._mouseStartX=this._originalTopPosition=this._originalLeftPosition=null;this._state==this.DRAGGING&&this._onDragEnd.apply(this._floatingElement);this._state=this.NORMAL};
AdfRepositionable.prototype._move=function(a,b){var d=this._originalLeftPosition+a,e=this._originalTopPosition+b,f=this._minLeft,g=this._wiggleWidth,h=this._wiggleHeight,d=d>f?Math.min(d,g):f,e=0<e?Math.min(e,h):0;this._floatingElement.setPosition(e,d);this._onDrag()};AdfRepositionable.prototype.setDragStartHandler=function(a){this._onDragStart=a};AdfRepositionable.prototype.setDragEndHandler=function(a){this._onDragEnd=a};AdfRepositionable.prototype.setDragHandler=function(a){this._onDrag=a};
AdfRepositionable.prototype._onDragStart=function(){};AdfRepositionable.prototype._onDragEnd=function(){};AdfRepositionable.prototype._onDrag=function(){};
function AdfDhtmlDialogManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlDialogManager);
AdfDhtmlDialogManager.prototype.Init=function(){AdfDhtmlDialogManager.superclass.Init.call(this);this._dialogs=[];this._activationChain=[];this._activeDialog=null;var a=AdfAgent.AGENT,b=a.getDomDocument().documentElement;a.getDomWindow();this._lastScrollLeft=b.scrollLeft;this._lastScrollTop=b.scrollTop;this._primaryWindow={};this._primaryWindow.activate=function(){var a=this._prevDomElement;a?AdfFocusUtils.focusElement(a):AdfFocusUtils.focusFirstDocumentTabStop()};this._primaryWindow.showAsInActive=
function(){};this._primaryWindow.showAsActive=function(){}};AdfDhtmlDialogManager.prototype.getElementCount=function(){return this._dialogs.length};AdfDhtmlDialogManager.prototype.registerDialog=function(a){this._dialogs[this._dialogs.length]=a;delete this._topDialogNavigation};
AdfDhtmlDialogManager.prototype._getTopDialogNavigation=function(){var a=-1,b=this._activeDialog,d=this._topDialogNavigation;if(d)return b&&(a=AdfCollections.indexOf(d,b)),a;for(var d=[],e=this._dialogs,f=!1,g=e.length-1;-1<g;g--){var h=e[g];if(f){if(this._isMessageDialog(h)){d.splice(d.length-1,0,h);h.raiseToFront();b=d[d.length-1];b.isAnimating()&&(e={},e.msgDialog=h,e.modalDialog=b,b.addOpenedHandler(AdfDhtmlDialogManager._setMessageDialogRestoreFocus,e));break}}else{if(h.getModal()&&(f=!0,AdfDhtmlPopupHints.ZORDER_SCOPE_BODY==
h.getZorderScope()))break;-1==a&&b&&h==b&&(a=d.length);d[d.length]=h}}d.reverse();-1<a&&(a=d.length-1-a);f||(d[d.length]=this._primaryWindow);this._topDialogNavigation=d;return a};
AdfDhtmlDialogManager._setMessageDialogRestoreFocus=function(a){AdfAssert.assertObject(a,"params is required");var b=a.msgDialog;a=a.modalDialog;AdfAssert.assertPrototype(b,AdfDhtmlSimpleFloat,"params.msgDialog]");AdfAssert.assertPrototype(a,AdfDhtmlSimpleFloat,"params.modalDialog");a=a.getFirstTabStop();b.setRestoreFocusId(a&&a.id?a.id:null)};
AdfDhtmlDialogManager.prototype._isMessageDialog=function(a){a=a.getContainedComponentClientId();var b=this._messageDialogId;if(!b){var b=AdfPage.PAGE,d=b.getDocumentClientId(),b=b.findComponent(d),d=b.getPeer();d.bind(b);b=this._messageDialogId=d.getMessageDialogId()}return a==b};
AdfDhtmlDialogManager.prototype.focusNextModelessDialog=function(a){a&&(this._primaryWindow._prevDomElement=a);a=this._getTopDialogNavigation();var b=this._topDialogNavigation,d=0;if(b&&!(1>=b.length)&&(d=-1==a||a+1==b.length?0:a+1,a=b[d]))this.activateDialog(a),a.activate()};
AdfDhtmlDialogManager.prototype.unregisterDialog=function(a){var b=this._activationChain,d=this._dialogs;this._getTopDialogNavigation();AdfCollections.removeArrayValue(d,a);AdfCollections.removeArrayValue(b,a);if(a.getModal())for(var e=AdfPage.PAGE,f=this._topDialogNavigation,g=f.length-1;0<g;g--){var h=f[g];if(h!=this._primaryWindow){var k=h.getContainedComponentClientId(),l=e.findComponent(k);if(l&&l instanceof AdfRichDialog){var m=l.getParent();if(m&&m instanceof AdfRichDocument&&m.getPeer().getMessageDialogId()==
k)continue;k=l.getPeer();k.bind(l);k.fireCancel()}else l=h.getPopupClientId(),(l=e.findComponent(l))&&l instanceof AdfRichPopup&&l.cancel();AdfCollections.removeArrayValue(d,h);AdfCollections.removeArrayValue(b,h)}}delete this._topDialogNavigation;this._activeDialog==a&&(this._activeDialog=null,a=b.length,1<=a&&(this._activeDialog=b[a-1]).activate())};
AdfDhtmlDialogManager.prototype.activateDialog=function(a){var b=this._activeDialog;if(b==a)return!1;this._getTopDialogNavigation();var d=this._topDialogNavigation;if(d&&0>AdfCollections.indexOf(d,a))return!1;b&&this.deactivateCurrentDialog();if(a==this._primaryWindow)return!1;this._activeDialog=a;b=this._activationChain;AdfCollections.removeArrayValue(b,a);b.push(a);a.showAsActive();return!0};
AdfDhtmlDialogManager.prototype.deactivateCurrentDialog=function(){this._activeDialog&&(this._activeDialog.showAsInActive(),this._activeDialog=null)};AdfDhtmlDialogManager.getInstance=function(){null==this._theInstance&&(this._theInstance=new AdfDhtmlDialogManager);return this._theInstance};AdfDhtmlDialogManager.prototype.getActiveDialog=function(){return this._activeDialog};
function AdfDhtmlPositionManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlPositionManager);AdfDhtmlPositionManager.InitClass=function(){this.TOP=0;this.MIDDLE=1;this.BOTTOM=2;this.LEFT=3;this.CENTER=4;this.RIGHT=5;this.MIN_WIDTH=32};AdfDhtmlPositionManager.prototype.Init=function(){AdfDhtmlPositionManager.superclass.Init.call(this);var a=AdfLogger.LOGGER;a.getLevel(AdfLogger.FINEST)&&(this._logger=a);this._elements=[];this._isRTL=AdfPage.PAGE.getLocaleContext().isRightToLeft()};
AdfDhtmlPositionManager.prototype._registerEventHanders=function(){var a=AdfAgent.AGENT,b=a.getDomWindow(),d=a.getDomDocument(),e=this._repostionOnScrollCallback;e||(e=this._repostionOnScrollCallback=this.createCallback(this._repostionOnScroll));var f=a.getPlatform()==AdfAgent.IE_PLATFORM;a.isInlineDialogRepositioningOnScroll()&&(a.addBubbleEventListener(d,"mousewheel",e),a.addBubbleEventListener(b,"scroll",e),f||a.addBubbleEventListener(d,"DOMMouseScroll",e));a.addBubbleEventListener(b,"resize",
e)};AdfDhtmlPositionManager.prototype._unregisterEventHanders=function(){var a=AdfAgent.AGENT,b=a.getDomWindow(),d=a.getDomDocument(),e=this._repostionOnScrollCallback;e&&(a.removeBubbleEventListener(d,"mousewheel",e),a.removeBubbleEventListener(b,"scroll",e),a.removeBubbleEventListener(d,"DOMMouseScroll",e),a.removeBubbleEventListener(b,"resize",e))};AdfDhtmlPositionManager.prototype.getElementCount=function(){var a=0,b=this._elements,d;for(d in b)d&&a++;return a};
AdfDhtmlPositionManager.prototype.dispose=function(){this._elements=null};AdfDhtmlPositionManager.prototype.addFloatingElement=function(a,b){a.getAlignPosition()||AdfAssert.assertDomElement(a.getAlignElement());return this._addFloatingElement(a,b)};AdfDhtmlPositionManager.prototype.addFloatingElementByPosition=function(a,b){a.setAlignPosition(b);return this._addFloatingElement(a,AdfRichPopup.ALIGN_AFTER_START)};
AdfDhtmlPositionManager.prototype.calculatePlacementPosition=function(a,b,d,e,f){var g=this._getHintBehavior(d);d=g.horizontalBehavior;g=g.verticalBehavior;a={top:0,right:b,bottom:a,left:0,width:b,height:a};e=this._getAlignBox(e,f);f=this._selectBehavior(d,a,e);d=this._selectBehavior(g,a,e);return this._getNewPosition(f,d,a,e)};
AdfDhtmlPositionManager.prototype._addFloatingElement=function(a,b){AdfAssert.assertDomElement(a.getElement());1>this.getElementCount()&&this._registerEventHanders();var d=this._getHintBehavior(b);return this._addElement(a,d.verticalBehavior,d.horizontalBehavior,d.insideBorder)};
AdfDhtmlPositionManager.prototype._getHintBehavior=function(a){var b=AdfDhtmlPositionManager.BOTTOM,d=AdfDhtmlPositionManager.TOP,e=this._convertHorizontal("start"),f=this._convertHorizontal("end"),g=!1,h,k;switch(a){case AdfRichPopup.ALIGN_AFTER_START:k=[b,d];h=[e,e];break;case AdfRichPopup.ALIGN_AFTER_END:k=[b,d];h=[f,f];break;case AdfRichPopup.ALIGN_BEFORE_START:k=[d,b];h=[e,e];break;case AdfRichPopup.ALIGN_BEFORE_END:k=[d,b];h=[f,f];break;case AdfRichPopup.ALIGN_END_AFTER:k=[b,b];h=[f,e];break;
case AdfRichPopup.ALIGN_END_BEFORE:k=[d,d];h=[f,e];break;case AdfRichPopup.ALIGN_START_AFTER:k=[b,b];h=[e,f];break;case AdfRichPopup.ALIGN_START_BEFORE:k=[d,d];h=[e,f];break;case AdfRichPopup.ALIGN_OVERLAP:k=[d,d];h=[e,e];break;case AdfRichPopup.ALIGN_OVERLAP_END_BEFORE:g=!0;k=[d,d];h=[f,f];break;case AdfRichPopup.ALIGN_OVERLAP_START_BEFORE:g=!0;k=[d,d];h=[e,e];break;case AdfRichPopup.ALIGN_BEFORE_AFTER:k=[d,b,d,b];h=[f,f,f,e];break;default:AdfAssert.assert(!1,"Invalid alignmentHint provided")}return{horizontalBehavior:this._getBehavior(h),
verticalBehavior:this._getBehavior(k),insideBorder:g}};AdfDhtmlPositionManager.prototype._inversePosition=function(a){switch(a){case AdfDhtmlPositionManager.TOP:return AdfDhtmlPositionManager.BOTTOM;case AdfDhtmlPositionManager.BOTTOM:return AdfDhtmlPositionManager.TOP;case AdfDhtmlPositionManager.LEFT:return AdfDhtmlPositionManager.RIGHT;case AdfDhtmlPositionManager.RIGHT:return AdfDhtmlPositionManager.LEFT}};
AdfDhtmlPositionManager.prototype._positionToString=function(a){switch(a){case AdfDhtmlPositionManager.TOP:return"Top";case AdfDhtmlPositionManager.BOTTOM:return"Bottom";case AdfDhtmlPositionManager.LEFT:return"Left";case AdfDhtmlPositionManager.RIGHT:return"Right"}};
AdfDhtmlPositionManager.prototype._getBehavior=function(a){for(var b=[],d=0;d<a.length;d+=2){var e=this["_prefer"+this._positionToString(a[d])+this._positionToString(a[d+1])+"Condition"],f=this["_prefer"+this._positionToString(this._inversePosition(a[d]))+this._positionToString(this._inversePosition(a[d+1]))+"Condition"];b.splice(0,0,{alignElementAnchor:a[d],floatingElementAnchor:a[d+1],condition:f},{alignElementAnchor:this._inversePosition(a[d]),floatingElementAnchor:this._inversePosition(a[d+1]),
condition:e})}return b};AdfDhtmlPositionManager.prototype._getBox=function(a){var b=AdfAgent.AGENT,d=a.getElement(),e=d.offsetWidth,f=d.offsetHeight,g=b.getElementPosition(d),b=g.y,g=g.x;if(0==e&&(d=d.firstChild))e=d.offsetWidth,f=d.offsetHeight;d=AdfDhtmlShadowDecorator.getShadowSize();f+=d;e+=d;e={top:b,right:g+e,bottom:b+f,left:g,width:e,height:f};e.inversePosition=a.shouldInvertPosition();return e};
AdfDhtmlPositionManager.prototype._getAlignBox=function(a,b,d){var e=AdfAgent.AGENT,f,g;a?(e=e.getElementPosition(a),a instanceof SVGElement?(d=e.y,b=e.x,a=a.getBoundingClientRect(),e=a.width,g=a.height):d?(d=e.y+a.clientTop,b=e.x+a.clientLeft,e=a.clientWidth,g=a.clientHeight):(d=e.y,b=e.x,e=a.offsetWidth,g=a.offsetHeight),a=d+g,f=b+e):(g=e=0,null==b?f=b=a=d=0:(a=d=b.y,f=b=b.x));return{top:d,bottom:a,left:b,right:f,width:e,height:g}};
AdfDhtmlPositionManager.prototype._preferTopTopCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowHeight(),g=e.getBrowserViewportScrollTop(),h=AdfDhtmlShadowDecorator.getShadowSize(),e=b.top+a.height<=f+g,f=b.bottom+h<=f+g;b=b.bottom-(a.height-h)>=g&&f;a=d?e:b;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferBottomBottomCondition":"_preferTopTopCondition")+" fitsBelow\x3d"+e+" fitsAbove\x3d"+b+" return\x3d"+a+" usedBy\x3d"+(d?"end_before, start_before, overlap":"end_after, start_after"));
return a};AdfDhtmlPositionManager.prototype._preferBottomBottomCondition=function(a,b){return this._preferTopTopCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferBottomTopCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowHeight(),g=e.getBrowserViewportScrollTop(),e=AdfDhtmlShadowDecorator.getShadowSize(),h=b.top+e<=f+g,e=b.top-(a.height-e)>=g&&h;b=b.bottom+a.height<=f+g;a=d?b:e;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferTopBottomCondition":"_preferBottomTopCondition")+" fitsAbove\x3d"+e+" fitsBelow\x3d"+b+" return\x3d"+a+" usedBy\x3d"+(d?"after_start, after_end":"before_start, before_end, before_after"));
return a};AdfDhtmlPositionManager.prototype._preferTopBottomCondition=function(a,b){return this._preferBottomTopCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferLeftLeftCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowWidth(),e=e.getBrowserViewportScrollLeft(),g=AdfDhtmlShadowDecorator.getShadowSize(),h=a.width-g,k;this._isRTL?(k=b.right-a.width>=e,a=b.left-g>=e,a=b.left+h<=f+e&&a):(a=b.left+a.width<=f+e,f=b.right+g<=f+e,k=b.right-h>=e&&f);b=d?a:k;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferRightRightCondition":"_preferLeftLeftCondition")+" fitsToRight\x3d"+a+" fitsToLeft\x3d"+k+" return\x3d"+
b+" usedBy\x3d"+(d?"after_start, before_start, overlap":"after_end, before_end, before_after"));return b};AdfDhtmlPositionManager.prototype._preferRightRightCondition=function(a,b){return this._preferLeftLeftCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferRightLeftCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowWidth(),e=e.getBrowserViewportScrollLeft(),g=AdfDhtmlShadowDecorator.getShadowSize(),h=a.width-g;this._isRTL?(g=b.right-g>=e,f=b.right+h<f+e&&g,h=b.left-a.width>=e):(g=b.left+g<f+e,h=b.left-h>=e&&g,f=b.right+a.width<f+e);a=d?f:h;(b=this._logger)&&b.logMessage(AdfLogger.FINEST,(d?"_preferLeftRightCondition":"_preferRightLeftCondition")+" fitsToLeft\x3d"+h+" fitsToRight\x3d"+f+" return\x3d"+
a+" usedBy\x3d"+(d?"end_before, before_after":"start_after, start_before"));return a};AdfDhtmlPositionManager.prototype._preferLeftRightCondition=function(a,b){return this._preferRightLeftCondition(a,b,!0)};AdfDhtmlPositionManager.prototype._convertHorizontal=function(a){return"start"==a&&this._isRTL||"end"==a&&!this._isRTL?AdfDhtmlPositionManager.RIGHT:AdfDhtmlPositionManager.LEFT};
AdfDhtmlPositionManager.prototype._addElement=function(a,b,d,e){var f=a.getAlignElement(),f=f?this.managesElement(f):!1;this._elements.push({element:a,verticalBehaviors:b,horizontalBehaviors:d,alignElementIsManaged:f,insideBorder:e});return this._elements.length-1};AdfDhtmlPositionManager.prototype.removeElement=function(a){delete this._elements[a];1>this.getElementCount()&&this._unregisterEventHanders()};AdfDhtmlPositionManager.prototype.managesElement=function(a){return AdfPage.PAGE.getZOrderManager().containsElement(a)};
AdfDhtmlPositionManager.prototype.validatePosition=function(a){var b=AdfPage.PAGE.getDnDContext();if(!b||!b.isDragging())if(a=this._elements[a],null!=a){var b=a.element,d=b.getAlignElement(),e=b.getAlignPosition(),f=a.insideBorder;AdfAgent.AGENT.getPlatform();var g=this._getBox(b),d=this._getAlignBox(d,e,f),e=this._selectBehavior(a.verticalBehaviors,g,d),f=this._selectBehavior(a.horizontalBehaviors,g,d);a._computedBehavior={};a._computedBehavior.verticalBehavior=e;a._computedBehavior.horizontalBehavior=
f;this._positionElement(b,a._computedBehavior,a.alignElementIsManaged,g,d)}};AdfDhtmlPositionManager.prototype._selectBehavior=function(a,b,d){if(!b.inversePosition)return a[0];for(var e,f=0;!e&&f<a.length;f++)a[f].condition.call(this,b,d)&&(e=a[f]);e||(e=a[0]);return e};AdfDhtmlPositionManager.prototype.getComputedBehavior=function(a){a=this._elements[a];if(null!=a)return a._computedBehavior};
AdfDhtmlPositionManager.prototype._positionElement=function(a,b,d,e,f){b=this._getNewPosition(b.horizontalBehavior,b.verticalBehavior,e,f);a.setPosition(b.y,b.x)};
AdfDhtmlPositionManager.prototype._getNewPosition=function(a,b,d,e){var f,g,h=AdfDhtmlShadowDecorator.getShadowSize(),k=d.height-h,h=d.width-h;switch(b.alignElementAnchor){case AdfDhtmlPositionManager.TOP:f=e.top;break;case AdfDhtmlPositionManager.BOTTOM:f=e.bottom;break;default:AdfAssert.assert(!1,"Invalid alignElementAnchor for verticalBehavior provided")}switch(a.alignElementAnchor){case AdfDhtmlPositionManager.LEFT:g=e.left;break;case AdfDhtmlPositionManager.RIGHT:g=e.right;break;default:AdfAssert.assert(!1,
"Invalid alignElementAnchor for horizontalBehavior provided")}var l,m;switch(b.floatingElementAnchor){case AdfDhtmlPositionManager.TOP:l=f;break;case AdfDhtmlPositionManager.BOTTOM:l=f-k;break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for verticalBehavior provided")}switch(a.floatingElementAnchor){case AdfDhtmlPositionManager.LEFT:m=g;break;case AdfDhtmlPositionManager.RIGHT:m=g-h;break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for horizontalBehavior provided")}AdfPage.PAGE.isPortlet()&&
(f=AdfAgent.AGENT,b=f.getBrowserViewportScrollTop(),a=f.getBrowserViewportScrollLeft(),e=f.getWindowWidth(),f=f.getWindowHeight(),l=Math.max(0,l),f=f+b-(l+d.height),0>f&&(l=Math.max(b,l+f)),m=Math.max(0,m),d=e+a-(m+d.width),0>d&&(m=Math.max(a,m+d)));return{x:m,y:l}};
AdfDhtmlPositionManager.prototype._repostionOnScroll=function(a){a=AdfAgent.AGENT.getDomWindow();null==this._repostionCallback&&(this._repostionCallback=this.createCallback(this._repostionOnScrollTimeout));this._repostionTimeout&&a.clearTimeout(this._repostionTimeout);this._repostionTimeout=a.setTimeout(this._repostionCallback,200)};
AdfDhtmlPositionManager.prototype._repostionOnScrollTimeout=function(){delete this._repostionTimeout;for(var a=this._elements,b=a.length-1;-1<b;b--)if(null!=a[b]){var d=a[b].element,e=d.getAlignElement();d.isAnimating()||(e?this._isOutsideScrollView(e)?d.ShouldHideOnClip()&&d.cancel():this.validatePosition(b):d.getAlignPosition()&&!this._isFloatingElementGreaterThanWindow(d)&&this.validatePosition(b))}};
AdfDhtmlPositionManager.prototype._isFloatingElementGreaterThanWindow=function(a){var b=AdfAgent.AGENT,d=a.getWidth();a=a.getHeight();var e=b.getWindowWidth(),b=b.getWindowHeight();return d>e||a>b};
AdfDhtmlPositionManager.prototype._isOutsideScrollView=function(a){var b=AdfAgent.AGENT,d=b.getElementPageBounds(a),e=b.getWindowWidth(),f=b.getBrowserViewportScrollLeft(),g=b.getWindowHeight(),h=b.getBrowserViewportScrollTop(),e=AdfDhtmlPositionManager._isWithinViewport(d,{top:h,bottom:g+h,left:f,right:f+e});for(a=a.parentNode;e&&a&&!AdfDhtmlPositionManager._isRootNode(a);)1==a.nodeType&&(e=b.getElementPageBounds(a),e=AdfDhtmlPositionManager._isWithinViewport(d,e)),a=a.parentNode;return!e};
AdfDhtmlPositionManager._isRootNode=function(a){var b=AdfAgent.AGENT.getNodeName(a);if("FORM"==b||"BODY"==b)return!0;if(a=a.getAttribute("id"))if(a=a.split(":"),b=a.length,0<b)return AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW==a[b-1];return!1};AdfDhtmlPositionManager._isWithinViewport=function(a,b){return-2>a.top-b.top||-2>b.bottom-a.bottom||-2>a.left-b.left||2<a.right-b.right?!1:!0};
AdfDhtmlPositionManager.prototype.resizeFloatingElement=function(a){var b=this.findFloatingElement(a);if(b&&!(b instanceof AdfDhtmlTooltip)){var d=b.getElement();if(AdfDomUtils.isAncestorOrSelf(d,a))return b.autoSize(),!0}return!1};AdfDhtmlPositionManager.prototype.findFloatingElement=function(a){for(var b=this._elements,d=0;d<b.length;d++)if(d in b){var e=b[d];if(e&&(e=e.element)){var f=e.getElement();if(AdfDomUtils.isAncestorOrSelf(f,a))return e}}return null};
function AdfDhtmlPopupWindow(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupWindow,AdfAbstractFloatingElement);AdfDhtmlPopupWindow.__CANCELED_EXPANDO="data-afr-iscanceled";AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO="data-afr-isreplacedom";AdfDhtmlPopupWindow.__POPUPID_EXPANDO="data-afr-popupid";AdfDhtmlPopupWindow.__POPUP_CONTAINER_ID="popup-container";AdfDhtmlPopupWindow.InitClass=function(){this._SCROLL_POSITION_EXPANDO="data-afr-sclptn";this._ANIMATE_WRAPPER_EXPANDO="data-afr-taw"};
AdfDhtmlPopupWindow.prototype.Init=function(){AdfDhtmlPopupWindow.superclass.Init.call(this,AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW);var a=this.CreateDomElement();this.setElement(a);a.style.display="none";AdfPopupScopingUtils.markAsScopingContainer(a);this._isTouchScreen=AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE};AdfDhtmlPopupWindow.prototype.CreateDomElement=function(){AdfAssert.failedInAbstractFunction()};
AdfDhtmlPopupWindow.prototype.ShouldHideOnClip=function(){return!this._isTouchScreen};AdfDhtmlPopupWindow.prototype.NeedsCloseLink=function(){var a=AdfPage.PAGE.getDomWindow();return Boolean(a.AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent)};
AdfDhtmlPopupWindow.prototype.show=function(a){AdfAssert.assertObject(a,"Cannot show a popup element without hints");AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup show called");var b=a[AdfDhtmlPopupHints.COMPONENT_CLIENT_ID];this._componentId=b;this.setAlignElement(a[AdfDhtmlPopupHints.ALIGN_ELEMENT]);var d=a[AdfRichPopup.HINT_ALIGN],e=a[AdfDhtmlPopupHints.RESTORE_IMMEDIATE];this._isOpening=!0;var f=a[AdfDhtmlPopupHints.OPENED_HANDLER],g=a[AdfDhtmlPopupHints.OPENED_HANDLER_PARAM];f&&this.addOpenedHandler(f,
g);g=a[AdfDhtmlPopupHints.MOUSEPOSITION];!0===a[AdfDhtmlPopupHints.AUTODISMISS]&&(a[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_ALWAYS);f=a[AdfDhtmlPopupHints.CLOSE_ON_ESCAPE];null==f&&(f=!0);this._closeOnEscape=f;this._launchSourceId=a[AdfRichPopup.HINT_LAUNCH_ID];if(f=a[AdfDhtmlPopupHints.MAX_WIDTH])AdfAssert.assertNumeric(f,"AdfDhtmlPopupHints.MAX_WIDTH"),this._maxWidth=f;var f=AdfPage.PAGE,h=f.findComponent(b);this.getElement().id=AdfRichUIPeer.CreateSubId(b,AdfDhtmlPopupWindow.__POPUP_CONTAINER_ID);
AdfAssert.assert(null!=h,"Cannot show a popup element without a valid component");var k=a[AdfDhtmlPopupHints.FOCUS];null==k&&(k=!0);var l=AdfPage.PAGE.getDomWindow();!1==k&&(l.AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent)&&(k=!0);e&&(k=!1);if(k&&(l=f.getActiveDomElement())){var m=l.id;m||(m=l.id=(new Date).getTime());this._restoreFocusId=m}this.SetFocusOnOpen(k);if(k=a[AdfDhtmlPopupHints.CONTENT]){this._maxWidth&&(k.style.maxWidth=this._maxWidth+"px");if(!this.ImmediateZorderRegistration()){var l=
f.getZOrderManager(),m=this.getElement(),n=this.GetFloatingType();switch(this._zorderScope=a[AdfDhtmlPopupHints.ZORDER_SCOPE]){case AdfDhtmlPopupHints.ZORDER_SCOPE_CONTAINED_FORM:var p=AdfDhtmlPopupWindow._getFormElementId(k);l.addElementToLayer(m,n,null,p);break;case AdfDhtmlPopupHints.ZORDER_SCOPE_BODY:l.addElementToLayer(m,n);break;default:p=this.GetFirstFormId(),l.addElementToLayer(m,n,null,p)}}k=a[AdfDhtmlPopupHints.CONTENT]=this.WrapContent(a,k);this.setContent(k)}this.setAccessibleAttrs(a);
l=a[AdfDhtmlPopupHints.ANIMATE];if(f.isAnimationEnabled()&&l!=AdfRichPopup.ANIMATE_FALSE&&(m=this.GetAnimationDurationSkinProperty(a)))if(n=parseInt(f.getLookAndFeel().getSkinProperty(m)),0<n&&(m=this.GetAnimateSkinProperty(),(m?f.getLookAndFeel().getSkinProperty(m):null)!=AdfRichPopup.ANIMATE_FALSE||l==AdfRichPopup.ANIMATE_TRUE))this._animationDuration=n;this.setCloseHandler(a[AdfDhtmlPopupHints.CLOSE_HANDLER]);this.setCloseHandlerParam(a[AdfDhtmlPopupHints.CLOSE_HANDLER_PARAM]);this.getElement().style.visibility=
"hidden";d?this.Position(d):g&&this._positionAtMousePointer(g);this.DoShow(a);f.getAutoDismissalManager().addBehavior(h,a);d=AdfDhtmlPopupWindow._createFocusPagePropertyKey(b);if(e){if(this._sizeTimeout=0,this._size(a),a=f.getPageProperty(d))(a=AdfAgent.AGENT.getElementById(a))&&(AdfDomUtils.isAncestor(k,a)&&AdfFocusUtils.isFocusable(a))&&AdfFocusUtils.focusElement(a)}else this._sizeTimeout=f.scheduleTimer(this,this.createCallback(this._size),a,1,{isSynchronized:!0});f.setPageProperty(d,null);b&&
this.getElement().setAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO,b)};AdfDhtmlPopupWindow._getFormElementId=function(a){AdfAssert.assertDomNode(a);for(var b,d=a.ownerDocument,e=AdfAgent.AGENT;a&&a!=d;){if("FORM"==e.getNodeName(a)){b=a.getAttribute("id");break}a=a.parentNode}return b};AdfDhtmlPopupWindow.prototype.getPopupClientId=function(){return this._componentId};
AdfDhtmlPopupWindow.prototype.OpenedPopup=function(a){if(this._isOpening){delete this._isOpening;this.announceOpeningViaLiveRegion(a);this._registerEventHandlers(a);var b=this._openedHandlers,d=this._openedHandlerParams;delete this._openedHandlers;delete this._openedHandlerParams;if(a){a=this.getContent();if(!b){this.FocusOnFirstElement();AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened no handler present: id\x3d"+this._componentId);return}this.RestoreScrollValues(a);this.FocusOnFirstElement()}if(b){for(a=
0;a<b.length;a++)try{(0,b[a])(d[a])}catch(e){AdfLogger.LOGGER.logErrorAsWarning(e,"popup opened handler failed.")}AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened handler present")}else AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened no handler present: id\x3d"+this._componentId)}};
AdfDhtmlPopupWindow.prototype.WrapContent=function(a,b){var d=AdfPage.PAGE.getDomDocument().createElement("table");this._resizeAnchorId=d.id=AdfRichUIPeer.CreateSubId(this._componentId,""+(new Date).getTime());AdfAgent.AGENT.elementsAdded(d);d.cellPadding=d.cellSpacing=0;d.insertRow(0).insertCell(0).appendChild(b);d.style.position="relative";d.role="presentation";return d};
AdfDhtmlPopupWindow.prototype._registerEventHandlers=function(a){var b=AdfPage.PAGE.getDomDocument(),d=AdfAgent.AGENT,e=this.getContent();if(!a||!a[AdfDhtmlPopupHints.COMPONENT_EVENTS_ENABLED])a=this._keyUpCallback=this.createCallback(this._handleKeyUp),d.addBubbleEventListener(b,"keyup",a),b=this._keyDownCallback=this.createCallback(this._handleKeyDown),d.addBubbleEventListener(e,"keydown",b);e=this._resizeCallback=this.createCallback(this._handleResize);d.addResizeListener(this._resizeAnchorId,
e)};AdfDhtmlPopupWindow.prototype._handleResize=function(){this.autoSize();var a=this.getContent();this.DoResizeNotifyDom(a);null!=this._positionManagerIndex&&AdfPage.PAGE.getPositionManager().validatePosition(this._positionManagerIndex)};
AdfDhtmlPopupWindow.prototype._unregisterEventHandlers=function(){var a=AdfPage.PAGE.getDomDocument(),b=AdfAgent.AGENT,d=this.getContent(),e=this._keyUpCallback;e&&(b.removeBubbleEventListener(a,"keyup",e),delete this._keyUpCallback);if(a=this._keyDownCallback)b.removeBubbleEventListener(d,"keydown",a),delete this._keyDownCallback;this._resizeCallback&&(b.removeResizeListener(this._resizeAnchorId),delete this._resizeAnchorId,delete this._resizeCallback)};
AdfDhtmlPopupWindow.prototype._toggleOffAnimating=function(){delete this._animating};
AdfDhtmlPopupWindow.prototype.hide=function(){if(!this._isHiding){this._isHiding=!0;if(this._animating){this._toggleOffAnimating();var a=this.getElement().parentNode;"true"==a.getAttribute(AdfDhtmlPopupWindow._ANIMATE_WRAPPER_EXPANDO)&&AdfDhtmlPopupWindow._restoreRootPostAnimation(a)}var a=AdfPage.PAGE,b=this.getContent();this.removeAccessibleAttrs();this.SaveScrollValues(b);var b=a.findComponent(this._componentId),d=AdfDhtmlPopupWindow._getInternalPopupId(this,b);a.getAutoDismissalManager().removeBehavior(b,
d);if(!this._isRestoring(b)&&(null==a.getActiveDomElement()||AdfFocusUtils.containsFocus(this.getElement()))&&!AdfFocusUtils.isFocusChangePending())try{this._restoreFocus()}catch(e){AdfLogger.LOGGER.logErrorAsWarning(e,"restoring popup focus")}if(b=this._closeHandler)delete this._closeHandler,b(this._closeHandlerParam),delete this._closeHandlerParam;this.destroy();delete this._isHiding;a.__perfTimings(!1,!1,!0,"popup hidden")}};
AdfDhtmlPopupWindow._getInternalPopupId=function(a,b){if(b){var d=b.getPeer();if(d&&(d=d.getAllPopups(b)))for(popupId in d)if(d[popupId]===a)return popupId}return null};AdfDhtmlPopupWindow.prototype._isRestoring=function(a){var b=!1;a instanceof AdfRichPopup&&a.getAutoCancel()==AdfRichPopup.AUTO_CANCEL_DISABLED&&(a=AdfDhtmlPopupWindow._createFocusPagePropertyKey(a.getClientId()),b=page.getPageProperty(a)?!0:!1);return b};
AdfDhtmlPopupWindow.prototype.cancel=function(a){var b=this._closeHandlerParam.contentDom;b.setAttribute(AdfDhtmlPopupWindow.__CANCELED_EXPANDO,!0);b.setAttribute(AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO,a?!0:!1);if(a&&AdfFocusUtils.containsFocus(this.getElement())){a=this.getPopupClientId();a=AdfDhtmlPopupWindow._createFocusPagePropertyKey(a);var b=AdfPage.PAGE,d=b.getActiveDomElement();d&&d.id&&b.setPageProperty(a,d.id)}AdfDhtmlPopupWindow.superclass.cancel.call(this)};
AdfDhtmlPopupWindow._createFocusPagePropertyKey=function(a){AdfAssert.assertString(a);return a.split(":").join("$")+"$restoreFocus"};
AdfDhtmlPopupWindow.prototype._restoreFocus=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE,d={},e,f=this.getElement();if(a.getPlatform()==AdfAgent.IE_PLATFORM&&!(this instanceof AdfDhtmlSimpleFloat)){var g=b.getDomWindow().event;g&&(g=a.getEventTarget(g))&&(AdfFocusUtils.isFocusable(g)&&!AdfDomUtils.isAncestorOrSelf(f,g))&&(e=g)}e||(e=this.getAlignElement());if(this._restoreFocusId&&(!e||!AdfFocusUtils.isFocusable(e,d)))e=a.getDomDocument().getElementById(this._restoreFocusId);if(!e||!AdfFocusUtils.isFocusable(e,
d))e=this.GetLaunchSourceElement();e?a.getPlatform()==AdfAgent.IE_PLATFORM?(a={},a.focusElement=e,a.popupElement=f,b.scheduleTimer(this,this._delayedCheckedFocus,a,10,{isSynchronized:!0})):AdfFocusUtils.isFocusable(e,d)?AdfFocusUtils.focusElement(e):AdfFocusUtils.focusNextTabStop(e):AdfFocusUtils.focusFirstDocumentTabStop()};
AdfDhtmlPopupWindow.prototype._delayedCheckedFocus=function(a){!AdfFocusUtils.isFocusable(AdfPage.PAGE.getActiveDomElement())&&!AdfDomUtils.isAncestorOrSelf(a.popupElement,a.focusElement)&&AdfFocusUtils.focusElement(a.focusElement)};AdfDhtmlPopupWindow.prototype.GetLaunchSourceElement=function(){var a=this._launchSourceId;return a?AdfAgent.AGENT.getElementById(a):null};AdfDhtmlPopupWindow.prototype.setContent=function(a){var b=this.GetContentParent();b.firstChild&&b.removeChild(b.firstChild);b.appendChild(a)};
AdfDhtmlPopupWindow.prototype.setAccessibleAttrs=function(a){};AdfDhtmlPopupWindow.prototype.removeAccessibleAttrs=function(){};AdfDhtmlPopupWindow.prototype.announceOpeningViaLiveRegion=function(a){};AdfDhtmlPopupWindow.prototype.getContent=function(){return this.GetContentParent().firstChild};AdfDhtmlPopupWindow.prototype.GetContentParent=function(){AdfAssert.failedInAbstractFunction()};AdfDhtmlPopupWindow.prototype.setCloseHandler=function(a){this._closeHandler=a};
AdfDhtmlPopupWindow.prototype.setCloseHandlerParam=function(a){this._closeHandlerParam=a};AdfDhtmlPopupWindow.prototype.isVisible=function(){return"none"!=this.getElement().style.display};AdfDhtmlPopupWindow.prototype.DoShow=function(a){AdfDhtmlPopupWindow.superclass.show.call(this);this.raiseToFront()};AdfDhtmlPopupWindow.prototype.CreateShadow=function(a){this.HasShadow()&&(!this._animationDuration||a)&&AdfDhtmlShadowDecorator.createShadowDecorator(this.getShadowAnchor(),this.getElement().parentNode)};
AdfDhtmlPopupWindow.prototype.HasShadow=function(){return!0};AdfDhtmlPopupWindow.prototype.shouldInvertPosition=function(){return!0};
AdfDhtmlPopupWindow.prototype.destroy=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE;this._unregisterEventHandlers();a.elementsRemoved(this.getElement());this._restoreFocusElement=null;null!=this._sizeTimeout&&(b.cancelTimer(this._sizeTimeout),delete this._sizeTimeout);a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&AdfDhtmlShadowDecorator.removeShadowDecorator(a);null!=this._positionManagerIndex&&b.getPositionManager().removeElement(this._positionManagerIndex);this.setAlignElement(null);
AdfDhtmlPopupWindow.superclass.destroy.call(this)};AdfDhtmlPopupWindow.prototype.isAnimating=function(){return this._animating||this._isOpening};AdfDhtmlPopupWindow.prototype.GetPositionManagerIndex=function(){return this._positionManagerIndex};
AdfDhtmlPopupWindow.prototype._handleKeyDown=function(a){var b=AdfAgent.AGENT,d=b.getEventTarget(a);if(a.keyCode==AdfKeyStroke.TAB_KEY){var e=this.getContent(),f=AdfFocusUtils.getFirstTabStop(e),g=AdfFocusUtils.getLastTabStop(e);a.shiftKey?d==f&&(AdfFocusUtils.focusPreviousTabStop(d,e),b.eatEvent(a)):g==d&&(AdfFocusUtils.focusNextTabStop(d,e),b.eatEvent(a))}a.keyCode==AdfKeyStroke.F6_KEY&&AdfDomUtils.isAncestorOrSelf(this.getElement(),d)&&this.HandleKeyNavigation(a)};
AdfDhtmlPopupWindow.prototype._handleKeyUp=function(a){var b=AdfAgent.AGENT,d=b.getKeyCode(a),e=b.getEventTarget(a);if(d==AdfKeyStroke.ESC_KEY&&this._closeOnEscape){var f=!1,g=this._launchSourceId;AdfDomUtils.isAncestorOrSelf(this.getElement(),e)?f=!0:g&&(b=b.getElementById(g))&&AdfDomUtils.isAncestorOrSelf(b,e)&&(f=!0);f&&this.HandleEscapeKey(a)}a.ctrlKey&&a.altKey&&d==AdfKeyStroke.W_KEY&&AdfDomUtils.isAncestorOrSelf(this.getElement(),e)&&this.HandleKeyNavigation(a)};
AdfDhtmlPopupWindow.prototype.HandleEscapeKey=function(a){this.cancel();AdfAgent.AGENT.eatEvent(a)};AdfDhtmlPopupWindow.prototype.HandleKeyNavigation=function(a){};
AdfDhtmlPopupWindow.prototype._size=function(a){if(null!=this._sizeTimeout){delete this._sizeTimeout;var b=this.getContent();this.DoResizeNotifyDom(b);var d=this.getElement(),b=d.style,e=this._maxWidth;e?b.width=Math.min(d.offsetWidth,e)+"px":(e=AdfAgent.AGENT,e.getPlatform()==AdfAgent.IE_PLATFORM&&8<e.getVersion()?b.width=d.offsetWidth+1+"px":b.width=d.offsetWidth+"px");null!=this._positionManagerIndex&&AdfPage.PAGE.getPositionManager().validatePosition(this._positionManagerIndex);d=this._animationDuration;
0<d?this.AnimateOpening(d,a):(b.visibility="",this.CreateShadow(),this.OpenedPopup(a))}};AdfDhtmlPopupWindow.prototype.AnimateOpening=function(a,b){this._animating=!0;var d=!1,e=!1,f=this.GetPositionManagerIndex();if(0<=f&&(f=AdfPage.PAGE.getPositionManager().getComputedBehavior(f)))d=f.horizontalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.RIGHT,e=f.verticalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.BOTTOM;this.AnimateUsingWrapper(a,d,e,b)};
AdfDhtmlPopupWindow.prototype.AnimateUsingWrapper=function(a,b,d,e){var f=this.getElement(),g=f.ownerDocument.createElement("div");g.setAttribute(AdfDhtmlPopupWindow._ANIMATE_WRAPPER_EXPANDO,!0);var h=g.style,k=f.style,l=f.offsetHeight,m=f.offsetWidth,n=parseInt(k.left),p=parseInt(k.top);h.left=b?n+m-1+"px":k.left;h.top=d?p+l+1+"px":k.top;h.overflow="hidden";h.position="absolute";h.height="1px";h.width="1px";k.left=k.top="0px";h.zIndex=k.zIndex;this.SaveScrollValues(f);f.parentNode.replaceChild(g,
f);g.appendChild(f);k.visibility="";h={height:l,width:m};d&&(h.top=p);b&&(h.left=n);AdfPage.PAGE.prepareMaskingFrame(f);AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,a,[{element:g,properties:h}],null,AdfDhtmlPopupWindow.AnimationComplete,{wrapper:g,myself:this,hints:e})};AdfDhtmlPopupWindow._restoreRootPostAnimation=function(a){var b=a.style,d=a.firstChild,e=d.style;e.right=b.right;e.left=b.left;e.top=b.top;a.parentNode.replaceChild(d,a)};
AdfDhtmlPopupWindow.AnimationComplete=function(a){var b=a.wrapper,d=a.myself;a=a.hints;d._animating&&(delete d._animator,AdfDhtmlPopupWindow._restoreRootPostAnimation(b),d.CreateShadow(!0),d.OpenedPopup(a),AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM?AdfPage.PAGE.scheduleTimer(d,d.createCallback(d._toggleOffAnimating),null,1,{isSynchronized:!0}):d._toggleOffAnimating())};AdfDhtmlPopupWindow.prototype.GetAnimationDuration=function(){return this._animationDuration};
AdfDhtmlPopupWindow.prototype.GetAnimationDurationSkinProperty=function(a){return null};AdfDhtmlPopupWindow.prototype.GetAnimateSkinProperty=function(){return null};
AdfDhtmlPopupWindow.prototype.autoSize=function(){var a=this._isOpening;if(this.isVisible()&&!a){var a=this.getElement(),b=a.style;b.width="auto";var d=this._maxWidth;b.width=d?Math.min(a.offsetWidth,d)+"px":a.offsetWidth+"px";a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,!0))}};
AdfDhtmlPopupWindow.prototype.FocusOnFirstElement=function(a){var b=this.GetFocusOnOpen();if(a||b){b=this.GetFocusContent();a=AdfFocusUtils.getFirstTabStop(b);if(!a){var d=this.getElement();d!=b&&(a=AdfFocusUtils.getFirstTabStop(d));a||(b.tabIndex=0,a=b)}a&&(b=AdfAgent.AGENT,AdfAgent.IE_PLATFORM==b.getPlatform()&&8==b.getVersion()?AdfFocusUtils.focusElementDelayed(a,1E3):AdfFocusUtils.focusElement(a))}};AdfDhtmlPopupWindow.prototype.GetFocusContent=function(){return this.getElement()};
AdfDhtmlPopupWindow.prototype.Position=function(a){var b=AdfPage.PAGE.getPositionManager(),d=this._positionManagerIndex;d&&(b.removeElement(d),delete this._positionManagerIndex);this._positionManagerIndex=b.addFloatingElement(this,a)};AdfDhtmlPopupWindow.prototype._positionAtMousePointer=function(a){this._positionManagerIndex=AdfPage.PAGE.getPositionManager().addFloatingElementByPosition(this,a)};AdfDhtmlPopupWindow.prototype.DoResizeNotifyDom=function(a){AdfPage.PAGE.doResizeNotifyDom(a,!1)};
AdfDhtmlPopupWindow.prototype.SaveScrollValues=function(a){a=a.getElementsByTagName("*");for(var b=a.length,d=0;d<b;d++){var e=a[d],f=e.scrollTop;0<f&&e.setAttribute(AdfDhtmlPopupWindow._SCROLL_POSITION_EXPANDO,f)}};AdfDhtmlPopupWindow.prototype.RestoreScrollValues=function(a){a=a.getElementsByTagName("*");for(var b=a.length,d=0;d<b;d++){var e=a[d],f=e.getAttribute(AdfDhtmlPopupWindow._SCROLL_POSITION_EXPANDO);f&&0<f&&AdfDomUtils.setScrollTop(e,f)}};
AdfDhtmlPopupWindow.prototype.getLaunchSourceId=function(){return this._launchSourceId};AdfDhtmlPopupWindow.prototype.GetFocusOnOpen=function(){return this._focusHint?!0:!1};AdfDhtmlPopupWindow.prototype.SetFocusOnOpen=function(a){this._focusHint=a};AdfDhtmlPopupWindow.prototype._announce=function(a){var b=AdfPage.PAGE;a=b.getLookAndFeel().getTranslatedString(a);b.announceToAssistiveTechnology(a)};AdfDhtmlPopupWindow.prototype.GetMaxWidth=function(){return this._maxWidth};
AdfDhtmlPopupWindow.isAncestorOrSelf=function(a,b){for(var d=AdfAgent.AGENT;b;){if(a==b)return!0;1==b.nodeType&&b.hasAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO)?(popupId=b.getAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO),b=d.getElementById(popupId)):b=b.parentNode}return!1};AdfDhtmlPopupWindow.prototype.ImmediateZorderRegistration=function(){return!1};AdfDhtmlPopupWindow.prototype.getZorderScope=function(){return this._zorderScope};
AdfDhtmlPopupWindow.prototype.setRestoreFocusId=function(a){this._restoreFocusId=a};AdfDhtmlPopupWindow.prototype.addOpenedHandler=function(a,b){AdfAssert.assertFunction(a,"popup opened handler");AdfAssert.assertObjectOrNull(b,"popup opened handler function params");var d=this._openedHandlers;d||(d=this._openedHandlers=[]);var e=this._openedHandlerParams;e||(e=this._openedHandlerParams=[]);d.push(a);e.push(b)};
function AdfDhtmlSimpleFloat(){this.Init()}AdfObject.createSubclass(AdfDhtmlSimpleFloat,AdfDhtmlPopupWindow);AdfDhtmlSimpleFloat.InitClass=function(){this._DRAG_STYLECLASS="p_AFDrag";this._INACTIVE_STYLECLASS="p_AFInactive";this._CONTENT_ID="contentContainer";this._BACKGROUND_EXPANDO="data-afr-panelwindowbackground";this._TITLE_ID="_ttxt";this._POPUP_INITIAL_FOCUS_LIVE_CONTENT_ID="AFPopupInitialFocusLiveContent"};AdfDhtmlSimpleFloat.prototype.Init=function(){AdfDhtmlSimpleFloat.superclass.Init.call(this)};
AdfDhtmlSimpleFloat.prototype.getContainedComponentClientId=function(){return this._containedComponentId};
AdfDhtmlSimpleFloat.prototype.GetFocusContent=function(){var a=AdfAgent.AGENT;if(a.getDomWindow().AdfSafariMobileAgent&&a instanceof AdfSafariMobileAgent)return AdfDhtmlSimpleFloat.superclass.GetFocusContent.call(this);var a=this._getContainedComponentPeer(),b=AdfRichUIPeer.CreateSubId(a.getComponent().getClientId(),AdfDhtmlSimpleFloat._CONTENT_ID);if((b=AdfAgent.AGENT.getElementById(b))&&AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM)b.tabIndex=-1;b&&(b=AdfFocusUtils.containsFocus(b)?AdfPage.PAGE.getActiveDomElement():
AdfFocusUtils.getFirstTabStop(b));b||(a instanceof AdfDhtmlDialogPeer&&(b=a.getDefaultButtonDom(this.getContainedComponentClientId())),b||(b=a.getDomElement()));return b};AdfDhtmlSimpleFloat.prototype.setContent=function(a){AdfDhtmlSimpleFloat.superclass.setContent.call(this,a);a=this._getMainElement(a);this.setShadowAnchor(a);this._containedComponentId=AdfRichUIPeer.getFirstAncestorComponent(a).getClientId()};
AdfDhtmlSimpleFloat.prototype.setAccessibleAttrs=function(a){var b=this.getElement(),d=this._getContainedComponentPeer(),e=AdfRichUIPeer.CreateSubId(d.getComponent().getClientId(),AdfDhtmlSimpleFloat._CONTENT_ID),d=AdfRichUIPeer.CreateSubId(d.getComponent().getClientId(),AdfDhtmlSimpleFloat._TITLE_ID);b.setAttribute("role","dialog");b.setAttribute("aria-describedby",e);b.setAttribute("aria-labelledby",d);a[AdfDhtmlPopupHints.MODAL]&&b.setAttribute("aria-modal","true")};
AdfDhtmlSimpleFloat.prototype.announceOpeningViaLiveRegion=function(a){if(a&&!a[AdfDhtmlPopupHints.FOCUS]){a=AdfPage.PAGE.getLookAndFeel();var b=AdfPage.PAGE.getDocumentClientId(),b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID),b=AdfAgent.AGENT.getElementById(b),d=AdfPage.PAGE.getDomWindow().AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent?"af_panelWindow.INITIAL_FOCUS_LIVE_TEXT_MOBILE":"af_panelWindow.INITIAL_FOCUS_LIVE_TEXT";a=a.getTranslatedString(d);
AdfAgent.AGENT.setTextContent(b,a)}};AdfDhtmlSimpleFloat.prototype.removeAccessibleAttrs=function(){var a=AdfPage.PAGE.getDocumentClientId(),a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID);(a=AdfAgent.AGENT.getElementById(a))&&AdfAgent.AGENT.setTextContent(a,"")};AdfDhtmlSimpleFloat.prototype._getMainElement=function(a){a=a.getElementsByTagName("table")[0];AdfAssert.assert(a,"Main Element of floating window must be a table");return a};
AdfDhtmlSimpleFloat.prototype.setDragElement=function(a){this._dragElement=a;this._repositionable&&(this._repositionable.destroy(),delete this._repositionable)};AdfDhtmlSimpleFloat.prototype.getModal=function(a){return this._modal};AdfDhtmlSimpleFloat.prototype.setModal=function(a){this._modal=a};AdfDhtmlSimpleFloat.prototype.getInitialFocus=function(a){return this._initialFocus};AdfDhtmlSimpleFloat.prototype.setInitialFocus=function(a){this._initialFocus=a};
AdfDhtmlSimpleFloat.prototype.activate=function(){this.raiseToFront();this.showAsActive();var a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&AdfDhtmlShadowDecorator.moveShadowDecorator(a);!AdfFocusUtils.containsFocus(this.GetFocusContent())&&!AdfFocusUtils.isFocusChangePending()&&this.FocusOnFirstElement(!0)};
AdfDhtmlSimpleFloat.prototype.showAsActive=function(){for(var a=this._getContainedComponentDomElement(),b=a.childNodes,d=b.length,e=0;e<d;e++){var f=b[e],g=f.style;null!=f.getAttribute(AdfDhtmlSimpleFloat._BACKGROUND_EXPANDO)&&(g.display="none")}AdfDomUtils.removeCSSClassName(a,AdfDhtmlSimpleFloat._INACTIVE_STYLECLASS);this.raiseToFront();a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,
!0))};
AdfDhtmlSimpleFloat.prototype.showAsInActive=function(){for(var a=this.getElement().style.zIndex,b=this._getContainedComponentDomElement(),d=b.offsetWidth,e=b.offsetHeight,f=b.childNodes,g=f.length,h=0,k=0;h<g;h++){var l=f[h],m=l.style;null!=l.getAttribute(AdfDhtmlSimpleFloat._BACKGROUND_EXPANDO)?(m.zIndex=a-1,m.marginLeft=k+"px",m.marginTop=3-k+"px",m.width=Math.max(0,d-2-2*k)+"px",m.height=Math.max(0,e-2-2*(3-k))+"px",m.display="block",k++):m.zIndex=a}AdfDomUtils.addCSSClassName(b,AdfDhtmlSimpleFloat._INACTIVE_STYLECLASS);a=
this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,!0))};
AdfDhtmlSimpleFloat.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument().createElement("div"),d=b;if(this.NeedsCloseLink()){var d=a.getDomDocument(),e=d.createElement("div");b.appendChild(e);a=a.getLookAndFeel().getTranslatedString("af_popup.TIP_DISMISS");e.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-999px;" onclick\x3d"var popupDiv \x3d this.parentNode.parentNode;var contentDiv \x3d AdfDomUtils.getChildElements(popupDiv)[1];var label \x3d popupDiv.getAttribute(\'aria-labelledby\');var compId \x3d label.split(\'::\')[0];var comp \x3d AdfPage.PAGE.findComponentByAbsoluteId(compId);var peer \x3d comp.getPeer();peer.bind(comp);peer.Cancel();"\x3e'+a+
"\x3c/a\x3e";a=d.createElement("div");b.appendChild(a);d=a}this.SetContentParent(d);return b};AdfDhtmlSimpleFloat.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlSimpleFloat.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlSimpleFloat.prototype.GetAnimationDurationSkinProperty=function(){var a=this._getContainedComponentPeer();AdfAssert.assertPrototype(a,AdfRichUIPeer);return a.getAnimationDurationSkinProperty()};
AdfDhtmlSimpleFloat.prototype.GetAnimateSkinProperty=function(){var a=this._getContainedComponentPeer();AdfAssert.assertPrototype(a,AdfRichUIPeer);return a.getAnimateSkinProperty()};AdfDhtmlSimpleFloat.prototype.ShouldHideOnClip=function(){return!1};AdfDhtmlSimpleFloat.prototype.handleComponentRemoved=function(){this._bindInited&&(AdfDhtmlShadowDecorator.removeShadowDecorator(this.getShadowAnchor()),this._repositionable&&(this._repositionable.destroy(),delete this._repositionable))};
AdfDhtmlSimpleFloat.prototype.handleBindToComponent=function(){if(!this._repositionable){this.setShadowAnchor(this._getMainElement(this.getContent()));var a=!this.isAnimating();a&&this.CreateShadow(a);if(a=AdfPage.PAGE.findComponent(this._containedComponentId)){var b=a.getPeer();b.bind(a);this.setDragElement(b.getDragElement());this.initializeRepositionable()}}};
AdfDhtmlSimpleFloat.prototype.initializeRepositionable=function(){if(!this._repositionable){var a=this._repositionable=new AdfRepositionable(this,this._dragElement);a.setDragStartHandler(this._dragStartHandler);a.setDragEndHandler(this._dragEndHandler)}};AdfDhtmlSimpleFloat.prototype.HandleEscapeKey=function(a){var b=this._getContainedComponentPeer();b&&b.handleEscapeKey?b.handleEscapeKey(a):AdfDhtmlSimpleFloat.superclass.HandleEscapeKey.call(this.event)};
AdfDhtmlSimpleFloat.prototype.DoShow=function(a){this._bindInited||(this._bindInited=!0,this.handleBindToComponent());this.setDragElement(a[AdfDhtmlPopupHints.DRAG_ELEMENT]);this.setModal(a[AdfDhtmlPopupHints.MODAL]);var b=AdfDhtmlDialogManager.getInstance();b.registerDialog(this);var d=a[AdfDhtmlPopupHints.LEFT_POSITION];d&&isNaN(d)&&(d=parseFloat(d));this._leftPercentage=d;(d=a[AdfDhtmlPopupHints.TOP_POSITION])&&isNaN(d)&&(d=parseFloat(d));this._topPercentage=d;AdfDhtmlSimpleFloat.superclass.DoShow.call(this,
a);this._dragElement&&this.initializeRepositionable();(d=this._modal)&&AdfPage.PAGE.getModalityManager().pushModal(this.getElement());a[AdfDhtmlPopupHints.FOCUS]&&b.activateDialog(this);d&&(a[AdfDhtmlPopupHints.RESTORE_IMMEDIATE]&&AdfDhtmlSimpleFloat._isMessageDialogVisible())&&(a=this.getZorderScope(),AdfDhtmlPopupHints.ZORDER_SCOPE_BODY!=a&&AdfPage.PAGE.showMessages())};
AdfDhtmlSimpleFloat._isMessageDialogVisible=function(){var a=AdfPage.PAGE,b=a.getDefaultMessageHandlerComponentId(),a=a.findComponent(b),a=a.getPeer().getAllPopups(a),b=0;for(i in a)b++;return 0<b};AdfDhtmlSimpleFloat.prototype.destroy=function(){AdfDhtmlDialogManager.getInstance().unregisterDialog(this);var a=AdfPage.PAGE;this._modal&&a.getModalityManager().popModal(this.getElement());this._repositionable&&(this._repositionable.destroy(),delete this._repositionable);AdfDhtmlSimpleFloat.superclass.destroy.call(this)};
AdfDhtmlSimpleFloat.prototype._getContainedComponentPeer=function(){var a=null;if(null!=this._containedComponentId){var b=AdfPage.PAGE.findComponent(this._containedComponentId);null!=b&&(a=b.getPeer(),a.bind(b))}return a};AdfDhtmlSimpleFloat.prototype._getContainedComponentDomElement=function(){var a=this._getContainedComponentPeer();return null!=a?a.getDomElement():null};
AdfDhtmlSimpleFloat.prototype._dragStartHandler=function(){var a=this._getContainedComponentDomElement();AdfDomUtils.addCSSClassName(a,AdfDhtmlSimpleFloat._DRAG_STYLECLASS);AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.showShadowDecorator(this.getShadowAnchor(),!1);this._isDragging=!0;this.getAlignElement()&&(this.setAlignElement(null),this.Position(AdfRichPopup.ALIGN_OVERLAP))};
AdfDhtmlSimpleFloat.prototype._dragEndHandler=function(){var a=this._getContainedComponentDomElement();AdfDomUtils.removeCSSClassName(a,AdfDhtmlSimpleFloat._DRAG_STYLECLASS);AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.showShadowDecorator(this.getShadowAnchor(),!0);delete this._isDragging;this.setPosition(this.getTop(),this.getLeft())};
AdfDhtmlSimpleFloat.prototype.handleActivate=function(a){var b=AdfDhtmlDialogManager.getInstance();return b.getActiveDialog()==this?!1:b.activateDialog(this)?(a&&this.FocusOnFirstElement(),!0):!1};AdfDhtmlSimpleFloat.prototype.isAnimating=function(){return this._isDragging?!0:AdfDhtmlSimpleFloat.superclass.isAnimating.call(this)};AdfDhtmlSimpleFloat.prototype.setDragging=function(a){this._isDragging=a};
AdfDhtmlSimpleFloat.prototype.setShadowVisibility=function(a){var b=this.getShadowAnchor();a?AdfDhtmlShadowDecorator.hasShadowDecorator(b)||AdfDhtmlShadowDecorator.createShadowDecorator(b,this.getElement().parentNode):AdfDhtmlShadowDecorator.hasShadowDecorator(b)&&AdfDhtmlShadowDecorator.removeShadowDecorator(this.getShadowAnchor())};
AdfDhtmlSimpleFloat.prototype.getAlignPosition=function(){if(this.getAlignElement())return null;var a=AdfAgent.AGENT,b=AdfPage.PAGE.getLocaleContext().isRightToLeft(),d=a.getWindowHeight(),e=a.getWindowWidth(),f=a.getBrowserViewportScrollTop(),g=a.getBrowserViewportScrollLeft();0<f&&a.getPlatform()==AdfAgent.GECKO_PLATFORM&&(d=Math.min(d,a.getDomDocument().body.clientHeight));var a=this.getWidth(),h=this.getHeight(),k=this._topPercentage,l=this._leftPercentage;l||(l=0.5);k||(k=0.5);b=b?-1:1;k=Math.max(0,
Math.round(d*k-h/2))+f;l=Math.max(0,Math.round(e*l-b*(a/2)))+b*g;d=d+f-(k+h);0>d&&(k=Math.max(f,k+d));e=e+g-(l+b*a);0>e&&(l=Math.max(g,l+e));g={y:k,x:l};this.setAlignPosition(g);return g};
AdfDhtmlSimpleFloat.prototype.setPosition=function(a,b){if(this.getAlignElement())AdfDhtmlSimpleFloat.superclass.setPosition.call(this,a,b);else if(this.isAnimating()){var d=AdfAgent.AGENT,e=d.getWindowHeight(),f=d.getWindowWidth(),g=d.getBrowserViewportScrollTop(),h=d.getBrowserViewportScrollLeft();0<g&&d.getPlatform()==AdfAgent.GECKO_PLATFORM&&(e=Math.min(e,d.getDomDocument().body.clientHeight));var k=this.getHeight(),d=this.getWidth(),l=0;e>k&&(l=(a-g+k/2)/e);e=0;f>d&&(e=(b-h+d/2)/f);!isNaN(l)&&
(!isNaN(e)&&1>l&&1>e)&&(this._topPercentage=l,this._leftPercentage=e,AdfDhtmlSimpleFloat.superclass.setPosition.call(this,0==l?g:a,0==e?h:b))}else{f=this.getPopupClientId();AdfAssert.assertString(f);if((f=AdfPage.PAGE.findComponent(f))&&f instanceof AdfRichPopup)g={},g[AdfDhtmlPopupHints.LEFT_POSITION]=this._leftPercentage,g[AdfDhtmlPopupHints.TOP_POSITION]=this._topPercentage,g[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_OVERLAP,g[AdfRichPopup.HINT_ALIGN_ID]="",f.getPeer().syncPrivateProperties(f,
g,!0);AdfDhtmlSimpleFloat.superclass.setPosition.call(this,a,b)}};AdfDhtmlSimpleFloat.prototype.getFirstTabStop=function(){return this.GetFocusContent()};
function AdfDhtmlPopupSelector(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupSelector,AdfDhtmlPopupWindow);
AdfDhtmlPopupSelector.InitClass=function(){this._STYLECLASS="AFPopupSelector";this._HEADER_STYLECLASS="AFPopupSelectorHeader";this._HEADER_START_STYLECLASS="AFPopupSelectorHeaderStart";this._HEADER_END_STYLECLASS="AFPopupSelectorHeaderEnd";this._CONTENT_STYLECLASS="AFPopupSelectorContent";this._CONTENT_START_STYLECLASS="AFPopupSelectorContentStart";this._CONTENT_END_STYLECLASS="AFPopupSelectorContentEnd";this._FOOTER_STYLECLASS="AFPopupSelectorFooter";this._FOOTER_START_STYLECLASS="AFPopupSelectorFooterStart";
this._FOOTER_END_STYLECLASS="AFPopupSelectorFooterEnd";this._POPUP_LIVE_CONTENT_ID="AFPopupLiveContent"};AdfDhtmlPopupSelector.prototype.Init=function(){AdfDhtmlPopupSelector.superclass.Init.call(this)};
AdfDhtmlPopupSelector.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument(),d=b.createElement("div"),a=a.getLookAndFeel(),e=this.CreateTable(3,3);e.cellPadding=0;e.cellSpacing=0;e.setAttribute("role","presentation");d.appendChild(e);e=e.getElementsByTagName("td");e[1].innerHTML="\x26#160;";var f=e[4];if(this.NeedsCloseLink()){f=b.createElement("div");e[4].appendChild(f);var g=a.getTranslatedString("af_popup.TIP_DISMISS");f.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-999px;" onclick\x3d"AdfPage.PAGE.getAutoDismissalManager().dismiss(this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode)"\x3e'+
g+"\x3c/a\x3e";f=b.createElement("div");e[4].appendChild(f)}e[3].innerHTML="\x26#160;";e[5].innerHTML="\x26#160;";e[7].innerHTML="\x26#160;";this.SetContentParent(f);b=AdfDhtmlPopupSelector;AdfDomUtils.addCSSClassName(d,a.getStyleClass(AdfDhtmlPopupSelector._STYLECLASS));AdfDomUtils.addCSSClassName(e[0],a.getStyleClass(b._HEADER_START_STYLECLASS));AdfDomUtils.addCSSClassName(e[1],a.getStyleClass(b._HEADER_STYLECLASS));AdfDomUtils.addCSSClassName(e[2],a.getStyleClass(b._HEADER_END_STYLECLASS));AdfDomUtils.addCSSClassName(e[3],
a.getStyleClass(b._CONTENT_START_STYLECLASS));AdfDomUtils.addCSSClassName(e[4],a.getStyleClass(b._CONTENT_STYLECLASS));AdfDomUtils.addCSSClassName(e[5],a.getStyleClass(b._CONTENT_END_STYLECLASS));AdfDomUtils.addCSSClassName(e[6],a.getStyleClass(b._FOOTER_START_STYLECLASS));AdfDomUtils.addCSSClassName(e[7],a.getStyleClass(b._FOOTER_STYLECLASS));AdfDomUtils.addCSSClassName(e[8],a.getStyleClass(b._FOOTER_END_STYLECLASS));return d};
AdfDhtmlPopupSelector.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlPopupSelector.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupSelector.prototype.GetAnimationDurationSkinProperty=function(){return".AFPopupSelector-tr-open-animation-duration"};AdfDhtmlPopupSelector.prototype.GetAnimateSkinProperty=function(){return".AFPopupSelector-tr-animate"};
AdfDhtmlPopupSelector.prototype.setAccessibleAttrs=function(a){var b=this.getElement();b.setAttribute("role","dialog");(a=a[AdfDhtmlPopupHints.ARIA_LABEL])&&b.setAttribute("aria-label",a)};
AdfDhtmlPopupSelector.prototype.show=function(a){if(a&&a[AdfDhtmlPopupHints.ALIGN]&&!a[AdfDhtmlPopupHints.ALIGN_ELEMENT]){var b=a[AdfRichPopup.HINT_LAUNCH_ID];b&&(a[AdfRichPopup.HINT_ALIGN_ID]=b,a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=AdfAgent.AGENT.getElementById(b))}a&&(a[AdfDhtmlPopupHints.ALIGN_ELEMENT]&&!a[AdfDhtmlPopupHints.ALIGN])&&(a[AdfDhtmlPopupHints.ALIGN]=AdfRichPopup.ALIGN_AFTER_START);AdfDhtmlPopupSelector.superclass.show.call(this,a)};
function AdfInputComboboxListOfValuesWindow(){this.Init()}AdfObject.createSubclass(AdfInputComboboxListOfValuesWindow,AdfDhtmlPopupSelector);AdfInputComboboxListOfValuesWindow.InitClass=function(){this._STYLECLASS="af|inputComboboxListOfValues::dropdown-popup";this._CONTENT_STYLECLASS="af|inputComboboxListOfValues::dropdown-popup-content";this._DROPDOWN_CONTENT_ID="_afrDropDownContent";this._POPUP_SEARCH_SUBID="_afrPopupSearch";this._STRETCH_DROPDOWN_TABLE="af|inputComboboxListOfValues-tr-stretch-dropdown-table"};
AdfInputComboboxListOfValuesWindow.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getLookAndFeel(),d=a.getDomDocument(),a=d.createElement("div");AdfDomUtils.addCSSClassName(a,b.getStyleClass(AdfInputComboboxListOfValuesWindow._STYLECLASS));d=d.createElement("div");AdfDomUtils.addCSSClassName(d,b.getStyleClass(AdfInputComboboxListOfValuesWindow._CONTENT_STYLECLASS));a.appendChild(d);this.SetContentParent(d);return a};
AdfInputComboboxListOfValuesWindow.prototype.DoShow=function(a){AdfInputComboboxListOfValuesWindow.superclass.DoShow.call(this,a);var b=a=a[AdfDhtmlPopupHints.ALIGN_ELEMENT];AdfAssert.assertDomNode(b,"input combobox list of values popup alignment element");"INPUT"==b.tagName&&(a=b.parentNode);AdfAssert.assertDomElement(a,"SPAN");a=Math.max(100,a.offsetWidth-2);var b=this.getPopupClientId(),d=AdfPage.PAGE.findComponent(b).getParent().getClientId();AdfAssert.assertString(d,"input combobox list of values id");
if(b=AdfPage.PAGE.findComponent(d+AdfInputComboboxListOfValuesWindow._DROPDOWN_CONTENT_ID))d=AdfPage.PAGE.getLookAndFeel().getSkinProperty(AdfInputComboboxListOfValuesWindow._STRETCH_DROPDOWN_TABLE),AdfAssert.assertPrototype(b,AdfUIComponent),d&&"true"==d?b.getPeer().setInlineStyleProperty(b,"min-width",a+"px"):b.getPeer().setInlineStyleProperty(b,"width",a+"px"),AdfPage.PAGE.doResizeNotify(b);else if(b=AdfPage.PAGE.findComponent(d+AdfInputComboboxListOfValuesWindow._POPUP_SEARCH_SUBID))AdfAssert.assertPrototype(b,
AdfUIComponent),b.getPeer().setInlineStyleProperty(b,"width",a+"px")};AdfInputComboboxListOfValuesWindow.prototype.ShouldHideOnClip=function(){return!1};
function AdfDhtmlNoteWindowPopupSelector(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlNoteWindowPopupSelector,AdfDhtmlPopupSelector);
AdfDhtmlNoteWindowPopupSelector.InitClass=function(){this._STYLE_CLASS="AFNoteWindow";this._RIGHT_STYLE_CLASS="AFNoteWindowRight";this._CONE_STYLE_CLASS="AFNoteWindowCone";this._CONE_STYLE_CLASS_TR="AFNoteWindowConeTR";this._CONE_STYLE_CLASS_BR="AFNoteWindowConeBR";this._CONE_STYLE_CLASS_BL="AFNoteWindowConeBL";this._CONE_BORDER_STYLE_CLASS="AFNoteWindowConeBorder";this._CONE_BORDER_RIGHT_STYLE_CLASS="AFNoteWindowConeBorderRight";this._CONTENT_STYLE_CLASS="AFNoteWindowContent";this._CONTENT_END_ID=
"endContent"};AdfDhtmlNoteWindowPopupSelector.prototype.Init=function(a){AdfDhtmlNoteWindowPopupSelector.superclass.Init.call(this);this._autoDismissType=a;this.setShadowAnchor(this.GetContentParent())};AdfDhtmlNoteWindowPopupSelector.prototype.setAccessibleAttrs=function(a){var b=this.getElement();b.setAttribute("role","tooltip");var d=null;if(a&&(d=a[AdfRichPopup.HINT_LAUNCH_ID]))(a=AdfAgent.AGENT.getElementById(d))&&a.setAttribute("aria-describedby",b.id)};
AdfDhtmlNoteWindowPopupSelector.prototype.announceOpeningViaLiveRegion=function(a){a=AdfPage.PAGE.getLookAndFeel();var b=AdfPage.PAGE.getDocumentClientId(),b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID),b=AdfAgent.AGENT.getElementById(b),d=AdfPage.PAGE.getDomWindow().AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent?"AFTooltipLiveTextMobile":"AFTooltipLiveText";a=a.getTranslatedString(d);AdfAgent.AGENT.setTextContent(b,a)};
AdfDhtmlNoteWindowPopupSelector.prototype.removeAccessibleAttrs=function(){var a=this.getLaunchSourceId();a&&(a=AdfAgent.AGENT.getElementById(a))&&a.removeAttribute("aria-describedby");a=AdfPage.PAGE.getDocumentClientId();a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID);a=AdfAgent.AGENT.getElementById(a);AdfAgent.AGENT.setTextContent(a,"")};
AdfDhtmlNoteWindowPopupSelector.prototype.show=function(a){var b=null;a&&(b=a[AdfRichPopup.HINT_LAUNCH_ID]);b&&null==AdfAgent.AGENT.getElementById(b)&&(AdfLogger.LOGGER.warning("Attempting to show noteWindow but lauch element is not present."),b=a[AdfRichPopup.HINT_LAUNCH_ID]=null);if(b&&(a[AdfDhtmlPopupHints.ALIGN_ELEMENT]||(a[AdfRichPopup.HINT_ALIGN_ID]=b,a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=AdfAgent.AGENT.getElementById(b)),b=AdfPage.PAGE.findComponent(b)))b.addEventListener(AdfUIInputEvent.KEY_UP_EVENT_TYPE,
this._launchSourceHandleComponentKeyUp,this),b.addEventListener(AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,this._launchSourceHandleComponentKeyDown,this);AdfDhtmlNoteWindowPopupSelector.superclass.show.call(this,a)};
AdfDhtmlNoteWindowPopupSelector.prototype.hide=function(){var a=AdfPage.PAGE,b=this.getLaunchSourceId();if(b&&(a=a.findComponent(b)))a.removeEventListener(AdfUIInputEvent.KEY_UP_EVENT_TYPE,this._launchSourceHandleComponentKeyUp,this),a.removeEventListener(AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,this._launchSourceHandleComponentKeyDown,this);AdfDhtmlNoteWindowPopupSelector.superclass.hide.call(this)};
AdfDhtmlNoteWindowPopupSelector.createTextDom=function(a){var b=null;0==a.indexOf("\x3chtml\x3e")&&a.lastIndexOf("\x3c/html\x3e")==a.length-7?b=AdfDomUtils.cleanHtml(AdfPage.PAGE.getDocument(),a.substring(6,a.length-7)):(b=AdfPage.PAGE.getDocument().createElement("div"),AdfAgent.AGENT.setTextContent(b,a));return b};
AdfDhtmlNoteWindowPopupSelector.prototype.CreateDomElement=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE,d=b.getDomDocument(),e=d.createElement("div"),f=this.CreateTable(1,3);f.setAttribute("role","presentation");e.appendChild(f);var f=f.rows[0].cells,g=f[0],h=f[2];g.onclick=h.onclick=this.createCallback(this._onClickConeCell);a.addBubbleEventListener(g,"focusin",AdfAgent.eatEventCallback);a.addBubbleEventListener(g,"focus",AdfAgent.eatEventCallback);a.addBubbleEventListener(h,"focusin",AdfAgent.eatEventCallback);
a.addBubbleEventListener(h,"focus",AdfAgent.eatEventCallback);this._autoDismissType==AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT&&(g.onmouseover=h.onmouseover=this.createCallback(this._onMouseOverConeCell),g.onmouseout=h.onmouseout=this.createCallback(this._onMouseOutConeCell));a=f[1];this.NeedsCloseLink()&&(a=d.createElement("div"),f[1].appendChild(a),b=b.getLookAndFeel().getTranslatedString("af_popup.TIP_DISMISS"),a.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-999px;" onclick\x3d"AdfPage.PAGE.getAutoDismissalManager().dismiss(this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode)"\x3e'+
b+"\x3c/a\x3e",b=d.createElement("div"),f[1].appendChild(b),a=b);f[2].className="";f[2].innerHTML="\x26#160;";f[1].className=AdfDhtmlNoteWindowPopupSelector._STYLE_CLASS;f[0].className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_STYLE_CLASS;this._coneElement=d.createElement("div");this.SetContentParent(a);return e};AdfDhtmlNoteWindowPopupSelector.prototype.GetAnimationDurationSkinProperty=function(){return".AFNoteWindow-tr-open-animation-duration"};
AdfDhtmlNoteWindowPopupSelector.prototype.GetAnimateSkinProperty=function(){return".AFNoteWindow-tr-animate"};
AdfDhtmlNoteWindowPopupSelector.prototype.setPosition=function(a,b){var d=this.GetPositionManagerIndex();if(0<=d&&(d=AdfPage.PAGE.getPositionManager().getComputedBehavior(d))){var e=d.verticalBehavior.floatingElementAnchor,f=d.horizontalBehavior.floatingElementAnchor,d=this.GetContentParent().parentNode.parentNode.parentNode,d="TABLE"==d.tagName?d.rows[0].cells:d.parentNode.rows[0].cells,g=d[1],f=f==AdfDhtmlPositionManager.RIGHT,e=e==AdfDhtmlPositionManager.BOTTOM,h=0,k=2;AdfPage.PAGE.getLocaleContext().isRightToLeft()?
(h=d[2],k=d[0]):(h=d[0],k=d[2]);f?(h.className="",h.innerHTML="\x26#160;",g.className=AdfDhtmlNoteWindowPopupSelector._RIGHT_STYLE_CLASS,k.className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_RIGHT_STYLE_CLASS,k.style.verticalAlign=e?"bottom":"top",this._coneElement.className=e?AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_BR:AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_TR,k.innerHTML="",k.appendChild(this._coneElement)):(k.className="",k.innerHTML="\x26#160;",g.className=AdfDhtmlNoteWindowPopupSelector._STYLE_CLASS,
h.className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_STYLE_CLASS,h.style.verticalAlign=e?"bottom":"top",this._coneElement.className=e?AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_BL:AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS,h.innerHTML="",h.appendChild(this._coneElement))}AdfDhtmlNoteWindowPopupSelector.superclass.setPosition.call(this,a,b)};
AdfDhtmlNoteWindowPopupSelector.prototype._onClickConeCell=function(a){var b=AdfAgent.AGENT;a=a||b.getDomWindow().event;var d=b.getMousePosition(a);AdfPage.PAGE.getAutoDismissalManager().dismiss(this.getElement().parentNode);var e=AdfPage.PAGE.getDocument();if(d=e.elementFromPoint?e.elementFromPoint(d.x,d.y):b.elementFromPagePoint(d.x,d.y))e=b.copyEvent(a),b.dispatchEvent(d,e),null!=d.focus&&AdfFocusUtils.focusElement(d),b.eatEvent(a)};
AdfDhtmlNoteWindowPopupSelector.prototype._onMouseOverConeCell=function(a){this._onMOConeCellTimeoutCallback||(this._onMOConeCellTimeoutCallback=this.createCallback(this._onMOConeCellTimeout));a=AdfPage.PAGE.getDomWindow();this._mouseOverTimeout&&a.clearTimeout(this._mouseOverTimeout);this._mouseOverTimeout=a.setTimeout(this._onMOConeCellTimeoutCallback,500)};AdfDhtmlNoteWindowPopupSelector.prototype._onMOConeCellTimeout=function(){delete this._mouseOverTimeout;AdfPage.PAGE.getAutoDismissalManager().dismiss(this.getElement().parentNode)};
AdfDhtmlNoteWindowPopupSelector.prototype._onMouseOutConeCell=function(a){a=AdfPage.PAGE.getDomWindow();this._mouseOverTimeout&&(a.clearTimeout(this._mouseOverTimeout),delete this._mouseOverTimeout)};AdfDhtmlNoteWindowPopupSelector.prototype.activate=function(){var a=this.GetFocusOnOpen();this.SetFocusOnOpen(!0);this.FocusOnFirstElement();this.SetFocusOnOpen(a)};
AdfDhtmlNoteWindowPopupSelector.prototype.HandleKeyNavigation=function(a){var b=this.getLaunchSourceId();if(b){var d=AdfAgent.AGENT;if(b=AdfPage.PAGE.findComponent(b))b.focus(),d.eatEvent(a)}};AdfDhtmlNoteWindowPopupSelector.prototype._launchSourceHandleComponentKeyDown=function(a){!a.isCanceled()&&a.getKeyCode()==AdfKeyStroke.F6_KEY&&(AdfAgent.AGENT.preventDefault(a.getNativeEvent()),this.activate&&(this.activate(),a.cancel(),a.stopBubbling()))};
AdfDhtmlNoteWindowPopupSelector.prototype._launchSourceHandleComponentKeyUp=function(a){if(!a.isCanceled()){var b=a.getNativeEvent(),d=a.getKeyCode();b.ctrlKey&&(b.altKey&&d==AdfKeyStroke.W_KEY)&&this.activate&&(this.activate(),a.cancel(),a.stopBubbling())}};
AdfDhtmlNoteWindowPopupSelector.prototype.autoSize=function(){AdfDhtmlNoteWindowPopupSelector.superclass.autoSize.call(this);var a=this.GetMaxWidth();if(a&&this.getWidth()>=a){var b=this.getContent();if(b=AdfDomUtils.getFirstElementMatch(b,!1,AdfDhtmlNoteWindowPopupSelector._match)){b=b.style;b.overflow="hidden";var d=this._coneElement;AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&d&&(b.width=a-d.offsetWidth+"px")}}};
AdfDhtmlNoteWindowPopupSelector._match=function(a){return"DIV"==a.tagName&&AdfDomUtils.containsCSSClassName(a,AdfDhtmlNoteWindowPopupSelector._CONTENT_STYLE_CLASS)?!0:!1};AdfDhtmlNoteWindowPopupSelector.prototype.GetFocusContent=function(){var a=this.getContent();return AdfDomUtils.getFirstElementByTagName(a,"DIV")};
function AdfDhtmlPopupMenu(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupMenu,AdfDhtmlPopupWindow);AdfDhtmlPopupMenu.InitClass=function(){AdfDhtmlPopupMenu._POPUP_STYLE_CLASS="AFPopupMenuPopup";AdfDhtmlPopupMenu._CONTENT_STYLE_CLASS="AFPopupMenuContent"};AdfDhtmlPopupMenu.prototype.Init=function(){AdfDhtmlPopupMenu.superclass.Init.call(this);this.setShadowAnchor(this._mainElement)};
AdfDhtmlPopupMenu.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument(),d=b.createElement("div"),e=b.createElement("div"),f=b.createElement("div");AdfDomUtils.addCSSClassName(e,AdfDhtmlPopupMenu._POPUP_STYLE_CLASS);AdfDomUtils.addCSSClassName(f,AdfDhtmlPopupMenu._CONTENT_STYLE_CLASS);d.appendChild(e);this.NeedsCloseLink()&&(b=b.createElement("div"),e.appendChild(b),a=a.getLookAndFeel().getTranslatedString("af_menu.TIP_DISMISS"),b.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-999px;" onclick\x3d"AdfMenuUtils.setMenuBarAutoOpenMode(false);AdfMenuUtils.closeAllMenus(true);"\x3e'+
a+"\x3c/a\x3e");e.appendChild(f);this._mainElement=e;this._contentElement=f;return d};AdfDhtmlPopupMenu.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupMenu.prototype.CreateShadow=function(a){(!this.GetAnimationDuration()||a)&&AdfDhtmlShadowDecorator.createShadowDecorator(this.getShadowAnchor(),this.getElement(),!0)};AdfDhtmlPopupMenu.prototype.DoResizeNotifyDom=function(a){};AdfDhtmlPopupMenu.prototype.SaveScrollValues=function(a){};
AdfDhtmlPopupMenu.prototype.RestoreScrollValues=function(a){};AdfDhtmlPopupMenu.prototype.GetAnimationDurationSkinProperty=function(){return"af|menu-tr-open-animation-duration"};AdfDhtmlPopupMenu.prototype.GetAnimateSkinProperty=function(){return"af|menu-tr-animate"};AdfDhtmlPopupMenu.prototype.GetLaunchSourceElement=function(){var a=AdfMenuUtils.GetLastOpenedRootMenuId();return a?AdfAgent.AGENT.getElementById(a):null};
AdfDhtmlPopupMenu.prototype.GetFocusContent=function(){var a=AdfAgent.AGENT;if(a.getDomWindow().AdfSafariMobileAgent&&a instanceof AdfSafariMobileAgent)return AdfDhtmlPopupMenu.superclass.GetFocusContent.call(this);if(a=this._componentId)if((a=AdfPage.PAGE.findComponent(a))&&a instanceof AdfRichMenu){var b=this._getFirstMenuItem(a);return b?AdfRichUIPeer.getDomElementForComponent(b):AdfRichUIPeer.getDomElementForComponent(a)}return this.getElement()};AdfDhtmlPopupMenu.prototype.ShouldHideOnClip=function(){return!1};
AdfDhtmlPopupMenu.prototype._getFirstMenuItem=function(a){a.visitChildren(this._visitChildrenForMenu,this,!0);(a=this._firstMenuChild)&&delete this._firstMenuChild;return a};AdfDhtmlPopupMenu.prototype._visitChildrenForMenu=function(a){return a instanceof AdfRichCommandMenuItem||a instanceof AdfRichMenu||a instanceof AdfRichGoMenuItem?(this._firstMenuChild=a,2):1};AdfDhtmlPopupMenu.prototype.activate=function(){this.FocusOnFirstElement()};
function AdfDhtmlPopupLayer(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupLayer,AdfDhtmlPopupWindow);AdfDhtmlPopupLayer.HINT_ANIMATE_FRAME_METHOD="animateFrameMethod";AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY="animateVertically";AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY="animateHorizontally";AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED="animateClosed";AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_OPEN_SKIN_PROPERTY="animationDurationOpen";
AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_CLOSE_SKIN_PROPERTY="animationDurationClose";AdfDhtmlPopupLayer.HINT_ANIMATE_MIN_WIDTH="animateMinWidth";
AdfDhtmlPopupLayer.InitClass=function(){this._ANIMATE_DIRECTION_MAP={};this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_AFTER_START]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_AFTER_END]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_BEFORE_START]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_BEFORE_END]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_END_AFTER]=
AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_END_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_START_AFTER]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_START_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_OVERLAP_END_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_OVERLAP_START_BEFORE]=
AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY};AdfDhtmlPopupLayer.prototype.Init=function(){AdfDhtmlPopupLayer.superclass.Init.call(this)};AdfDhtmlPopupLayer.prototype.CreateDomElement=function(){var a=AdfPage.PAGE.getDomDocument().createElement("div");this.SetContentParent(a);return a};AdfDhtmlPopupLayer.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlPopupLayer.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupLayer.prototype.HasShadow=function(){return!1};
AdfDhtmlPopupLayer.prototype.ShouldHideOnClip=function(){return!1};AdfDhtmlPopupLayer.prototype.shouldInvertPosition=function(){return!1};AdfDhtmlPopupLayer.prototype._getAnimationDirection=function(a){return(a=a[AdfRichPopup.HINT_ALIGN])?AdfDhtmlPopupLayer._ANIMATE_DIRECTION_MAP[a]:null};AdfDhtmlPopupLayer.prototype.GetAnimationDurationSkinProperty=function(a){return a[AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_OPEN_SKIN_PROPERTY]};
AdfDhtmlPopupLayer.prototype.GetCloseAnimationDurationSkinProperty=function(a){return a[AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_CLOSE_SKIN_PROPERTY]};
AdfDhtmlPopupLayer.prototype.AnimateUsingWrapper=function(a,b,d,e,f){var g=this.getElement(),h=g.ownerDocument.createElement("div"),k=h.style,l=g.style,m=g.offsetHeight,n=g.offsetWidth,p=parseInt(l.left),q=parseInt(l.top),r=this._getAnimationDirection(e),s=e[AdfDhtmlPopupLayer.HINT_ANIMATE_MIN_WIDTH];null==s&&(s=1);b?(k.left=f?l.left:p+n-s+"px",l.left="0px"):(k.left=l.left,k.right=l.right,l.left="",l.right="0px");k.overflow="hidden";k.position="absolute";var u={};r==AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY?
(k.height=m+"px",k.top=l.top):(d?(u.top=q,k.top=q+m+1+"px"):k.top=l.top,k.height="1px",u.height=m);l.top="0px";r==AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY?k.width=n+"px":f?(k.width=n+"px",u.width=s):(k.width=s+"px",u.width=n);k.zIndex=l.zIndex;g.parentNode.replaceChild(h,g);h.appendChild(g);l.visibility="";b&&(u.left=f?p+n-s:p);AdfPage.PAGE.prepareMaskingFrame();b=e[AdfDhtmlPopupLayer.HINT_ANIMATE_FRAME_METHOD];b||(b=AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED);this._animator=AdfDhtmlElementAnimator.animate(b,
a,[{element:h,properties:u}],null,f?AdfDhtmlPopupLayer.CloseAnimationComplete:AdfDhtmlPopupWindow.AnimationComplete,{wrapper:h,myself:this})};AdfDhtmlPopupLayer.CloseAnimationComplete=function(a){var b=a.wrapper;a=a.myself;a._animating&&(delete a._animating,delete a._animator,AdfDhtmlPopupWindow._restoreRootPostAnimation(b),a._closedPopup())};
AdfDhtmlPopupLayer.prototype.AnimateClosing=function(){this._animating=!0;var a=!1,b=!1,d=this.GetPositionManagerIndex();if(0<=d&&(d=AdfPage.PAGE.getPositionManager().getComputedBehavior(d)))a=d.horizontalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.RIGHT,b=d.verticalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.BOTTOM;this.AnimateUsingWrapper(this._animationCloseDuration,a,b,this._hints,!0)};
AdfDhtmlPopupLayer.prototype.show=function(a){this._hints=a;var b=AdfPage.PAGE;if(b.isAnimationEnabled()&&a[AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED]){var d=this.GetCloseAnimationDurationSkinProperty(a);d&&(b=parseInt(b.getLookAndFeel().getSkinProperty(d)),0<b&&(this._animationCloseDuration=b))}AdfDhtmlPopupLayer.superclass.show.call(this,a)};
AdfDhtmlPopupLayer.prototype.hide=function(){if(!this._isHiding){var a=AdfPage.PAGE.findComponent(this._componentId);if(a&&a.getPeer().canHide&&!a.getPeer().canHide())return}var b="true"==this._closeHandlerParam.contentDom.getAttribute(AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO);if(this._isHiding)this._animator&&b&&(this._animator.stop(),a=this.getElement().parentNode,AdfDhtmlPopupLayer.CloseAnimationComplete({wrapper:a,myself:this}));else{this._isHiding=!0;this._animating&&(delete this._animating,
this._animator&&(this._animator.stop(),delete this._animator),AdfDhtmlPopupWindow._restoreRootPostAnimation(this.getElement().parentNode));var d=AdfPage.PAGE,a=d.findComponent(this._componentId);d.getAutoDismissalManager().removeBehavior(a);!this._isRestoring(a)&&(AdfFocusUtils.containsFocus(this.getElement())&&!AdfFocusUtils.isFocusChangePending())&&this._restoreFocus();this.getHints()[AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED]&&this._animationCloseDuration&&!0!=b?this.AnimateClosing():this._closedPopup()}};
AdfDhtmlPopupLayer.prototype._closedPopup=function(){var a=AdfPage.PAGE,b=this._closeHandler;b&&(delete this._closeHandler,b(this._closeHandlerParam),delete this._closeHandlerParam);this.destroy();delete this._isHiding;a.__perfTimings(!0,!1,!0,"popup hidden")};AdfDhtmlPopupLayer.prototype.getHints=function(){return this._hints};AdfDhtmlPopupLayer.prototype._getComponentFromHints=function(a){this._componentId=a=a[AdfDhtmlPopupHints.COMPONENT_CLIENT_ID];return AdfPage.PAGE.findComponent(a)};
AdfDhtmlPopupLayer.prototype.restoreAutodismiss=function(){if(this._autoDismissRemoved){var a=this.getHints();AdfPage.PAGE.getAutoDismissalManager().addBehavior(this._getComponentFromHints(a),a);this._autoDismissRemoved=!1}};AdfDhtmlPopupLayer.prototype.removeAutodismiss=function(){if(!this._autoDismissRemoved){this._autoDismissRemoved=!0;var a=this.getHints();AdfPage.PAGE.getAutoDismissalManager().removeBehavior(this._getComponentFromHints(a))}};
function AdfDhtmlTooltipManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlTooltipManager);AdfDhtmlTooltipManager.prototype.Init=function(){AdfDhtmlTooltipManager.superclass.Init.call(this)};AdfDhtmlTooltipManager._handleMouseMove=function(a){var b=AdfDhtmlTooltipManager._theInstance;b._rollOverBoundsChecker&&(a=AdfAgent.AGENT.getMousePosition(a),b._checkMouseExit(a.x,a.y,b._rollOverBoundsChecker))};
AdfDhtmlTooltipManager.prototype.showRollOverLabel=function(a){AdfAssert.assertDomElement(a);if(a!=this._currRollOverTarget){this._currRollOverTarget=a;var b=AdfAgent.AGENT,d=b.getDomDocument();b.addBubbleEventListener(d,"mousemove",AdfDhtmlTooltipManager._handleMouseMove);var e=b.getElementPosition(a),d=e.y,e=e.x;null!=this._offsetLeft&&(d-=this._offsetTop,e-=this._offsetLeft);var f=this._getRollOverWindow(),g=a.cloneNode(!0);b.modifyIdsInDomSubTree(g,!1,"_afrtt");f.setContent(g);f.show(d,e);if(null==
this._offsetLeft){var h=b.getComputedStyle(f.getElement()),g=this._offsetLeft=AdfAgent.getCSSLengthAsInt(h.borderLeftWidth)+AdfAgent.getCSSLengthAsInt(h.paddingLeft),h=this._offsetTop=AdfAgent.getCSSLengthAsInt(h.borderTopWidth)+AdfAgent.getCSSLengthAsInt(h.paddingTop);f.setPosition(d-h,e-g)}a=b.getElementPageBounds(a);a.notify=this._hideRollOverCallback;this._rollOverBoundsChecker=a}};
AdfDhtmlTooltipManager.prototype.hideRollOverLabel=function(){var a=this._getRollOverWindow();a&&(a.hide(),a.destroy(),this._rollOverWindow=null);this._rollOverBoundsChecker=this._currRollOverTarget=null;var a=AdfAgent.AGENT,b=a.getDomDocument();a.removeBubbleEventListener(b,"mousemove",AdfDhtmlTooltipManager._handleMouseMove)};
AdfDhtmlTooltipManager.prototype._getRollOverWindow=function(){var a=this._rollOverWindow,b=AdfAgent.getAgent();if(a){var d=b.getDomDocument(),e=a.getElement();AdfDomUtils.isAncestor(d,e)||(a.hide(),a.destroy(),this._rollOverWindow=a=null)}a||(a=new AdfDhtmlTooltip,d=this.createCallback(this._redistributeRollOverCallback),e=a.getElement(),e.onmousedown=d,e.onmouseup=d,e.onclick=d,e.ondblclick=d,e.oncontextmenu=d,b.disableUserSelect(e),this._rollOverWindow=a);return a};
AdfDhtmlTooltipManager.prototype._hideRollOverCallback=function(a){AdfDhtmlTooltipManager.getInstance().hideRollOverLabel()};
AdfDhtmlTooltipManager.prototype._redistributeRollOverCallback=function(a){a||(a=window.event);if(this._currRollOverTarget){var b=AdfAgent.AGENT,d=this._findDispatchEventTarget(a);if(d){var e=b.copyEvent(a),f="click"==a.type&&"A"==b.getNodeName(d)&&d.href&&""!=d.href;if(f){var g=d.href;"#"==g.charAt(g.length-1)&&-1!=g.indexOf(b.getDomWindow().location.pathname)&&(f=!1)}f||b.eatEvent(a);b.dispatchEvent(d,e)}return!0}};
AdfDhtmlTooltipManager.prototype._findDispatchEventTarget=function(a){var b=AdfAgent.getAgent(),d=b.getEventTarget(a),e=d.id,f=a=this._currRollOverTarget;if(a){for(var g=this._rollOverWindow.getElement();d!=g&&(null==e||""==e);){d=d.parentNode;if(null==d)break;e=d.id}null!=e&&""!=e&&(e=e.replace(/::_afrtt/,""),f=b.getElementById(e))}f||(f=a);return f};AdfDhtmlTooltipManager.prototype._checkMouseExit=function(a,b,d){(a<d.left||a>d.right||b<d.top||b>d.bottom)&&d.notify()};
AdfDhtmlTooltipManager.getInstance=function(){null==this._theInstance&&(this._theInstance=new AdfDhtmlTooltipManager);return this._theInstance};
function AdfDhtmlTooltip(){this.Init()}AdfObject.createSubclass(AdfDhtmlTooltip,AdfAbstractFloatingElement);AdfDhtmlTooltip.prototype.Init=function(){AdfDhtmlTooltip.superclass.Init.call(this,AdfDhtmlZOrderManager.FLOATINGTYPE_TOOLTIP);this.setElement(this._createHtml());this.hide()};AdfDhtmlTooltip.prototype._createHtml=function(){var a=document.createElement("div");a.className="AFTooltip";return this._contentElement=a};
AdfDhtmlTooltip.prototype.setContent=function(a){var b=this._contentElement;b.firstChild&&b.removeChild(b.firstChild);b.appendChild(a);a=a.style;a.textDecoration="none";a.display="block";a.width&&(a.width="")};
AdfDhtmlTooltip.prototype.show=function(a,b){AdfDhtmlTooltip.superclass.show.call(this);this.setPosition(a,b);this.raiseToFront();var d=this.getElement();AdfDhtmlShadowDecorator.hasShadowDecorator(d)?(AdfDhtmlShadowDecorator.moveShadowDecorator(d),AdfDhtmlShadowDecorator.showShadowDecorator(d,!0)):AdfDhtmlShadowDecorator.createShadowDecorator(d,d.parentNode)};
AdfDhtmlTooltip.prototype.hide=function(){AdfDhtmlTooltip.superclass.hide.call(this);var a=this.getElement();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&AdfDhtmlShadowDecorator.removeShadowDecorator(a)};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlMenuPeer",!1);
AdfDhtmlMenuPeer.InitSubclass=function(){AdfObject.ensureClassInitialization(AdfMenuUtils);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,AdfUIInputEvent.FOCUS_EVENT_TYPE,AdfUIInputEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_PRESS_EVENT_TYPE);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);
AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichMenu.DISABLED,AdfRichMenu.VISIBLE,AdfRichMenu.TEXT);this._sBarMenus=[];this._sDetachedMenus=[];this._SCROLL_DELTA=3;this._JUMP_SCROLL_DELTA=15;this._OPEN_CLOSE_DELAY=300;var a=AdfKeyStroke.M_KEY,b=AdfKeyStroke.SHIFT_MASK|AdfKeyStroke.CTRL_MASK;this._menuBarKeyStroke=AdfKeyStroke.getKeyStroke(a,b);a=AdfKeyStroke.W_KEY;b=AdfKeyStroke.SHIFT_MASK|AdfKeyStroke.CTRL_MASK;this._focusDetachedMenuKeyStroke=AdfKeyStroke.getKeyStroke(a,b)};
AdfDhtmlMenuPeer.prototype.Init=function(a){a.getParent();AdfDhtmlMenuPeer.superclass.Init.call(this,a);a=AdfPage.PAGE.getLookAndFeel();a=parseInt(a.getSkinProperty("af|menu-tr-visible-items"));this._maxDisplayItems=isNaN(a)?14:a;this._spaceKeyDown=this._enterKeyDown=this._isDetached=!1};AdfDhtmlMenuPeer.prototype.InitDomElement=function(a,b){if("1"==b.getAttribute(AdfMenuUtils.MENU_DEPTH_KEY)){var d=a.getClientId();AdfDhtmlMenuPeer._addBarMenu(d)}};
AdfDhtmlMenuPeer.cancelShowing=function(){AdfDhtmlMenuPeer._popupShowingHandle&&(window.clearTimeout(AdfDhtmlMenuPeer._popupShowingHandle),delete AdfDhtmlMenuPeer._popupShowingHandle,delete AdfDhtmlMenuPeer._popupPeerWaitingForShow)};
AdfDhtmlMenuPeer.prototype.show=function(a,b){var d=this.getDomElement(),e=this.getComponent(),f=e.getClientId();AdfDomUtils.addCSSClassName(d,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS);!this.isContextMenu()&&this.isRootMenu()&&AdfMenuUtils.setLastOpenedRootMenuId(f);null==b&&null!=a&&(d=a[AdfDhtmlPopupHints.FOCUS],b=null!=d?d:this.isContextMenu()?!0:!1);this._reattachMenu();if("noContent"==this._getLazyState())this._setLazyState("fetching"),f={},f.menuDepth=this._getDepth(),this._lazyFetchPopupHints=
a,this._lazyFetchFocusOnFirstElement=b,(new AdfContentFetchEvent(e,AdfContentFetchEvent.FETCH_EVENT_TYPE,f)).queue(),this._showFetchingDataPopup();else if("fetching"==this._getLazyState())AdfLogger.LOGGER.info("Currently waiting on menu content fetch: "+e.getClientId());else if(d=this._getMenuElement(),"block"==d.style.display)e=AdfAgent.AGENT,e.getDomWindow().AdfSafariMobileAgent&&e instanceof AdfSafariMobileAgent?AdfFocusUtils.focusPreviousTabStop(d):b&&AdfFocusUtils.focusElement(this._activeDescendant);
else{this.resetActiveDescendant();var g=this._createMenuPopupHints(a,b);d.style.display="block";var h=this._elemsInitialized;h||(d.style.visibility="hidden");this.showPopup(e,d,g,f);h||(this._initElements(e,f,d),d.style.visibility="",this._elemsInitialized=!0,this._areScrollButtonsDisplayed&&this._moveShadow(!0));this._areScrollButtonsDisplayed&&this.updateScrollIconsState();this._isDetachable()&&this._createDetachableWindow()}};
AdfDhtmlMenuPeer.prototype.showPopup=function(a,b,d,e){AdfMenuUtils.addOpenMenu(e);AdfDhtmlMenuPeer.superclass.showPopup.call(this,a,b,d,e)};AdfDhtmlMenuPeer.prototype.hidePopup=function(){var a=this.getComponent(),b=a.getClientId();b==AdfDhtmlMenuPeer._reattachedMenuId&&AdfDhtmlMenuPeer._redetachMenu();this.isDetached()||(this._handleHideRequest(a,b),AdfDhtmlMenuPeer.superclass.hidePopup.call(this,a,b),this._isDetachable()&&(this._detachableWindow&&this._detachableWindow.destroy(),delete this._detachableWindow))};
AdfDhtmlMenuPeer.prototype.cancelPopup=function(){var a=this.getComponent(),b=a.getClientId();this.isDetached()?b==AdfDhtmlMenuPeer._reattachedMenuId&&AdfDhtmlMenuPeer._redetachMenu():(this._handleHideRequest(a,b),AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to cancel popup event"),AdfMenuUtils.setMenuBarAutoOpenMode(!1),AdfDhtmlMenuPeer.superclass.cancelPopup.call(this,a,b))};
AdfDhtmlMenuPeer.prototype.close=function(a,b){var d=this.getComponent();if(this.isDetached()){AdfDomUtils.addCSSClassName(this._getMenuElement(),AdfMenuUtils.DETACHED_STYLE_CLASS);if(this._detachedMenuLeft&&this._detachedMenuTop){var e=this._detachableWindow.getElement();e.style.left=this._detachedMenuLeft;e.style.top=this._detachedMenuTop}b||this._deselectElement();e=d.getClientId();AdfDhtmlMenuPeer._removeFromDetachedMenus(e);AdfDhtmlMenuPeer.superclass.hidePopup.call(this,d,e)}else this.isContextMenu()?
d.getParent().hide():(a?this.hidePopup():this._delayPopupHiding(),b||this._deselectElement())};AdfDhtmlMenuPeer.prototype.isDetached=function(){return this._isDetached};AdfDhtmlMenuPeer.prototype.isContextMenu=function(){return this.getComponent().getParent()instanceof AdfRichPopup};AdfDhtmlMenuPeer.prototype.isRootMenu=function(){return 1==this._getDepth()};
AdfDhtmlMenuPeer.prototype.updateScrollIconsState=function(){if(this._areScrollButtonsDisplayed){for(var a=this._scrollContentElement.rows,b=a.length,d=0,e=0,f=0;f<b;f++){var g=a[f];if("none"!=g.style.display){d=f;break}}for(f=b-1;-1<f;f--)if(g=a[f],"none"!=g.style.display){e=f;break}b=AdfAgent.AGENT;f=g=!1;g=b.getElementPageBounds(this._scrollBoxElement);d=b.getElementPageBounds(a[d]);a=b.getElementPageBounds(a[e]);f=90<=100*((g.bottom-a.top)/(a.bottom-a.top));(g=90<=100*((d.bottom-g.top)/(d.bottom-
d.top)))?(AdfDomUtils.addCSSClassName(this._scrollUpElement,AdfRichUIPeer.DISABLED_STYLECLASS),AdfDomUtils.addCSSClassName(this._scrollUpBackgroundElement,AdfRichUIPeer.DISABLED_STYLECLASS)):(AdfDomUtils.removeCSSClassName(this._scrollUpElement,AdfRichUIPeer.DISABLED_STYLECLASS),AdfDomUtils.removeCSSClassName(this._scrollUpBackgroundElement,AdfRichUIPeer.DISABLED_STYLECLASS));f?(AdfDomUtils.addCSSClassName(this._scrollDownElement,AdfRichUIPeer.DISABLED_STYLECLASS),AdfDomUtils.addCSSClassName(this._scrollDownBackgroundElement,
AdfRichUIPeer.DISABLED_STYLECLASS)):(AdfDomUtils.removeCSSClassName(this._scrollDownElement,AdfRichUIPeer.DISABLED_STYLECLASS),AdfDomUtils.removeCSSClassName(this._scrollDownBackgroundElement,AdfRichUIPeer.DISABLED_STYLECLASS))}};AdfDhtmlMenuPeer.prototype.resetActiveDescendant=function(){this._activeDescendant&&this._activeDescendant.setAttribute("tabIndex","-1");var a=this._getMenuElement();this._activeDescendant=AdfFocusUtils.setFirstActiveDescendant(a,{includeVisibilityHidden:!0,includeDisplayNone:!0})};
AdfDhtmlMenuPeer.prototype.ReplaceDomElement=function(a,b){if("fetching"!=this._getLazyState())AdfDhtmlMenuPeer.superclass.ReplaceDomElement.call(this,a,b);else{var d=AdfDomUtils.getFirstChildElement(a);null==d?(AdfLogger.LOGGER.warning("Unexpected element received by AdfDhtmlMenuPeer.prototype.ReplaceDomElement"),AdfDhtmlMenuPeer.superclass.ReplaceDomElement.call(this,a,b)):(this.getDomElement().appendChild(d),AdfAgent.AGENT.elementsAdded(d),this._setLazyState("contentLoaded"),this._hideFetchingDataPopup(),
this.show(this._lazyFetchPopupHints,this._lazyFetchFocusOnFirstElement))}};AdfDhtmlMenuPeer.prototype.PopupClosed=function(a,b,d){d=this.getDomElement();AdfMenuUtils.dismiss(d,!0,!1);b.style.display="none";AdfDhtmlMenuPeer.superclass.PopupClosed.call(this,a,b);d.appendChild(b);this.isContextMenu()&&(a=a.getParent(),AdfDhtmlPopupPeer.__handlePopupCanceled(a,b),a.getPeer().PopupClosed(a,null))};
AdfDhtmlMenuPeer.prototype.HandleComponentMouseOut=function(a){AdfMenuUtils.unhighlightRootMenuItem();this._isSubMenu()&&!this._isMenuVisible()&&(AdfDhtmlMenuPeer._popupPeerWaitingForShow==this&&AdfDhtmlMenuPeer.cancelShowing(),a=this.getDomElement(),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};
AdfDhtmlMenuPeer.prototype.HandleComponentKeyUp=function(a){if(!a.isCanceled()&&!this._isDisabled()){var b=this.getDomElement(),d=a.getKeyCode(),e=this._isSubMenu(),f=this.getComponent(),g=a.getSource();switch(d){case AdfKeyStroke.HOME_KEY:g!=f&&(f=AdfFocusUtils.getFirstFocusableDescendant(this._getMenuElement()),this._updateActiveDescendant(f),AdfFocusUtils.focusElement(f),a.cancel());return;case AdfKeyStroke.END_KEY:g!=f&&(f=AdfFocusUtils.getLastFocusableDescendant(this._getMenuElement()),this._updateActiveDescendant(f),
AdfFocusUtils.focusElement(f),a.cancel());return;case AdfKeyStroke.ENTER_KEY:this._enterKeyDown&&(AdfDomUtils.addCSSClassName(b,AdfMenuUtils.DEPRESSED_STYLE_CLASS),this.show(null,!0));this._enterKeyDown=!1;a.cancel();return;case AdfKeyStroke.SPACE_KEY:this._spaceKeyDown&&(AdfDomUtils.addCSSClassName(b,AdfMenuUtils.DEPRESSED_STYLE_CLASS),this.show(null,!0));this._spaceKeyDown=!1;a.cancel();return;case AdfKeyStroke.ESC_KEY:this.isDetached()?(this._closeDetachedMenu(),a.cancel()):e?b!=AdfPage.PAGE.getActiveDomElement()&&
(this.focus(f),this.close(!0,!0),a.cancel()):this.isContextMenu()?(AdfMenuUtils.closeAllMenus(),b.blur(),this.focus(f),f=f.getParent(),f.getPeer().hide(f),a.cancel()):(AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to escape pressed while on a root menu"),AdfMenuUtils.setMenuBarAutoOpenMode(!1),AdfMenuUtils.closeAllMenus(!0));return}b=this._isMenuVisible();d=this.isRootMenu();f=a.getSource()==f;if(b&&d||!f)f=this._scrollContentElement||this._getMenuElement(),AdfDhtmlMenuPeer._handleMenuItemAccessKeys(f,
a)}};AdfDhtmlMenuPeer.prototype.HandleComponentKeyDown=function(a){if(!a.isCanceled()&&!this._isDisabled()){var b=a.getKeyCode(),d=AdfAgent.AGENT;b==AdfKeyStroke.ENTER_KEY?(this._enterKeyDown=!0,a.cancel(),a.stopBubbling()):b==AdfKeyStroke.SPACE_KEY?(this._spaceKeyDown=!0,a.cancel(),a.stopBubbling()):d.getPreferredKeyEventForRepetition()==AdfUIInputEvent.KEY_DOWN_EVENT_TYPE&&this._handleArrowKeys(b,a)}};
AdfDhtmlMenuPeer.prototype.HandleComponentKeyPress=function(a){if(!a.isCanceled()&&!this._isDisabled()&&AdfAgent.AGENT.getPreferredKeyEventForRepetition()==AdfUIInputEvent.KEY_PRESS_EVENT_TYPE){var b=a.getKeyCode();this._handleArrowKeys(b,a)}};
AdfDhtmlMenuPeer.prototype.HandleComponentFocus=function(a){var b=a.getSource(),d=this.getComponent();b==d?(b=this.getDomElement(),this._isSubMenu()?AdfDomUtils.addCSSClassName(b,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS):AdfMenuUtils.isMenuBarAutoOpenMode()?(AdfMenuUtils.dismiss(b,!0),AdfDomUtils.addCSSClassName(b,AdfMenuUtils.DEPRESSED_STYLE_CLASS),this.show(null,!1)):AdfMenuUtils.highlightRootMenuItem(b)):b.getParent()==d&&(b=b.getClientId(),b=AdfAgent.AGENT.getElementById(b),(b=AdfFocusUtils.getFirstFocusableDescendant(b))&&
b!=this._activeDescendant&&this._updateActiveDescendant(b));a.cancel()};
AdfDhtmlMenuPeer.prototype.HandleComponentMouseOver=function(a){this._cancelHiding();if(this._isDisabled())AdfMenuUtils.isMenuBarAutoOpenMode()&&this.isRootMenu()&&AdfMenuUtils.closeAllMenus(!1);else if(!a.isCanceled()){var b=AdfAgent.AGENT,d=a.getNativeEvent(),e=this.getDomElement();b.isEventInElement(d,e)&&(a.cancel(),this.isContextMenu()||(a=this.getComponent(),this._isSubMenu()?(AdfDomUtils.addCSSClassName(e,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS),AdfMenuUtils.dismiss(e,!1),this._delayShow(),AdfFocusUtils.containsFocus(e)||
this.focus(a)):!this._isMenuVisible()&&!AdfMenuUtils.isMenuBarAutoOpenMode()?AdfMenuUtils.highlightRootMenuItem(e):(AdfMenuUtils.isMenuBarAutoOpenMode()&&(AdfMenuUtils.dismiss(e,!0),AdfDomUtils.addCSSClassName(e,AdfMenuUtils.DEPRESSED_STYLE_CLASS),this.show(null,!1)),AdfFocusUtils.containsFocus(e)||this.focus(a))))}};
AdfDhtmlMenuPeer.prototype.HandleComponentMouseDown=function(a){if(!this._isDisabled()&&a.isLeftButtonPressed()){var b=AdfAgent.AGENT,d=a.getNativeEvent(),e=this.getDomElement(),f=this._scrollUpElement&&b.isEventInElement(d,this._scrollUpElement);a=this._scrollDownElement&&b.isEventInElement(d,this._scrollDownElement);f||a?(b.getPlatform()==AdfAgent.IE_PLATFORM&&(d=f?this._scrollUpElement:this._scrollDownElement,d!=AdfPage.PAGE.getActiveDomElement()&&(d.tabIndex=0,d.focus(),d.tabIndex=-1)),b.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=
AdfAgent.CAP_TOUCH_SCREEN_NONE?this._startScroll(a,!0):this._startScroll(a)):b.isEventInElement(d,e)&&(b.eatEvent(d),AdfDomUtils.addCSSClassName(e,AdfMenuUtils.DEPRESSED_STYLE_CLASS),this.isContextMenu()||(b=AdfPage.PAGE.getDomWindow(),b=Boolean(b.AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent),this._isSubMenu()?this.show(null,b):this._isMenuVisible()?(this.close(!0,!0),AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to menu clicked while menu IS visible"),AdfMenuUtils.setMenuBarAutoOpenMode(!1)):
(this.show(null,b),AdfLogger.LOGGER.finest("menuBar auto open mode, set to ON due to menu clicked while menu IS NOT visible"),AdfMenuUtils.setMenuBarAutoOpenMode(!0))))}};
AdfDhtmlMenuPeer.prototype.HandleComponentMouseUp=function(a){if(!this._isDisabled()&&a.isLeftButtonPressed()){var b=AdfAgent.AGENT,d=a.getNativeEvent();this._handleElement&&AdfDomUtils.removeCSSClassName(this._handleElement,AdfMenuUtils.DEPRESSED_STYLE_CLASS);a=this._scrollUpElement&&b.isEventInElement(d,this._scrollUpElement);b=this._scrollDownElement&&b.isEventInElement(d,this._scrollDownElement);if(a||b)this._endScroll(),this.updateScrollIconsState()}};
AdfDhtmlMenuPeer.prototype.HandleComponentBlur=function(a){a=this.getDomElement();var b=!this._isSubMenu(),d=this._isSubMenu()&&!this._isMenuVisible(),e=this._isSubMenu()&&this._isMenuVisible()&&this.isDetached();(b||d||e)&&AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS);(this.isDetached()||!this._isMenuVisible())&&AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS)};
AdfDhtmlMenuPeer.prototype.ComponentRemoved=function(a){var b=a.getClientId();AdfMenuUtils.isMenuOpen(b)?this.hidePopup():this.isDetached()&&this._closeDetachedMenu();if(this._isDetachable()){var d=AdfAgent.AGENT,e=this._closeDetachedMenuCallback;e&&d.removeBubbleEventListener(this._closeElement,"click",e);delete this._closeElement;delete this._closeDetachedMenuCallback;(e=this._stopCallback)&&d.removeBubbleEventListener(this._handleElement,"mousedown",e);delete this._handleElement;delete this._stopCallback}this._isSubMenu()||
AdfDhtmlMenuPeer._removeBarMenu(b);delete this._menuElement;delete this._scrollUpElement;delete this._scrollDownElement;delete this._scrollUpBackgroundElement;delete this._scrollDownBackgroundElement;delete this._scrollBoxElement;delete this._scrollContentElement;AdfDhtmlMenuPeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlMenuPeer.prototype.ComponentDisabledChanged=function(a,b,d,e){AdfMenuUtils.menuItemDisabledChanged(a,b,d,this._getMenuElement())};
AdfDhtmlMenuPeer.prototype.ComponentVisibleChanged=function(a,b,d,e){AdfDhtmlMenuPeer.superclass.ComponentVisibleChanged.call(this,a,b,d,e);AdfMenuUtils.menuItemVisibleChanged(a,b,d,this._getMenuElement())};AdfDhtmlMenuPeer.prototype.ComponentTextChanged=function(a,b,d,e){return null!=e&&(b=AdfDomUtils.getFirstDescendentElement(b,"A"))?AdfDomUtils.handleTextChangeWithAccessKey(a,b,d):!1};AdfDhtmlMenuPeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleTextEditor.getAnchorInlineEditor()};
AdfDhtmlMenuPeer.prototype.setVisibleItems=function(a){this._maxDisplayItems=a};AdfDhtmlMenuPeer.prototype.__preferredSizeChangeNotify=function(a){this.bind(a);if(this.isRootMenu()){a=this.getComponentParent(a);var b=null!=a?a.getPeer():null;b&&b.__preferredSizeChangeNotify&&b.__preferredSizeChangeNotify(a)}};
AdfDhtmlMenuPeer._redetachMenu=function(){var a=AdfDhtmlMenuPeer._reattachedMenuId;if(null!=a){if(a=AdfPage.PAGE.findComponent(a))if((a=a.getPeer())&&a instanceof AdfDhtmlMenuPeer&&a._detachableWindow){var b=a._detachableWindow.getElement();b.style.left=a._detachedMenuLeft;b.style.top=a._detachedMenuTop;var b={y:a._detachedMenuTop,x:a._detachedMenuLeft},d=a._getMenuPopup();d&&d.setAlignPosition(b);a._makeDetached()}AdfDhtmlMenuPeer._reattachedMenuId=null}};
AdfDhtmlMenuPeer._focusNextDetachedMenuKeyHandler=function(){if(!AdfCollections.isEmpty(AdfDhtmlMenuPeer._sDetachedMenus)){var a,b=AdfDhtmlMenuPeer._lastSelectedDetachableMenuId;null==b?a=AdfDhtmlMenuPeer._sDetachedMenus[0]:(a=AdfDhtmlMenuPeer._sDetachedMenus.length,1==a?a=AdfDhtmlMenuPeer._sDetachedMenus[0]:(b=AdfCollections.indexOf(AdfDhtmlMenuPeer._sDetachedMenus,b),a=b>=a-1?AdfDhtmlMenuPeer._sDetachedMenus[0]:AdfDhtmlMenuPeer._sDetachedMenus[b+1]));if(b=AdfPage.PAGE.findComponent(a)){var d=b.getPeer();
d.bind(b);(null==d._activeDescendant||!AdfFocusUtils.isFocusableDescendant(d._activeDescendant))&&d.resetActiveDescendant();AdfFocusUtils.focusElement(d._activeDescendant);AdfDhtmlMenuPeer._lastSelectedDetachableMenuId=a}else AdfDhtmlMenuPeer._removeFromDetachedMenus(a),AdfDhtmlMenuPeer._focusNextDetachedMenuKeyHandler()}};
AdfDhtmlMenuPeer._addToDetachedMenus=function(a){var b=AdfAgent.AGENT;if(AdfCollections.isEmpty(AdfDhtmlMenuPeer._sDetachedMenus)){if(b.getPlatform()==AdfAgent.GECKO_PLATFORM){var d=AdfPage.PAGE.getDomDocument();b.addBubbleEventListener(d,"keypress",AdfDhtmlMenuPeer._cancelKeyPress)}AdfPage.PAGE.registerKeyStroke(AdfDhtmlMenuPeer._focusDetachedMenuKeyStroke,AdfDhtmlMenuPeer._focusNextDetachedMenuKeyHandler)}0>AdfCollections.indexOf(AdfDhtmlMenuPeer._sDetachedMenus,a)&&(AdfDhtmlMenuPeer._lastSelectedDetachableMenuId=
a,AdfDhtmlMenuPeer._sDetachedMenus.push(a))};
AdfDhtmlMenuPeer._removeFromDetachedMenus=function(a){AdfCollections.removeArrayValue(AdfDhtmlMenuPeer._sDetachedMenus,a);var b=AdfCollections.isEmpty(AdfDhtmlMenuPeer._sDetachedMenus);if(b||a==AdfDhtmlMenuPeer._lastSelectedDetachableMenuId)AdfDhtmlMenuPeer._lastSelectedDetachableMenuId=null;b&&(AdfPage.PAGE.unregisterKeyStroke(AdfDhtmlMenuPeer._focusDetachedMenuKeyStroke),a=AdfAgent.AGENT,a.getPlatform()==AdfAgent.GECKO_PLATFORM&&(b=AdfPage.PAGE.getDomDocument(),a.removeBubbleEventListener(b,"keypress",
AdfDhtmlMenuPeer._cancelKeyPress)))};AdfDhtmlMenuPeer._cancelKeyPress=function(a){var b=AdfAgent.AGENT.getKeyCode(a);a.ctrlKey&&(a.shiftKey&&b==AdfKeyStroke.W_KEY)&&AdfAgent.AGENT.eatEvent(a)};AdfDhtmlMenuPeer._menuBarKeyHandler=function(a){AdfDhtmlMenuPeer._focusMenuBar()};AdfDhtmlMenuPeer._addBarMenu=function(a){var b=AdfDhtmlMenuPeer._sBarMenus;0==b.length&&AdfPage.PAGE.registerKeyStroke(AdfDhtmlMenuPeer._menuBarKeyStroke,AdfDhtmlMenuPeer._menuBarKeyHandler);b.push(a)};
AdfDhtmlMenuPeer._removeBarMenu=function(a){var b=AdfDhtmlMenuPeer._sBarMenus;AdfCollections.removeArrayValue(b,a);0==b.length&&AdfPage.PAGE.unregisterKeyStroke(AdfDhtmlMenuPeer._menuBarKeyStroke)};AdfDhtmlMenuPeer._focusMenuBar=function(){var a=AdfDhtmlMenuPeer._sBarMenus;AdfAssert.assert(1<a.length);var a=AdfPage.PAGE.findComponent(a[0]),b=a.getParent();AdfAssert.assert(!(b instanceof AdfRichMenu));a=a.getPeer()._getParentId();a=AdfAgent.AGENT.getElementById(a);AdfFocusUtils.focusFirstTabStop(a)};
AdfDhtmlMenuPeer._handleMenuItemAccessKeys=function(a,b){var d=b.getKeyStroke(),e=d.getModifiers();if(!(e&AdfKeyStroke.CTRL_MASK||e&AdfKeyStroke.ALT_MASK||e&AdfKeyStroke.META_MASK)){e&AdfKeyStroke.SHIFT_MASK&&(e>>=AdfKeyStroke.SHIFT_MASK,d=AdfKeyStroke.getKeyStroke(d.getKeyCode(),e));for(var d=d.toMarshalledString().toUpperCase(),e=a.getElementsByTagName("tr"),f=e.length,g=0;g<f;g++){var h=e[g];if(h&&1==h.nodeType){var k=h.getAttribute("accessKey");if(k&&d==k.toUpperCase()){AdfFocusUtils.focusElement(h);
b.cancel();break}}}}};
AdfDhtmlMenuPeer.prototype._handleArrowKeys=function(a,b){var d=b.getNativeEvent();if(d.ctrlKey)this._handleCtrlArrowKeys(a,b);else if(!d.altKey&&(!d.shiftKey&&!d.metaKey)&&b.getSource()!=this.getComponent())switch(d=b.getSource().getPeer().getDomElement(),a){case AdfKeyStroke.ARROWUP_KEY:this._focusPreviousMenuItem(d);b.cancel();break;case AdfKeyStroke.ARROWDOWN_KEY:this._focusNextMenuItem(d);b.cancel();break;case AdfKeyStroke.ARROWLEFT_KEY:this._handleMenuItemLeftArrowKey(b);break;case AdfKeyStroke.ARROWRIGHT_KEY:this._handleMenuItemRightArrowKey(b)}};
AdfDhtmlMenuPeer.prototype._handleCtrlArrowKeys=function(a,b){if(this.isDetached()||this._detachableWindow&&this._isMenuVisible()){var d=AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM?187==a:61==a;if(b.getNativeEvent().altKey&&d)this._moveDetachable(0,0),b.cancel();else{d=!0;switch(a){case AdfKeyStroke.ARROWUP_KEY:this._moveDetachable(0,-20);break;case AdfKeyStroke.ARROWDOWN_KEY:this._moveDetachable(0,20);break;case AdfKeyStroke.ARROWLEFT_KEY:this._moveDetachable(-20,0);break;case AdfKeyStroke.ARROWRIGHT_KEY:this._moveDetachable(20,
0);break;default:d=!1}d&&b.cancel()}}};AdfDhtmlMenuPeer.prototype._handleMenuItemLeftArrowKey=function(a){var b=this.getComponent();this.isRootMenu()?(this.focus(b),this.close(!0,!0),AdfMenuUtils.MenuBarAutoOpenMode=!1):!this.isDetached()&&!this.isContextMenu()&&(this.focus(b),this.close(!0,!0));a.cancel()};
AdfDhtmlMenuPeer.prototype._handleMenuItemRightArrowKey=function(a){var b=a.getSource();b instanceof AdfRichMenu?(b.getPeer().show(null,!0),a.cancel()):this.isDetached()||this.isContextMenu()?a.cancel():this.isRootMenu()&&(b=this.getComponent(),this.focus(b),this.close(!0,!0),AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to right arrow key pressed on root menu item"),AdfMenuUtils.setMenuBarAutoOpenMode(!1),a.cancel())};
AdfDhtmlMenuPeer.prototype._focusNextMenuItem=function(a){AdfAssert.assertDomElement(this._activeDescendant);AdfAssert.assert(a==this._activeDescendant);this._activeDescendant||(AdfLogger.LOGGER.warning("Menu has lost its assigned activeDescendant!"),this.resetActiveDescendant());a=AdfFocusUtils.focusNextActiveDescendant(this._getMenuElement(),a,!0);AdfAssert.assertDomElement(a);this._activeDescendant=a;this.updateScrollIconsState()};
AdfDhtmlMenuPeer.prototype._focusPreviousMenuItem=function(a){AdfAssert.assertDomElement(this._activeDescendant);AdfAssert.assert(a==this._activeDescendant);this._activeDescendant||(AdfLogger.LOGGER.warning("Menu has lost its assigned activeDescendant!"),this.resetActiveDescendant());a=AdfFocusUtils.focusPreviousActiveDescendant(this._getMenuElement(),a,!0);AdfAssert.assertDomElement(a);this._activeDescendant=a;this.updateScrollIconsState()};
AdfDhtmlMenuPeer.prototype._onHandleClick=function(a){AdfAgent.AGENT.eatEvent(a);AdfDomUtils.addCSSClassName(this._handleElement,AdfMenuUtils.DEPRESSED_STYLE_CLASS)};
AdfDhtmlMenuPeer.prototype._initElements=function(a,b,d){a=AdfAgent.AGENT;this._isDetachable()&&(d=AdfRichUIPeer.CreateSubId(b,"close"),this._closeElement=a.getElementById(d),this._closeDetachedMenuCallback=this.createCallback(this._closeDetachedMenu),a.addBubbleEventListener(this._closeElement,"click",this._closeDetachedMenuCallback),d=AdfRichUIPeer.CreateSubId(b,"handle"),this._handleElement=a.getElementById(d),this._stopCallback=this.createCallback(this._onHandleClick),a.addBubbleEventListener(this._handleElement,
"mousedown",this._stopCallback));d=AdfRichUIPeer.CreateSubId(b,"ScrollContent");this._scrollContentElement=a.getElementById(d);var e=this._scrollContentElement.rows;if(e.length<this._maxDisplayItems)this._areScrollButtonsDisplayed=!1;else{d=[];for(i=0;i<e.length;i++){var f=e[i];"none"!=f.style.display&&d.push(f)}if(this._areScrollButtonsDisplayed=d.length>this._maxDisplayItems)e=AdfRichUIPeer.CreateSubId(b,"ScrollUp"),this._scrollUpElement=a.getElementById(e),this._scrollUpElement.style.display="block",
e=AdfRichUIPeer.CreateSubId(b,"sUpBg"),this._scrollUpBackgroundElement=a.getElementById(e),e=AdfRichUIPeer.CreateSubId(b,"ScrollDown"),this._scrollDownElement=a.getElementById(e),this._scrollDownElement.style.display="block",e=AdfRichUIPeer.CreateSubId(b,"sDwnBg"),this._scrollDownBackgroundElement=a.getElementById(e),b=AdfRichUIPeer.CreateSubId(b,"ScrollBox"),this._scrollBoxElement=a.getElementById(b),this._scrollBoxElement.style.height=d[this._maxDisplayItems].offsetTop-2-d[0].offsetTop+"px"}};
AdfDhtmlMenuPeer.prototype._createMenuPopupHints=function(a,b){var d={},e=this.getDomElement(),f=this.getComponent();d[AdfDhtmlPopupHints.TYPE]=AdfDhtmlPopupHints.TYPE_MENU;d[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_MENU;d[AdfDhtmlPopupHints.ALIGN_ELEMENT]=e;d[AdfDhtmlPopupHints.FOCUS]=b?!0:!1;var g=f.getText();null==g&&(g=f.getShortDesc());d[AdfDhtmlPopupHints.TITLE]=g;d[AdfDhtmlPopupHints.ANIMATE]=AdfRichPopup.ANIMATE_DEFAULT;d[AdfDhtmlPopupHints.CLOSE_ON_ESCAPE]=!1;if(null==
a||null==a[AdfDhtmlPopupHints.MOUSEPOSITION])this._isSubMenu()||AdfMenuUtils.isInOverflow(e)?d[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_END_BEFORE:d[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START;AdfCollections.copyInto(d,a);return d};
AdfDhtmlMenuPeer.prototype._showFetchingDataPopup=function(){var a=AdfAgent.AGENT,b=this.getComponent(),d=this.getDomElement().getAttribute("id"),d=AdfRichUIPeer.CreateSubId(d,"lazy-fetch-message"),a=a.getElementById(d),a=AdfDomUtils.getFirstChildElement(a),e=this._createMenuPopupHints(null,!1);e[AdfDhtmlPopupHints.TYPE]=AdfDhtmlPopupHints.TYPE_INLINESELECTOR;AdfDomUtils.setVisible(a,!0);AdfDhtmlMenuPeer.superclass.showPopup.call(this,b,a,e,d)};
AdfDhtmlMenuPeer.prototype._hideFetchingDataPopup=function(){var a=this.getComponent(),b=this.getDomElement().getAttribute("id"),b=AdfRichUIPeer.CreateSubId(b,"lazy-fetch-message");AdfDhtmlMenuPeer.superclass.hidePopup.call(this,a,b)};
AdfDhtmlMenuPeer.prototype._reattachMenu=function(){if(this.isDetached()){var a=this.getComponent().getClientId();AdfDhtmlMenuPeer._reattachedMenuId=a;AdfMenuUtils.addOpenMenu(a);AdfDhtmlMenuPeer._removeFromDetachedMenus(a);this._showShadow(!1);a=this._calculateReattachPosition();this._isDetached=!1;if(AdfPage.PAGE.isAnimationEnabled())this._animateReattach({left:a.x,top:a.y});else{this._moveShadow(!0);var b=this._getMenuPopup();b&&b.setAlignPosition(a);AdfDomUtils.removeCSSClassName(this._getMenuElement(),
AdfMenuUtils.DETACHED_STYLE_CLASS)}}};AdfDhtmlMenuPeer.prototype._animateReattach=function(a){AdfDomUtils.removeCSSClassName(this._getMenuElement(),AdfMenuUtils.DETACHED_STYLE_CLASS);var b=this._detachableWindow.getElement();AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_SLOW_FAST_SLOW,300,[{element:b,properties:a}],null,AdfDhtmlMenuPeer._animateReattachComplete,[this,a.y,a.x])};
AdfDhtmlMenuPeer._animateReattachComplete=function(a){var b=a[0],d=a[1];a=a[2];b._moveShadow(!0);d={y:d,x:a};(b=b._getMenuPopup())&&b.setAlignPosition(d)};AdfDhtmlMenuPeer.prototype._calculateReattachPosition=function(){var a=AdfPage.PAGE.getPositionManager(),b=this.getDomElement(),d=this._getMenuElement(),e=AdfRichPopup.ALIGN_END_BEFORE,f=d.clientHeight-4,d=d.clientWidth+AdfDhtmlShadowDecorator.getShadowSize();return a.calculatePlacementPosition(f,d,e,b,null)};
AdfDhtmlMenuPeer.prototype._contains=function(a){var b=this.getDomElement(),b=AdfDomUtils.isAncestorOrSelf(b,a);if("noContent"==this._getLazyState())return b;a=AdfDomUtils.isAncestor(this._getMenuElement(),a);return b||a};AdfDhtmlMenuPeer.prototype._getParentId=function(){if(!this._parentId){var a=this.getDomElement().parentNode;do var b=a.getAttribute("id"),a=a.parentNode;while(!b&&a);b&&(this._parentId=b)}return this._parentId};
AdfDhtmlMenuPeer.prototype._getDepth=function(){if(!this._depth){var a=this.getDomElement();this._depth=parseInt(a.getAttribute(AdfMenuUtils.MENU_DEPTH_KEY))}return this._depth};AdfDhtmlMenuPeer.prototype._isSubMenu=function(){return 1<this._getDepth()};AdfDhtmlMenuPeer.prototype._isDisabled=function(){var a=this.getDomElement();return a.disabled||AdfDomUtils.containsCSSClassName(a,AdfRichUIPeer.DISABLED_STYLECLASS)};AdfDhtmlMenuPeer.prototype._isDetachable=function(){return this.getComponent().getDetachable()};
AdfDhtmlMenuPeer.prototype._handleHideRequest=function(a,b){AdfAssert.assert(!this.isDetached(),"this method is not intended for detached menus");if(this.isRootMenu()){var d=this.getDomElement();AdfDomUtils.removeCSSClassName(d,AdfMenuUtils.DEPRESSED_STYLE_CLASS);AdfDomUtils.removeCSSClassName(d,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS)}AdfDhtmlMenuPeer._popupPeerWaitingForShow&&this._contains(AdfDhtmlMenuPeer._popupPeerWaitingForShow.getDomElement())&&AdfDhtmlMenuPeer.cancelShowing();this._scrollBoxElement&&
(this._scrollBoxElement.scrollTop=0);AdfMenuUtils.removeOpenMenu(b)};AdfDhtmlMenuPeer.prototype._createDetachableWindow=function(){this._isMenuVisible()&&null==this._detachableWindow&&(this._detachableWindow=new AdfRepositionable(this._getMenuPopup(),this._handleElement),this._detachableWindow.setDragStartHandler(this.createCallback(this._dragStart)),this._detachableWindow.setDragEndHandler(this.createCallback(this._dragEnd)))};
AdfDhtmlMenuPeer.prototype._dragStart=function(){this._deselectElement();this._showShadow(!1);var a=this.getDomElement();AdfMenuUtils.dismiss(a,!0);a=this._detachableWindow.getElement();this._detachedMenuLeft=a.style.left;this._detachedMenuTop=a.style.top;a=this.getComponent().getClientId();AdfMenuUtils.removeOpenMenu(a);AdfDhtmlMenuPeer._addToDetachedMenus(a);AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to menu first becoming detached");AdfMenuUtils.setMenuBarAutoOpenMode(!1)};
AdfDhtmlMenuPeer.prototype._dragEnd=function(){var a=this._getMenuPopup();AdfAssert.assert(null!=a,"menuPopup should not disappear during a drag.");if(a){a.setAlignElement(null);var b={y:a.getTop(),x:a.getLeft()};a.setAlignPosition(b);this._makeDetached();this._moveShadow(!0);a.activate();AdfMenuUtils.closeAllMenus()}};
AdfDhtmlMenuPeer.prototype._delayPopupHiding=function(a){this._popupHidingHandle&&this._cancelHiding();this._popupHidingHandle=AdfPage.PAGE.getDomWindow().setTimeout(this.createCallback(this._delayPopupHidingCallback),AdfDhtmlMenuPeer._OPEN_CLOSE_DELAY-a)};AdfDhtmlMenuPeer.prototype._delayPopupHidingCallback=function(){var a=this.getComponent();this.isPopupVisible(a,a.getClientId())&&this.hidePopup()};
AdfDhtmlMenuPeer.prototype._delayShow=function(){AdfDhtmlMenuPeer.cancelShowing();AdfDhtmlMenuPeer._popupShowingHandle=AdfPage.PAGE.getDomWindow().setTimeout(this.createCallback(this._delayShowCallback),AdfDhtmlMenuPeer._OPEN_CLOSE_DELAY);AdfDhtmlMenuPeer._popupPeerWaitingForShow=this};
AdfDhtmlMenuPeer.prototype._delayShowCallback=function(){var a=this.getComponent();this.isPopupVisible(a,a.getClientId())?this._reattachMenu():(delete AdfDhtmlMenuPeer._popupPeerWaitingForShow,delete AdfDhtmlMenuPeer._popupShowingHandle,this.show(null,!1))};AdfDhtmlMenuPeer.prototype._cancelHiding=function(){if(this._popupHidingHandle){window.clearTimeout(this._popupHidingHandle);delete this._popupHidingHandle;var a=AdfDhtmlMenuPeer._popupPeerWaitingForShow;a&&a._getDepth()<=this._getDepth()&&AdfDhtmlMenuPeer.cancelShowing()}};
AdfDhtmlMenuPeer.prototype.__makeDetached=function(){this._makeDetached()};AdfDhtmlMenuPeer.prototype._makeDetached=function(){AdfDomUtils.removeCSSClassName(this._handleElement,AdfMenuUtils.DEPRESSED_STYLE_CLASS);var a=this._detachableWindow.getElement();this._isDetached=!0;this._detachedMenuLeft=a.style.left;this._detachedMenuTop=a.style.top;AdfDomUtils.addCSSClassName(this._getMenuElement(),AdfMenuUtils.DETACHED_STYLE_CLASS);AdfMenuUtils.dismiss(this.getDomElement().parentNode,!0,!0);this._getMenuPopup().autoSize()};
AdfDhtmlMenuPeer.prototype._deselectElement=function(){var a=this.getDomElement();AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS);AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS)};
AdfDhtmlMenuPeer.prototype._closeDetachedMenu=function(a){a=this.getComponent();var b=a.getClientId();AdfDomUtils.removeCSSClassName(this._getMenuElement(),AdfMenuUtils.DETACHED_STYLE_CLASS);this._isDetached=!1;var d=this.getDomElement();AdfDomUtils.removeCSSClassName(d,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS);AdfDhtmlMenuPeer._removeFromDetachedMenus(b);this._detachableWindow&&this._detachableWindow.destroy();delete this._detachableWindow;b==AdfDhtmlMenuPeer._reattachedMenuId&&(AdfDhtmlMenuPeer._reattachedMenuId=
null);AdfDhtmlMenuPeer.superclass.hidePopup.call(this,a,b);AdfMenuUtils.closeAllMenus();AdfMenuUtils.restoreFocusToLastOpenedRootMenu()};AdfDhtmlMenuPeer.prototype._moveDetachable=function(a,b){this._dragStart();var d=this._detachableWindow.getElement();d.style.left=d.offsetLeft+a+"px";d.style.top=d.offsetTop+b+"px";this._dragEnd()};AdfDhtmlMenuPeer.prototype._getShadowAnchor=function(){var a=this._getMenuPopup();if(null!=a&&null!=a.getShadowAnchor())return a.getShadowAnchor()};
AdfDhtmlMenuPeer.prototype._showShadow=function(a){var b=this._getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(b)&&AdfDhtmlShadowDecorator.showShadowDecorator(b,a)};AdfDhtmlMenuPeer.prototype._moveShadow=function(a){var b=this._getShadowAnchor();null!=b&&AdfDhtmlShadowDecorator.hasShadowDecorator(b)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(b),AdfDhtmlShadowDecorator.showShadowDecorator(b,a))};AdfDhtmlMenuPeer.prototype.__startScroll=function(a,b){this._startScroll(a,b)};
AdfDhtmlMenuPeer.prototype._startScroll=function(a,b){this._scrollDelta=AdfDhtmlMenuPeer._SCROLL_DELTA;b&&(this._scrollDelta=AdfDhtmlMenuPeer._JUMP_SCROLL_DELTA);a||(this._scrollDelta*=-1);if(b)this._scroll();else{var d=this.createCallback(this._scroll);this._scrollTimer=setInterval(d,10)}};
AdfDhtmlMenuPeer.prototype._endScroll=function(){this._scrollTimer&&clearInterval(this._scrollTimer);this._scrollTimer=null;var a=this._scrollBoxElement.scrollTop,b=this._scrollContentElement.rows,d=b.length;if(0>this._scrollDelta)for(var e=d-1;-1<e;e--){var f=b[e];if("none"!=f.style.display&&(d=f.offsetTop,a>=d)){this._scrollBoxElement.scrollTop=d;break}}else for(var g=a+this._scrollBoxElement.offsetHeight,e=0;e<d;e++)if(f=b[e],"none"!=f.style.display&&(f=f.offsetTop+f.offsetHeight,g<=f)){this._scrollBoxElement.scrollTop=
a+(f-g);break}};AdfDhtmlMenuPeer.prototype._getMenuItemHeight=function(){if(null!=this._menuItemHeight)return this._menuItemHeight;var a=AdfDomUtils.getFirstChildElement(this._scrollContentElement),a=AdfDomUtils.getFirstChildElement(a);this._menuItemHeight=a.clientHeight;0==this._menuItemHeight&&(this._menuItemHeight=a.scrollHeight);return this._menuItemHeight};
AdfDhtmlMenuPeer.prototype._scroll=function(){this._scrollBoxElement.scrollTop+=this._scrollDelta;var a=this._scrollBoxElement.scrollTop,b=this._scrollContentElement.offsetHeight-this._scrollBoxElement.offsetHeight;(0>=a||a>=b)&&this._endScroll();this.updateScrollIconsState()};AdfDhtmlMenuPeer.prototype._getMenuElement=function(){if(null==this._menuElement){var a=this.getDomElement().getAttribute("id"),a=AdfRichUIPeer.CreateSubId(a,"menu");this._menuElement=AdfAgent.AGENT.getElementById(a)}return this._menuElement};
AdfDhtmlMenuPeer.prototype._getMenuPopup=function(){var a=this.getComponent(),b=a.getClientId();return this.getPopupWindow(a,b)};AdfDhtmlMenuPeer.prototype._isMenuVisible=function(){return this._getMenuPopup()?!0:!1};AdfDhtmlMenuPeer.prototype.isContentLoaded=function(){return null!=this._lazyState&&"contentLoaded"==this._lazyState};AdfDhtmlMenuPeer.prototype._getLazyState=function(){null==this._lazyState&&(this._lazyState=null==this._getMenuElement()?"noContent":"contentLoaded");return this._lazyState};
AdfDhtmlMenuPeer.prototype._setLazyState=function(a){this._lazyState=a};AdfDhtmlMenuPeer.prototype._updateActiveDescendant=function(a){AdfAssert.assertDomElement(a);this._activeDescendant&&this._activeDescendant.setAttribute("tabIndex","-1");a.setAttribute("tabIndex","0");this._activeDescendant=a};AdfDhtmlMenuPeer.prototype.SimulateMouseOnDescendant=function(a,b,d){AdfDhtmlMenuPeer.superclass.SimulateMouseOnDescendant.call(this,a,b,d);this.isContextMenu()||this._isMenuVisible()||this.show(null,!1)};
AdfUIComponents.createComponentClass("AdfRichCommandMenuItem",{componentType:"oracle.adf.RichCommandMenuItem",propertyKeys:[{name:"text",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"accessKey",type:"String"},{name:"partialSubmit",type:"Boolean","default":!0},{name:"icon",type:"String"},{name:"selected",type:"Boolean","default":!1},{name:"selectedText",type:"String"},{name:"type",type:"String"},"accelerator",{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},
{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"useWindow",type:"Boolean","default":!1},{name:"windowModalityType",type:"String","default":"modeless"},{name:"windowEmbedStyle",type:"String","default":"window"},{name:"windowHeight",type:"Number"},{name:"windowWidth",type:"Number"}],superclass:AdfUICommand});
AdfRichCommandMenuItem.prototype.getCurrentText=function(){return"antonym"!=this.getType()?this.getText():this.getSelected()?this.getSelectedText():this.getText()};AdfRichCommandMenuItem.prototype.GetChanges=function(){var a=AdfRichCommandMenuItem.superclass.GetChanges.call(this),b=a[AdfRichCommandMenuItem.ACCELERATOR];b&&(a[AdfRichCommandMenuItem.ACCELERATOR]=b.toMarshalledString());return a};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlCommandMenuItemPeer");
AdfDhtmlCommandMenuItemPeer.InitSubclass=function(){AdfObject.ensureClassInitialization(AdfRichCommandMenuItem);AdfObject.ensureClassInitialization(AdfMenuUtils);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.FOCUS_EVENT_TYPE,AdfUIInputEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==
AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichCommandMenuItem.DISABLED,AdfRichCommandMenuItem.SELECTED,AdfRichCommandMenuItem.VISIBLE);AdfRichUIPeer.addComponentPropertyGetters(this,AdfRichCommandMenuItem.TEXT);this._AFR_GROUPID="_afrGrp";this._BUSY="_busy"};
AdfDhtmlCommandMenuItemPeer.prototype.Init=function(a){a.getParent();AdfDhtmlCommandMenuItemPeer.superclass.Init.call(this,a);this._spaceKeyDown=this._enterKeyDown=!1};AdfDhtmlCommandMenuItemPeer.prototype.InitDomElement=function(a,b){AdfDhtmlCommandMenuItemPeer.superclass.InitDomElement.call(this,a,b);var d=a.getAccelerator();null!=d&&AdfRichUIPeer.registerKeyStroke(a,d,this._execute)};
AdfDhtmlCommandMenuItemPeer.prototype.ComponentRemoved=function(a){var b=a.getAccelerator();null!=b&&AdfRichUIPeer.unregisterKeyStroke(a,b);AdfDhtmlCommandMenuItemPeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlCommandMenuItemPeer.prototype.GetAccessibleName=function(){return this.getComponent().getText()};
AdfDhtmlCommandMenuItemPeer.prototype.GetComponentText=function(a,b){var d=a.getParent();if(d=window.AdfRichMenu&&d instanceof AdfRichMenu?AdfDomUtils.getChildElements(b)[1]:AdfDomUtils.getFirstDescendentElement(b,"a"))if("antonym"==a.getType()&&(d=AdfDomUtils.getFirstChildElement(d)),d)return d=AdfAgent.AGENT.getTextContent(d),""==d?null:d;AdfAssert.assert(!1,"Unable to find the element containing the text")};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentKeyUp=function(a){var b=a.getNativeEvent();if(!b.ctrlKey){var d=AdfAgent.AGENT.getKeyCode(b),b=this.getComponent(),e=b.getProperty(AdfDhtmlCommandMenuItemPeer._BUSY);switch(d){case AdfKeyStroke.ENTER_KEY:this._enterKeyDown&&!e&&this._execute();this._enterKeyDown=!1;d=!0;break;case AdfKeyStroke.SPACE_KEY:this._spaceKeyDown&&!e&&this._execute();this._spaceKeyDown=!1;d=!0;break;default:return}d&&a.cancel();(a=b.getParent())&&a instanceof AdfRichMenu&&
a.getPeer().updateScrollIconsState()}};AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentKeyDown=function(a){if(!a.isCanceled()&&!this._isDisabled()){var b=a.getKeyCode();b==AdfKeyStroke.ENTER_KEY?(this._enterKeyDown=!0,a.cancel(),a.stopBubbling()):b==AdfKeyStroke.SPACE_KEY&&(this._spaceKeyDown=!0,a.cancel(),a.stopBubbling())}};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentFocus=function(a){if(!this._isDisabled()){a.cancel();a=this.getDomElement();AdfDhtmlMenuPeer.cancelShowing();var b=this.getComponent();AdfMenuUtils.isInMenu(b)?AdfDomUtils.addCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS):(AdfMenuUtils.isMenuBarAutoOpenMode()&&AdfMenuUtils.closeAllMenus(!1),AdfMenuUtils.highlightRootMenuItem(a))}};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentMouseDown=function(a){!this._isDisabled()&&a.isLeftButtonPressed()&&(a=this.getDomElement(),AdfDomUtils.addCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentMouseUp=function(a){!this._isDisabled()&&a.isLeftButtonPressed()&&(a=this.getDomElement(),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentMouseOver=function(a){var b=this.getComponent();if(this._isDisabled())AdfMenuUtils.isMenuBarAutoOpenMode()&&AdfMenuUtils.isOnMenuBar(b)&&AdfMenuUtils.closeAllMenus(!1);else{a.cancel();a=this.getDomElement();var d=AdfFocusUtils.containsFocus(a);AdfMenuUtils.isInMenu(b)?(AdfDomUtils.addCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS),AdfMenuUtils.dismiss(a,!1),d||this.focus(b)):AdfMenuUtils.isMenuBarAutoOpenMode()&&!d?this.focus(b):AdfMenuUtils.highlightRootMenuItem(a)}};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentMouseOut=function(a){a.cancel();AdfMenuUtils.unhighlightRootMenuItem();this._isDisabled()||(a=this.getComponent(),AdfMenuUtils.isInMenu(a)&&this._deselectElement(),a=this.getDomElement(),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentBlur=function(a){this._deselectElement()};
AdfDhtmlCommandMenuItemPeer.prototype.HandleComponentClick=function(a){var b=this.getComponent().getProperty(AdfDhtmlCommandMenuItemPeer._BUSY);a.isLeftButtonPressed()&&(!this._isDisabled()&&!b)&&this._execute();a.cancel()};AdfDhtmlCommandMenuItemPeer.prototype.ComponentDisabledChanged=function(a,b,d,e){AdfMenuUtils.menuItemDisabledChanged(a,b,d)};
AdfDhtmlCommandMenuItemPeer.prototype.ComponentSelectedChanged=function(a,b,d,e){e=a.getType();if("check"==e||"radio"==e)(AdfMenuUtils.isInMenu(a)?b:AdfDomUtils.getFirstChildElement(b)).setAttribute("aria-checked",d?"true":"false");d?(AdfDomUtils.addCSSClassName(b,AdfMenuUtils.SELECTED_STYLE_CLASS),"radio"==e&&this._toggleRadioGroupItems()):AdfDomUtils.removeCSSClassName(b,AdfMenuUtils.SELECTED_STYLE_CLASS)};
AdfDhtmlCommandMenuItemPeer.prototype.ComponentVisibleChanged=function(a,b,d,e){AdfDhtmlCommandMenuItemPeer.superclass.ComponentVisibleChanged.call(this,a,b,d,e);AdfMenuUtils.menuItemVisibleChanged(a,b,d)};
AdfDhtmlCommandMenuItemPeer.prototype.SetBusy=function(a){var b=this.getComponent(),d=this.getDomElement(),e=AdfDomUtils.getFormElement(d);e&&(e=AdfDomUtils.isMultiPartForm(e),!b.getDisabled()&&(!e&&!AdfPage.PAGE.isAttachmentMode())&&(AdfDomUtils.addOrRemoveCSSClassName(a,d,AdfRichUIPeer.DISABLED_STYLECLASS),b.setProperty(AdfDhtmlCommandMenuItemPeer._BUSY,a,!1,AdfUIComponent.PROPAGATE_NEVER)))};
AdfDhtmlCommandMenuItemPeer.prototype.__preferredSizeChangeNotify=function(a){this.bind(a);a=this.getComponentParent(a);var b=null!=a?a.getPeer():null;b&&b.__preferredSizeChangeNotify&&b.__preferredSizeChangeNotify(a)};
AdfDhtmlCommandMenuItemPeer.prototype._execute=function(){if(!this._isDisabled()){AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to commandMenuItem execute");AdfMenuUtils.setMenuBarAutoOpenMode(!1);for(var a=this.getComponent(),b=a.getParent();b instanceof AdfRichMenu;)b=b.getParent();b instanceof AdfRichPopup?(AdfMenuUtils.closeAllMenus(!1),b.getPeer().hide(b)):(b=AdfMenuUtils.isInMenu(a),AdfMenuUtils.closeAllMenus(b));b=AdfMenuUtils.getContextMenuItemTargetAttrs(a);null!=b&&AdfMenuUtils.setContextMenuItemTargetAttrs(a,
b);b=new AdfActionEvent(a);b.queue(a.getPartialSubmit());b.isCanceled()||(b=a.getType(),"check"==b||"antonym"==b?a.setSelected(!a.getSelected()):"radio"==b&&this._toggleRadioGroupItems())}};
AdfDhtmlCommandMenuItemPeer.prototype._toggleRadioGroupItems=function(){var a=this.getComponent(),b=this.getDomElement(),b=this._getGroupId(b);null==b?(AdfLogger.LOGGER.warning("Unexpected to have commandMenuItem without a group Id."),a.setSelected(!a.getSelected())):(AdfMenuUtils.isInMenu(a)?this._toggleMenuRadioGroupItems(b):AdfMenuUtils.isOnMenuBar(a)&&this._toggleMenuBarRadioGroupItems(b),a.setSelected(!0))};
AdfDhtmlCommandMenuItemPeer.prototype._toggleMenuRadioGroupItems=function(a){for(var b=this.getComponent(),d=this.getDomElement().parentNode.childNodes,e=0;e<d.length;e++){var f=d[e],g=this._getGroupId(f);if(a==g&&(f=f.id))f=AdfPage.PAGE.findComponent(f),f!=b&&(f.getType&&"radio"==f.getType())&&f.setSelected(!1)}};
AdfDhtmlCommandMenuItemPeer.prototype._toggleMenuBarRadioGroupItems=function(a){for(var b=this.getComponent(),d=b.getParent(),d=d.getPeer().getDescendantComponents(d),e=0;e<d.length;e++){var f=d[e],g=f.getPeer();null!=g&&(g=g.getDomElement(),g=this._getGroupId(g),a==g&&f!=b&&(f.getType&&"radio"==f.getType())&&f.setSelected(!1))}};AdfDhtmlCommandMenuItemPeer.prototype._getGroupId=function(a){return a.getAttribute?a.getAttribute(AdfDhtmlCommandMenuItemPeer._AFR_GROUPID):null};
AdfDhtmlCommandMenuItemPeer.prototype._deselectElement=function(){var a=this.getDomElement();AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS)};AdfDhtmlCommandMenuItemPeer.prototype._isDisabled=function(){var a=this.getDomElement();return a.disabled||AdfDomUtils.containsCSSClassName(a,AdfRichUIPeer.DISABLED_STYLECLASS)};
AdfUIComponents.createComponentClass("AdfRichGoMenuItem",{componentType:"oracle.adf.RichGoMenuItem",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},"accelerator",{name:"accessKey",type:"String"},{name:"icon",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"targetFrame",type:"String"},{name:"text",type:"String"}],superclass:AdfUIGo});
AdfRichGoMenuItem.prototype.GetChanges=function(){var a=AdfRichGoMenuItem.superclass.GetChanges.call(this),b=a[AdfRichGoMenuItem.ACCELERATOR];b&&(a[AdfRichGoMenuItem.ACCELERATOR]=b.toMarshalledString());return a};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlGoMenuItemPeer",!1);
AdfDhtmlGoMenuItemPeer.InitSubclass=function(){AdfObject.ensureClassInitialization(AdfRichGoMenuItem);AdfObject.ensureClassInitialization(AdfMenuUtils);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.FOCUS_EVENT_TYPE,AdfUIInputEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==
AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichGoMenuItem.DISABLED,AdfRichGoMenuItem.VISIBLE);AdfRichUIPeer.addComponentPropertyGetters(this,AdfRichGoMenuItem.TEXT)};AdfDhtmlGoMenuItemPeer.prototype.Init=function(a){a.getParent();AdfDhtmlGoMenuItemPeer.superclass.Init.call(this,a);this._spaceKeyDown=this._enterKeyDown=!1};
AdfDhtmlGoMenuItemPeer.prototype.InitDomElement=function(a,b){AdfDhtmlGoMenuItemPeer.superclass.InitDomElement.call(this,a,b);var d=a.getAccelerator();null!=d&&AdfRichUIPeer.registerKeyStroke(a,d,this._execute)};AdfDhtmlGoMenuItemPeer.prototype.ComponentRemoved=function(a){var b=a.getAccelerator();null!=b&&AdfRichUIPeer.unregisterKeyStroke(a,b);AdfDhtmlGoMenuItemPeer.superclass.ComponentRemoved.call(this,a)};
AdfDhtmlGoMenuItemPeer.prototype.GetComponentText=function(a,b){var d=a.getParent();if(d=window.AdfRichMenu&&d instanceof AdfRichMenu?AdfDomUtils.getChildElements(b)[1]:AdfDomUtils.getFirstDescendentElement(b,"a"))return d=AdfAgent.AGENT.getTextContent(d),""==d?null:d;AdfAssert.assert(!1,"Unable to find the element containing the text")};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentKeyUp=function(a){var b=a.getNativeEvent();if(!b.ctrlKey){switch(AdfAgent.AGENT.getKeyCode(b)){case AdfKeyStroke.ENTER_KEY:this._enterKeyDown&&this._execute();this._enterKeyDown=!1;b=!0;break;case AdfKeyStroke.SPACE_KEY:this._spaceKeyDown&&this._execute();this._spaceKeyDown=!1;b=!0;break;default:return}b&&a.cancel();(a=this.getComponent().getParent())&&a instanceof AdfRichMenu&&a.getPeer().updateScrollIconsState()}};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentKeyDown=function(a){if(!a.isCanceled()&&!this._isDisabled()){var b=a.getKeyCode();b==AdfKeyStroke.ENTER_KEY?(this._enterKeyDown=!0,a.cancel(),a.stopBubbling()):b==AdfKeyStroke.SPACE_KEY&&(this._spaceKeyDown=!0,a.cancel(),a.stopBubbling())}};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentFocus=function(a){if(!this._isDisabled()){a.cancel();a=this.getDomElement();AdfDhtmlMenuPeer.cancelShowing();var b=this.getComponent();AdfMenuUtils.isInMenu(b)?AdfDomUtils.addCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS):(AdfMenuUtils.isMenuBarAutoOpenMode()&&AdfMenuUtils.closeAllMenus(!1),AdfMenuUtils.highlightRootMenuItem(a))}};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentMouseDown=function(a){!this._isDisabled()&&a.isLeftButtonPressed()&&(a=this.getDomElement(),AdfDomUtils.addCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};AdfDhtmlGoMenuItemPeer.prototype.HandleComponentMouseUp=function(a){!this._isDisabled()&&a.isLeftButtonPressed()&&(a=this.getDomElement(),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentMouseOver=function(a){var b=this.getComponent();if(this._isDisabled())AdfMenuUtils.isMenuBarAutoOpenMode()&&AdfMenuUtils.isOnMenuBar(b)&&AdfMenuUtils.closeAllMenus(!1);else{a.cancel();a=this.getDomElement();var d=AdfFocusUtils.containsFocus(a);AdfMenuUtils.isInMenu(b)?(AdfDomUtils.addCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS),AdfMenuUtils.dismiss(a,!1),d||this.focus(b)):AdfMenuUtils.isMenuBarAutoOpenMode()&&!d?this.focus(b):AdfMenuUtils.highlightRootMenuItem(a)}};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentMouseOut=function(a){a.cancel();AdfMenuUtils.unhighlightRootMenuItem();this._isDisabled()||(a=this.getComponent(),AdfMenuUtils.isInMenu(a)&&this._deselectElement(),a=this.getDomElement(),AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.DEPRESSED_STYLE_CLASS))};AdfDhtmlGoMenuItemPeer.prototype.HandleComponentBlur=function(a){this._deselectElement()};
AdfDhtmlGoMenuItemPeer.prototype.HandleComponentClick=function(a){!this._isDisabled()&&a.isLeftButtonPressed()&&this._execute();a.cancel()};AdfDhtmlGoMenuItemPeer.prototype.ComponentDisabledChanged=function(a,b,d,e){AdfMenuUtils.menuItemDisabledChanged(a,b,d)};AdfDhtmlGoMenuItemPeer.prototype.ComponentVisibleChanged=function(a,b,d,e){AdfDhtmlGoMenuItemPeer.superclass.ComponentVisibleChanged.call(this,a,b,d,e);AdfMenuUtils.menuItemVisibleChanged(a,b,d)};
AdfDhtmlGoMenuItemPeer.prototype.__preferredSizeChangeNotify=function(a){this.bind(a);a=this.getComponentParent(a);var b=null!=a?a.getPeer():null;b&&b.__preferredSizeChangeNotify&&b.__preferredSizeChangeNotify(a)};
AdfDhtmlGoMenuItemPeer.prototype._execute=function(){if(!this._isDisabled()){AdfLogger.LOGGER.finest("menuBar auto open mode, set to OFF due to goMenuItem execute");AdfMenuUtils.setMenuBarAutoOpenMode(!1);var a=this.getComponent(),b=AdfMenuUtils.getContextMenuItemTargetAttrs(a);null!=b&&AdfMenuUtils.setContextMenuItemTargetAttrs(a,b);b=a.getDestination();if(null==b)b=AdfMenuUtils.isInMenu(a),AdfMenuUtils.closeAllMenus(b);else{var a=a.getTargetFrame(),d=AdfAgent.AGENT;null!=a&&"_blank"==a.toLowerCase()&&
d.getPlatform()==AdfAgent.IE_PLATFORM&&8>d.getVersion()?(AdfMenuUtils.closeAllMenus(!1),AdfPage.PAGE.__handleNavigation(b,a)):(AdfPage.PAGE.__handleNavigation(b,a),AdfMenuUtils.closeAllMenus(!1))}}};AdfDhtmlGoMenuItemPeer.prototype._deselectElement=function(){var a=this.getDomElement();AdfDomUtils.removeCSSClassName(a,AdfMenuUtils.HIGHLIGHTED_STYLE_CLASS)};AdfDhtmlGoMenuItemPeer.prototype._isDisabled=function(){var a=this.getDomElement();return a.disabled||AdfDomUtils.containsCSSClassName(a,AdfRichUIPeer.DISABLED_STYLECLASS)};
AdfUIComponents.createComponentClass("AdfRichInputText",{componentType:"oracle.adf.RichInputText",propertyKeys:[{name:"changed",type:"Boolean","default":!1},{name:"changedDesc",type:"String"},{name:"autoSubmit",type:"Boolean","default":!1},{name:"accessKey",type:"String"},{name:"contentStyle",type:"String"},{name:"helpTopicId",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"label",type:"String"},{name:"labelStyle",type:"String"},{name:"readOnly",type:"Boolean","default":!1,
secured:!0},{name:"showRequired",type:"Boolean","default":!1},{name:"simple",type:"Boolean","default":!1},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"editable",type:"String","default":"inherit"},{name:"placeholder",type:"String"},{name:"autoTab",type:"Boolean","default":!1},{name:"columns",type:"Number"},{name:"spellCheck",type:"String","default":"default"},{name:"dimensionsFrom",type:"String","default":"content"},
{name:"inlineStyle",type:"String"},{name:"maximumLength",type:"Number"},{name:"autoComplete",type:"String","default":"off"},{name:"rows",type:"Number","default":1},{name:"secret",type:"Boolean","default":!1,secured:!0},{name:"styleClass",type:"String"},{name:"usage",type:"String","default":"auto"},{name:"wrap",type:"String"}],superclass:AdfUIInput});
AdfRichUIPeer.createPeerClass(AdfDhtmlInputBasePeer,"AdfDhtmlInputTextPeer");
AdfDhtmlInputTextPeer.InitSubclass=function(){AdfObject.ensureClassInitialization(AdfRichInputText);AdfRichUIPeer.addComponentPropertyGetters(this,AdfRichInputText.LABEL);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_PRESS_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichInputText.LABEL);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichInputText.READ_ONLY);AdfRichUIPeer.addComponentPropertyChanges(this,
AdfRichInputText.CONTENT_STYLE)};AdfDhtmlInputTextPeer.prototype.InitDomElement=function(a,b){AdfDhtmlInputTextPeer.superclass.InitDomElement.call(this,a,b);var d=AdfAgent.AGENT,e=AdfDhtmlEditableValuePeer.getContentNode(a);d.getPlatform()==AdfAgent.IE_PLATFORM&&9>d.getVersion()?AdfAgent.AGENT.addBubbleEventListener(e,"propertychange",this.createCallback(this._handleInput)):AdfAgent.AGENT.addBubbleEventListener(e,"input",this.createCallback(this._handleInput))};
AdfDhtmlInputTextPeer.prototype.replaceTextSelection=function(a){var b=this.getComponent();if(this.WasSubmitted(b)){var d=AdfDhtmlEditableValuePeer.getContentNode(b);AdfEditingAgent.getInstance().insertHtmlAtSelection(d,a);this.RunValidation(b,d)}};AdfDhtmlInputTextPeer.prototype.needsResizeNotify=function(a){var b=AdfAgent.AGENT,d=b.getPlatform()==AdfAgent.IE_PLATFORM,b=b.getVersion();return d&&8>b&&AdfDomUtils.containsCSSClassName(AdfRichUIPeer.getDomNodeForComponent(a),"p_AFStretched")};
AdfDhtmlInputTextPeer.prototype.resizeNotify=function(a,b,d,e,f){b=AdfAgent.AGENT;a=AdfDhtmlEditableValuePeer.getContentNode(a);b.setOuterWidth(a,e);b.setOuterHeight(a,f)};AdfDhtmlInputTextPeer.prototype.SetDisplayValue=function(a,b,d){AdfAssert.assertString(d);b=AdfDhtmlEditableValuePeer.getContentNode(a);a.getReadOnly()?(1<a.getRows()||!0!=this.IsSecret(a))&&AdfAgent.AGENT.setTextContent(b,d):(!(1<a.getRows())&&!this.IsSecret(a)&&(b.title=d),b.value=d)};
AdfDhtmlInputTextPeer.prototype.IsSecret=function(a){return"password"==AdfDhtmlEditableValuePeer.getContentNode(a).type?!0:!1};
AdfDhtmlInputTextPeer.prototype.HandleComponentKeyPress=function(a){this.StopArrowKeyBubbling(a);if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=this.getComponent(),d=a.getNativeEventTarget(),e=a.getNativeEvent(),f=AdfAgent.AGENT.getKeyCode(e);if("TEXTAREA"==d.tagName){if(this._checkLength(b,d)&&(b=e.keyCode,f=e.charCode,(0==b||13==b||void 0==f||b==f)&&!e.ctrlKey))e=!0,null!=d.selectionStart?e=d.selectionStart==d.selectionEnd:document.selection&&(e=""==document.selection.createRange().text),
e&&a.cancel()}else f==AdfKeyStroke.ENTER_KEY&&this.RunValidation(b,d);this._nodeLength=d.value?d.value.length:0}};AdfDhtmlInputTextPeer.prototype.HandleComponentKeyUp=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=AdfAgent.AGENT.getKeyCode(a.getNativeEvent()),d=this.getComponent(),e=a.getNativeEventTarget();9!=b&&this.AutoTab(d,e);delete this._nodeLength;this._checkLength(d,e)}AdfDhtmlInputTextPeer.superclass.HandleComponentKeyUp.call(this,a)};
AdfDhtmlInputTextPeer.prototype.HandleComponentKeyDown=function(a){this.StopArrowKeyBubbling(a)};AdfDhtmlInputTextPeer.prototype._handleInput=function(a){if(a=this.getComponent()){var b=AdfDhtmlEditableValuePeer.getContentNode(a);this._checkLength(a,b)}};
AdfDhtmlInputTextPeer.prototype.AutoTab=function(a,b){if(a.getAutoTab&&a.getAutoTab()&&(AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE||AdfAgent.guessOS()==AdfAgent.ANDROID_OS)){var d=a.getMaximumLength();if(!(1>d)){var e=b.value?b.value.length:0;e>=d&&e>this._nodeLength&&AdfFocusUtils.focusNextTabStop(b)}}};AdfDhtmlInputTextPeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleLabelEditor.getInlineEditor()};
AdfDhtmlInputTextPeer.prototype.ComponentReadOnlyChanged=function(a,b,d,e){if(d)if("SPAN"==b.tagName){if(AdfDomUtils.containsCSSClassName(b,"p_AFClickToEdit")&&AdfDomUtils.removeCSSClassName(b,"p_AFClickToEdit"),AdfDomUtils.addCSSClassName(b,"p_AFReadOnly"),a=AdfDhtmlEditableValuePeer.getContentNode(a),"INPUT"==a.tagName){d=document.createElement("span");e=document.createTextNode(a.value);d.appendChild(e);e=a.attributes;for(var f=0;f<e.length;f++){var g=e[f].name;"type"!=g&&"value"!=g&&d.setAttribute(g,
e[f].value)}b.replaceChild(d,a)}}else return!1;else if("SPAN"==b.tagName){if(AdfDomUtils.containsCSSClassName(b,"p_AFReadOnly")&&AdfDomUtils.removeCSSClassName(b,"p_AFReadOnly"),AdfDomUtils.addCSSClassName(b,"p_AFClickToEdit"),a=AdfDhtmlEditableValuePeer.getContentNode(a),"SPAN"==a.tagName){d=document.createElement("input");e=a.attributes;for(f=0;f<e.length;f++)d.setAttribute(e[f].name,e[f].value);d.setAttribute("type","text");a.firstChild&&a.firstChild.nodeValue&&d.setAttribute("value",a.firstChild.nodeValue);
d.setAttribute("name",b.id);b.replaceChild(d,a)}}else return!1};AdfDhtmlInputTextPeer.prototype.ComponentContentStyleChanged=function(a,b,d,e){a=AdfDhtmlEditableValuePeer.getContentNode(a);if(null!=a)a.style.cssText=d;else return!1};AdfDhtmlInputTextPeer.prototype._checkLength=function(a,b){if(a&&a.getMaximumLength){var d=a.getMaximumLength();if(1>d)return!1;var e=b.value?b.value.length:0;if(e>=d)return e>d&&(b.value=b.value.substr(0,d)),!0}return!1};
function AdfInsertTextBehavior(a,b,d){this.Init(a,b,d)}AdfInsertTextBehavior.InitClass=function(){};AdfObject.createSubclass(AdfInsertTextBehavior,AdfClientBehavior);AdfInsertTextBehavior.prototype.Init=function(a,b,d){AdfInsertTextBehavior.superclass.Init.call(this);AdfAssert.assertString(a);this._componentId=a;this._value=b;this._triggerType=d};AdfInsertTextBehavior.prototype.initialize=function(a){var b=this._triggerType;b||(b=AdfActionEvent.ACTION_EVENT_TYPE);a.addEventListener(b,this.fire,this)};
AdfInsertTextBehavior.prototype.fire=function(a){a.cancel();a=a.getSource();var b=this._componentId,d=a.findComponent(b),e=AdfLogger.LOGGER;d?(b=d.getPeer(),b.bind(d),b.replaceTextSelection&&(b.replaceTextSelection(this._value),this._shiftFocusToButton(a.findComponent(a.getClientId())))):e.severe("Could not find component with Id: "+b)};AdfInsertTextBehavior.prototype._shiftFocusToButton=function(a){a&&AdfFocusUtils.focusElement(AdfDhtmlEditableValuePeer.getContentNode(a))};
function AdfEditingAgent(){this.Init()}AdfObject.createSubclass(AdfEditingAgent);
AdfEditingAgent.getInstance=function(){if(void 0==AdfEditingAgent._instance)if(AdfPage.PAGE.isAttachmentMode())AdfEditingAgent._instance=new AdfGeckoEditingAgent;else switch(AdfAgent.AGENT.getPlatform()){case AdfAgent.GECKO_PLATFORM:AdfEditingAgent._instance=new AdfGeckoEditingAgent;break;case AdfAgent.IE_PLATFORM:11<=AdfAgent.AGENT.getVersion()?AdfEditingAgent._instance=new AdfIE11EditingAgent:AdfEditingAgent._instance=new AdfIEEditingAgent;break;case AdfAgent.WEBKIT_PLATFORM:AdfEditingAgent._instance=
new AdfSafariEditingAgent;break;default:AdfEditingAgent._instance=new AdfEditingAgent}return AdfEditingAgent._instance};AdfEditingAgent.prototype.toBrowserSpecificCommand=function(a){return a};AdfEditingAgent.prototype.getContentWindow=function(a){AdfAssert.assertDomElement(a,"IFRAME");AdfAssert.assert(a.contentWindow,"Unexpected null contentWindow.");return a.contentWindow};
AdfEditingAgent.prototype.getColor=function(a){var b=null,b=a.indexOf&&0===a.indexOf("#")?new TrColorConverter(["#RRGGBB"],!1):new TrColorConverter(["'rgb'(r, g, b)","'rgb'(r,g,b)"],!1);try{a=b.getAsObject(a)}catch(d){a=null}return a};AdfEditingAgent.prototype.getInlineFrameDocument=function(a){AdfAssert.assertDomElement(a,"IFRAME");a=this.getContentWindow(a);AdfAssert.assert(a,"Unexpected null contentWindow.");AdfAssert.assert(a.document,"Unexpected null contentWindow document.");return a.document};
AdfEditingAgent.prototype.execCommand=function(a,b,d,e){var f;"insert"!=d&&(AdfAssert.assertDomElement(b,"IFRAME"),f=AdfEditingAgent.getInstance().getInlineFrameDocument(b));if(null==e)switch(d){case "createlink":e=this._getLinkURLForSelection(a,b);if("popup"===a.getToolbarDisplay()){a.getPeer()._processToolbarPopupAddLinkCmd(e);return}var g=AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_richTextEditor.LABEL_SPECIFY_THE_URL");e=prompt(g,e);if(null==e||""==e)return}switch(d){case "insert":a=
e;null==a&&(a="");this.insertHtmlAtSelection(b,a);break;case "moderichtext":a.getPeer().setCodeEditingMode(!1);break;case "modecode":a.getPeer().setCodeEditingMode(!0);break;case "undo":this.ExecuteUndo(a,b,f);break;case "redo":this.ExecuteRedo(a,b,f);break;case "createlink":this.CreateLink(a,f,e);break;default:this._executeCommand(a,f,d,e)}};
AdfEditingAgent.prototype.isEmptySelection=function(a){AdfAssert.assertDomElement(a,"IFRAME");doc=AdfEditingAgent.getInstance().getInlineFrameDocument(a);return doc.getSelection&&""==doc.getSelection()?!0:!1};
AdfEditingAgent.prototype.queryCommandEnabled=function(a,b,d){AdfAssert.assertString(d);var e=!1;switch(d){case "insert":case "moderichtext":case "modecode":e=!0;break;case "undo":e=this.QueryUndoEnabled(a,b);break;case "redo":e=this.QueryRedoEnabled(a,b);break;default:e=this._queryCommandEnabled(a,b,d)}return e};
AdfEditingAgent.prototype.setInlineFrameContentEditable=function(a){AdfAssert.assertDomElement(a,"IFRAME");a=this.getInlineFrameDocument(a);this.useContentEditable()?this._setContentEditable(a.body):a.designMode="on";return!0};AdfEditingAgent.prototype._setContentEditable=function(a){a.contentEditable=!0};AdfEditingAgent.prototype.useContentEditable=function(){return!1};
AdfEditingAgent.prototype.isDesignMode=function(a){a=this.getInlineFrameDocument(a);if(this.useContentEditable())return!0==a.body.contentEditable;(a=a.designMode)&&(a=a.toLowerCase());return"on"==a};AdfEditingAgent.prototype.isDesignModeReloadingFrame=function(){return!1};
AdfEditingAgent.prototype.queryCommandValue=function(a,b){b=this.toBrowserSpecificCommand(b);var d=!1;try{d=this.getInlineFrameDocument(a).queryCommandValue(b)}catch(e){AdfLogger.LOGGER.severe("queryCommandValue: command not supported (",b,").",e)}return d};
AdfEditingAgent.prototype.queryCommandState=function(a,b){AdfAssert.assertString(b);if(!("indent"==b||"outdent"==b)){if("forecolor"==b||"backcolor"==b||"fontsize"==b||"fontname"==b)return this.queryCommandValue(a,b);var d=!1;b=this.toBrowserSpecificCommand(b);try{d=this.getInlineFrameDocument(a).queryCommandState(b)}catch(e){AdfLogger.LOGGER.severe("queryCommandState: command not supported (",b,").",e)}return d}};
AdfEditingAgent.prototype.setRTL=function(a){AdfAssert.assert(a);a=a.body;AdfAssert.assertDomElement(a,"BODY");a.setAttribute("dir",AdfPage.PAGE.getLocaleContext().isRightToLeft()?"rtl":"ltr")};AdfEditingAgent.prototype.queryCommandIndeterminate=function(a,b){b=this.toBrowserSpecificCommand(b);var d=!1;try{d=this.getInlineFrameDocument(a).queryCommandIndeterm(b)}catch(e){AdfLogger.LOGGER.severe("queryCommandIndeterminate: command not supported (",b,").",e)}return d};
AdfEditingAgent.prototype.getFocusBlurElement=function(a){return a};AdfEditingAgent.prototype.getSelectionRange=function(a){return this.getInlineFrameDocument(a).selection.createRange()};AdfEditingAgent.prototype.getInlineFrameContent=function(a,b){return this.getInlineFrameDocument(a).body.innerHTML};AdfEditingAgent.prototype.setInlineFrameContent=function(a,b){this.getInlineFrameDocument(a).body.innerHTML=b};AdfEditingAgent.prototype.getDefaultContent=function(){return""};
AdfEditingAgent.prototype.setSelectionRange=function(a,b){b.select()};
AdfEditingAgent.prototype.insertHtmlAtSelection=function(a,b){if("TEXTAREA"==a.nodeName||"INPUT"==a.nodeName){var d=a.selectionStart+b.length;a.value=a.value.substr(0,a.selectionStart)+b+a.value.substr(a.selectionEnd);a.selectionStart=d;a.selectionEnd=d}else if(d=this.getSelectionRange(a),null==d)AdfLogger.LOGGER.severe("Unexpected null selection for insert command.");else{0<d.toString().length&&d.deleteContents();d.cloneRange();var e=document.createElement("div");e.innerHTML=b;for(var e=e.childNodes,
f=null,g=e.length-1;0<=g;g--){var h=e[g];null==f&&(f=h);d.insertNode(h)}null!=f&&(d.selectNode(f),d.setStartAfter(f))}};AdfEditingAgent.prototype.handleTab=function(a,b){};AdfEditingAgent.prototype.updateValueHistory=function(a,b,d){};AdfEditingAgent.prototype.ExecuteUndo=function(a,b,d){this._executeCommand(a,d,"undo",null)};AdfEditingAgent.prototype.ExecuteRedo=function(a,b,d){this._executeCommand(a,d,"redo",null)};
AdfEditingAgent.prototype.CreateLink=function(a,b,d){this._executeCommand(a,b,"createlink",d)};AdfEditingAgent.prototype.QueryUndoEnabled=function(a,b){return this._queryCommandEnabled(a,b,"undo")};AdfEditingAgent.prototype.QueryRedoEnabled=function(a,b){return this._queryCommandEnabled(a,b,"redo")};
AdfEditingAgent.prototype.IsNodeWrappingRange=function(a,b){var d=b.ownerDocument.createRange();try{d.selectNode(b)}catch(e){return AdfLogger.LOGGER.logErrorAsInfo(e,"Unable to select node in range"),!1}var f=-1!=a.compareBoundaryPoints(Range.START_TO_START,d),d=1!=a.compareBoundaryPoints(Range.END_TO_END,d);return f&&d};
AdfEditingAgent.prototype._executeCommand=function(a,b,d,e){a=this.toBrowserSpecificCommand(d);try{b.execCommand(a,null,e)}catch(f){AdfLogger.LOGGER.severe("execCommand[",d,",",e,"] failed with the following exception: ",f)}};AdfEditingAgent.prototype._queryCommandEnabled=function(a,b,d){a=!1;b=this.getInlineFrameDocument(b);d=this.toBrowserSpecificCommand(d);try{a=b.queryCommandEnabled(d)}catch(e){AdfLogger.LOGGER.severe("queryCommandEnabled failed with the following exception: [",d,"]: ",e)}return a};
AdfEditingAgent.prototype._getLinkURLForSelection=function(a,b){AdfAssert.assertDomElement(b,"IFRAME");for(var d=this.getInlineFrameDocument(b).getElementsByTagName("a"),e=a.getPeer().getSelectionRange(a),f="about:blank",g=0;g<d.length;g++)if(this.IsNodeWrappingRange(e,d[g])){f=d[g].href;break}return f};AdfEditingAgent.prototype.getSelectionRangeString=function(a){return a?a.toString():""};
function AdfSafariEditingAgent(){this.Init();this._isTouch=AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]!=AdfAgent.CAP_TOUCH_SCREEN_NONE}AdfObject.createSubclass(AdfSafariEditingAgent,AdfEditingAgent);
AdfSafariEditingAgent.prototype.getInlineFrameContent=function(a,b){if(this._isTouch&&AdfAgent.AGENT.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&null==a.contentWindow)return"";var d=this.getInlineFrameDocument(a).body;if(!b){var e=d.childNodes;if(e&&1==e.length&&(e=e[0],"P"==e.nodeName&&""==e.innerText))return""}return d.innerHTML};AdfSafariEditingAgent.prototype.getDefaultContent=function(){return"\x3cbr\x3e"};
AdfSafariEditingAgent.prototype.insertHtmlAtSelection=function(a,b){if("TEXTAREA"==a.nodeName||"INPUT"==a.nodeName){var d=a.selectionStart+b.length;a.value=a.value.substr(0,a.selectionStart)+b+a.value.substr(a.selectionEnd);a.selectionStart=d;a.selectionEnd=d}else if(d=this.getSelectionRange(a),null==d){var e=this.getInlineFrameDocument(a),f=e.createElement("div");f.innerHTML=b;for(var f=f.childNodes,g=f.length,d=e.body,g=g-1;0<=g;g--)e=f[g],d.insertBefore(e,d.firstChild)}else{0<d.toString().length&&
d.deleteContents();e=this.getInlineFrameDocument(a);f=e.createElement("div");f.innerHTML=b;for(var f=f.childNodes,g=f.length,h=null,g=g-1;0<=g;g--)e=f[g],null==h&&(h=e),d.insertNode(e);null!=h&&(d.selectNode(h),d.setStartAfter(h))}};AdfSafariEditingAgent.prototype.setInlineFrameContentEditable=function(a){if(this.isDesignMode(a))return!1;var b=AdfSafariEditingAgent.superclass.setInlineFrameContentEditable.call(this,a);this.isDesignMode(a)&&this.execCommand(null,a,"styleWithCSS",!0);return b};
AdfSafariEditingAgent.prototype.useContentEditable=function(){return this._isTouch};AdfSafariEditingAgent.prototype.getFocusBlurElement=function(a){AdfAssert.assertDomElement(a,"IFRAME");a=this.getInlineFrameDocument(a).body;a.tabIndex=0;return a};AdfSafariEditingAgent.prototype.getSelectionRange=function(a){AdfAssert.assertDomElement(a,"IFRAME");if((a=this._getWindowSelection(a))&&0<a.rangeCount)return a.getRangeAt(0)};
AdfSafariEditingAgent.prototype.setSelectionRange=function(a,b){AdfAssert.assertDomElement(a,"IFRAME");var d=this._getWindowSelection(a);d&&(d.removeAllRanges(),d.addRange(b))};AdfSafariEditingAgent.prototype._getWindowSelection=function(a){AdfAssert.assertDomElement(a,"IFRAME");return this.getInlineFrameDocument(a).defaultView.getSelection()};
AdfSafariEditingAgent.prototype.handleTab=function(a,b){b.shiftKey?(AdfAgent.AGENT.preventDefault(b),AdfFocusUtils.focusPreviousTabStop(a)):(AdfAgent.AGENT.preventDefault(b),AdfFocusUtils.focusNextTabStop(a,null,!0))};AdfSafariEditingAgent.prototype.queryCommandValue=function(a,b){if(this.isDesignMode(a))return AdfSafariEditingAgent.superclass.queryCommandValue.call(this,a,b)};
AdfSafariEditingAgent.prototype.queryCommandState=function(a,b){if(this.isDesignMode(a))return AdfSafariEditingAgent.superclass.queryCommandState.call(this,a,b)};AdfSafariEditingAgent.prototype.queryCommandIndeterminate=function(a,b){return!this.isDesignMode(a)?!1:AdfSafariEditingAgent.superclass.queryCommandIndeterminate.call(this,a,b)};
AdfSafariEditingAgent.prototype.queryCommandEnabled=function(a,b,d){return!this.isDesignMode(b)?!1:AdfSafariEditingAgent.superclass.queryCommandEnabled.call(this,a,b,d)};
AdfSafariEditingAgent.prototype.updateValueHistory=function(a,b,d){var e=AdfAgent.AGENT;this._isTouch&&e.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&536>e.getVersion()?(this._updateValueHistory||(this._updateValueHistory=[]),a=this._updateValueHistory.length,0<a&&this._updateValueHistory[a-1]==d||this._updateValueHistory.push(d)):AdfSafariEditingAgent.superclass.updateValueHistory.call(this,a,b,d)};
AdfSafariEditingAgent.prototype.ExecuteUndo=function(a,b,d){var e=AdfAgent.AGENT;this._isTouch&&e.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&536>e.getVersion()?(this._redoStack||(this._redoStack=[]),this._updateValueHistory&&0<this._updateValueHistory.length&&(a=this._updateValueHistory.pop(),this._redoStack.push(a),0<this._updateValueHistory.length&&this.setInlineFrameContent(b,this._updateValueHistory[this._updateValueHistory.length-1]))):AdfSafariEditingAgent.superclass.ExecuteUndo.call(this,a,b,
d)};AdfSafariEditingAgent.prototype.ExecuteRedo=function(a,b,d){var e=AdfAgent.AGENT;this._isTouch&&e.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&536>e.getVersion()?this._redoStack&&0<this._redoStack.length&&this.setInlineFrameContent(b,this._redoStack.pop()):AdfSafariEditingAgent.superclass.ExecuteRedo.call(this,a,b,d)};
AdfSafariEditingAgent.prototype.QueryUndoEnabled=function(a,b){var d=AdfAgent.AGENT;return this._isTouch&&d.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&536>d.getVersion()?this._updateValueHistory&&0<this._updateValueHistory.length?!0:!1:AdfSafariEditingAgent.superclass.QueryUndoEnabled.call(this,a,b)};
AdfSafariEditingAgent.prototype.QueryRedoEnabled=function(a,b){var d=AdfAgent.AGENT;return this._isTouch&&d.getPlatform()==AdfAgent.WEBKIT_PLATFORM&&536>d.getVersion()?this._redoStack&&0<this._redoStack.length?!0:!1:AdfSafariEditingAgent.superclass.QueryRedoEnabled.call(this,a,b)};
AdfUIComponents.createComponentClass("AdfRichGoImageLink",{componentType:"oracle.adf.RichGoImageLink",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"accessKey",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"targetFrame",type:"String"},{name:"text",type:"String"},{name:"depressedIcon",type:"String"},{name:"disabledIcon",
type:"String"},{name:"hoverIcon",type:"String"},{name:"icon",type:"String"},{name:"iconPosition",type:"String","default":"leading"}],superclass:AdfUIGo});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlGoImageLinkPeer");
AdfDhtmlGoImageLinkPeer.InitSubclass=function(){AdfObject.ensureClassInitialization(AdfRichGoImageLink);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,
AdfRichGoImageLink.TEXT);AdfRichUIPeer.addComponentPropertyGetters(this,AdfRichGoImageLink.TEXT);this._DEPRESSED_STYLE_CLASS="p_AFDepressed";this._EXPANDO_TEXT_LENGTH="data-afr-tlen"};AdfDhtmlGoImageLinkPeer.prototype.HandleComponentClick=function(a){var b=this.getComponent(),d=this.getDomElement().getAttribute("target");AdfNavigationUtils.performGetNavigation(b,a,d)};AdfDhtmlGoImageLinkPeer.prototype.HandleComponentMouseOver=function(a){this.getComponent().getDisabled()||this._displayMouseOverIcon(this.getComponent())};
AdfDhtmlGoImageLinkPeer.prototype.HandleComponentMouseOut=function(a){a=this.getComponent();a.getDisabled()||(this._setDepressedStyle(a,!1),this._displayDefaultIcon(this.getComponent()))};AdfDhtmlGoImageLinkPeer.prototype.HandleComponentMouseUp=function(a){a=this.getComponent();a.getDisabled()||(this._setDepressedStyle(a,!1),this._displayMouseOverIcon(a))};
AdfDhtmlGoImageLinkPeer.prototype.HandleComponentMouseDown=function(a){var b=this.getComponent();a=a.isLeftButtonPressed();!b.getDisabled()&&a&&(this._setDepressedStyle(b,!0),this._displayMouseDownIcon(b))};
AdfDhtmlGoImageLinkPeer.prototype.GetComponentText=function(a,b){var d=b.getAttribute(AdfDhtmlGoImageLinkPeer._EXPANDO_TEXT_LENGTH);if(null==d)return null;if(0==d)return"";var e=AdfDomUtils.getFirstDescendentElement(b,"span");if(e)return AdfAgent.AGENT.getTextContent(e).slice(0,d);AdfAssert.assert(!1,"Unable to find the element containing the text")};AdfDhtmlGoImageLinkPeer.prototype._getIconElement=function(a){a=a.getClientId();a=AdfRichUIPeer.CreateSubId(a,"icon");return AdfAgent.AGENT.getElementById(a)};
AdfDhtmlGoImageLinkPeer.prototype._displayDefaultIcon=function(a){var b=a.getIcon();b&&(this._getIconElement(a).src=b)};AdfDhtmlGoImageLinkPeer.prototype._displayMouseDownIcon=function(a){this._displayIcon(a,a.getDepressedIcon())};AdfDhtmlGoImageLinkPeer.prototype._displayMouseOverIcon=function(a){this._displayIcon(a,a.getHoverIcon())};AdfDhtmlGoImageLinkPeer.prototype._displayDisabledIcon=function(a){this._displayIcon(a,a.getDisabledIcon())};
AdfDhtmlGoImageLinkPeer.prototype._displayIcon=function(a,b){var d=a.getIcon();d&&(this._getIconElement(a).src=b||d)};AdfDhtmlGoImageLinkPeer.prototype._setDepressedStyle=function(a,b){var d=AdfRichUIPeer.getDomElementForComponent(a),e=AdfDhtmlGoImageLinkPeer._DEPRESSED_STYLE_CLASS;b?AdfDomUtils.addCSSClassName(d,e):AdfDomUtils.removeCSSClassName(d,e)};AdfDhtmlGoImageLinkPeer.prototype.ComponentTextChanged=AdfDomUtils.__componentTextChanged;
function AdfNavigationUtils(){}AdfObject.createSubclass(AdfNavigationUtils);AdfNavigationUtils.performGetNavigation=function(a,b,d){b.isLeftButtonPressed()&&!a.getDisabled()&&(a=a.getDestination(),null!=a&&(AdfPage.PAGE.__handleNavigation(a,d),b.cancel()))};
AdfUIComponents.createComponentClass("AdfUIShowOne",{componentType:"org.apache.myfaces.trinidad.ShowOne"});
AdfUIComponents.createComponentClass("AdfRichPanelTabbed",{componentType:"oracle.adf.RichPanelTabbed",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"contentDelivery",type:"String","default":"lazyUncached"},{name:"dimensionsFrom",type:"String","default":"parent"},{name:"maxTabSize",type:"String","default":"infinity"},{name:"minTabSize",
type:"String","default":"0px"},{name:"truncationStyle",type:"String","default":"none"},{name:"position",type:"String","default":"above"},{name:"tabRemoval",type:"String","default":"none"}],eventNames:["item"],superclass:AdfUIShowOne});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlPanelTabbedPeer",!1);
AdfDhtmlPanelTabbedPeer.InitSubclass=function(){AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.FOCUS_EVENT_TYPE,AdfUIInputEvent.BLUR_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);
this._TAB_HEADER="tabh";this._TAB_FOOTER="tabf";this._TAB_VERTICAL="tabv";this._TAB_BODY_OUTER="tabb";this._TAB_BODY_INNER="tabbc";this.TAB_SUB_ID_ABOVE="ti";this.TAB_SUB_ID_BELOW="tiB";this.TAB_SUB_ID_ICON="icon";this.TAB_SUB_ID_ICON_BELOW="iconB";this._EXPANDO_ROWKEY_ATTRIBUTE="_afrPtKey";this._TAB_ID_CONVEYOR_SUFFIX="Cnvr";this._EXPANDO_COMPRESSED_LAYOUT_LINK="_afrOfwLnk";this._EXPANDO_DISCLOSED_TAB_ID="_afrDisTab";this._ANCHOR_SUB_ID_ABOVE="disAcr";this._ANCHOR_SUB_ID_BELOW="disAcrBlw";this._ANCHOR_SUB_ID_BELOW_LENGTH=
this._ANCHOR_SUB_ID_BELOW.length;this._REMOVE_ICON_ABOVE_ID="rmAbv";this._REMOVE_ICON_BELOW_ID="rmBlw";this._HIGHLIGHTED_STYLE_CLASS="p_AFHighlighted";this._ELLIPSIS_SUBID="_afrEps";this._TAB_CONTENT="_afrTabCnt";this._INVERTED_POSITION_MAP={above:"below",below:"above",start:"end",end:"start",left:"right",right:"left"};this._compressedLayoutMode="notSupported";var a=AdfPage.PAGE.getLookAndFeel().getSkinProperty("af|panelTabbed-tr-layout-type"),b=AdfAgent.AGENT,b=b.getPlatform()==AdfAgent.IE_PLATFORM&&
7==Math.floor(b.getVersion());this._compressedLayoutMode="overflow"==a?"overflow":"overflow-droplist"==a||b?"overflow-droplist":"conveyorBelt"};
AdfDhtmlPanelTabbedPeer.prototype.InitDomElement=function(a,b){AdfDhtmlPanelTabbedPeer.superclass.InitDomElement.call(this,a,b);var d=AdfAgent.getAgent(),e=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_HEADER);this._headerDiv=d.getElementById(e);var f=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_VERTICAL);this._vertDiv=d.getElementById(f);e="conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode?AdfRichUIPeer.CreateSubId(e,"cbc"):AdfRichUIPeer.CreateSubId(e,
"oc");this._headerTabsDiv=AdfAgent.AGENT.getElementById(e);e=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_FOOTER);this._footerDiv=d.getElementById(e);e="conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode?AdfRichUIPeer.CreateSubId(e,"cbc"):AdfRichUIPeer.CreateSubId(e,"oc");this._footerTabsDiv=AdfAgent.AGENT.getElementById(e);e=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_BODY_OUTER);this._bodyOuterDiv=d.getElementById(e);e=AdfRichUIPeer.CreateSubId(a.getClientId(),
AdfDhtmlPanelTabbedPeer._TAB_BODY_INNER);this._bodyInnerDiv=d.getElementById(e);this._stretchedOnLastResize=!0;AdfPage.PAGE.__registerDescendantResizeNotifyComponent(a)};
AdfDhtmlPanelTabbedPeer.prototype.BindToComponent=function(a,b){AdfDhtmlPanelTabbedPeer.superclass.BindToComponent.call(this,a,b);var d=AdfDhtmlPanelTabbedPeer.GetRecentTabClientId();if(null!=d){var e,f;!0==AdfDhtmlPanelTabbedPeer.IsRecentTabOnTheBelowBar()?(e=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW,f=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_ABOVE):(e=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_ABOVE,f=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW);this._selectedChildId=d;e=AdfRichUIPeer.CreateSubId(d,
e);e=AdfAgent.AGENT.getElementById(e);null==e&&(e=AdfRichUIPeer.CreateSubId(d,f),e=AdfAgent.AGENT.getElementById(e));null!=e&&AdfFocusUtils.focusElement(e);AdfDhtmlPanelTabbedPeer._recentTabClientId=null;AdfDhtmlPanelTabbedPeer._recentTabOnTheBelowBar=null}};AdfDhtmlPanelTabbedPeer.prototype.HandleComponentMouseOver=function(a){this._handleIcon(a,!0,!1)};AdfDhtmlPanelTabbedPeer.prototype.HandleComponentMouseDown=function(a){this._handleIcon(a,!1,!0)};
AdfDhtmlPanelTabbedPeer.prototype.HandleComponentMouseUp=function(a){this._handleIcon(a,!1,!1)};AdfDhtmlPanelTabbedPeer.prototype.HandleComponentMouseOut=function(a){this._handleIcon(a,!1,!1)};
AdfDhtmlPanelTabbedPeer.prototype.HandleComponentKeyUp=function(a){var b=a.getNativeEvent(),d=a.getKeyCode(),e=a.getNativeEventTarget();if(!a.isCanceled())if(b.ctrlKey&&b.altKey&&d==AdfKeyStroke.F4_KEY)a=this._getCurrencyFromDomElement(e,this.getDomElement()),null!=a&&(b=AdfPage.PAGE.findComponent(a),!b.getDisabled()&&this._canRemove(a)&&(this._saveAndRemoveCompressedLayout(),AdfFocusUtils.focusNextTabStop(e,null,!0),AdfItemEvent.queueItemRemoveEvent(b)));else if(d==AdfKeyStroke.ARROWUP_KEY||d==AdfKeyStroke.ARROWLEFT_KEY)this._isTabLink(e)&&
((e=AdfFocusUtils.getPreviousFocusableDescendant(this._getTabContainer(),e))||(e=AdfFocusUtils.getLastFocusableDescendant(this._getTabContainer())),e&&(e.focus(),a.cancel()));else if((d==AdfKeyStroke.ARROWDOWN_KEY||d==AdfKeyStroke.ARROWRIGHT_KEY)&&this._isTabLink(e))(e=AdfFocusUtils.getNextFocusableDescendant(this._getTabContainer(),e))||(e=AdfFocusUtils.getFirstFocusableDescendant(this._getTabContainer())),e&&(e.focus(),a.cancel())};
AdfDhtmlPanelTabbedPeer.prototype._getTabContainer=function(){return this._vertDiv?this._vertDiv:null==AdfAgent.AGENT.getAttribute(this._headerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID)?this._footerDiv:this._headerDiv};
AdfDhtmlPanelTabbedPeer.prototype._isTabLink=function(a){if(null==a)return!1;var b=a.id;if(null==b)return!1;b=b.split("::");if(1>=b.length)return!1;b=b[b.length-1];return b!=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_ABOVE&&b!=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW||null==this._getCurrencyFromDomElement(a,this.getDomElement())?!1:!0};
AdfDhtmlPanelTabbedPeer.prototype.HandleComponentClick=function(a){if(!a.isCanceled()&&a.isLeftButtonPressed()){var b=this.getComponent(),d=a.getNativeEventTarget();if("1"==AdfAgent.AGENT.getExpandoProperty(d,AdfDhtmlPanelTabbedPeer._EXPANDO_COMPRESSED_LAYOUT_LINK))this._selectTab(d),a.cancel();else{var e=this._getCurrencyFromDomElement(d,this.getDomElement());if(null!=e&&(a.cancel(),a=AdfPage.PAGE.findComponent(e),!a.getDisabled()))if(this._isOnRemoveButton(e,d))this._canRemove(e)&&(this.hideAllPopups(b),
this._saveAndRemoveCompressedLayout(),d.parentNode.className&&d.parentNode.className!=AdfDhtmlPanelTabbedPeer._compressedLayoutElementStyleClass||AdfFocusUtils.focusNextTabStop(d,null,!0),AdfItemEvent.queueItemRemoveEvent(a));else{var f=this.GetOldDisclosedChild(b);if(a!=f){var d=d.id,g=d.length-AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW_LENGTH,h=!1;0<=g&&(h=g==d.lastIndexOf(AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW,g));AdfDhtmlPanelTabbedPeer.SetRecentTabInfo(e,h);this._saveAndRemoveCompressedLayout();
(e=this.QueueClientDisclosureChanges(f,a))&&e.isCanceled()&&this._updateOverflow(0);this.NewTabSelected(b)}else this.TabReselected(b,a)}}}};AdfDhtmlPanelTabbedPeer.prototype.HandleComponentFocus=function(a){this._handleTabFocusOrBlur(a,!0)};AdfDhtmlPanelTabbedPeer.prototype.HandleComponentBlur=function(a){this._handleTabFocusOrBlur(a,!1)};AdfDhtmlPanelTabbedPeer.prototype.TabReselected=function(a,b){};AdfDhtmlPanelTabbedPeer.prototype.NewTabSelected=function(a){};
AdfDhtmlPanelTabbedPeer.prototype.GetBodyOuterElement=function(){return this._bodyOuterDiv};AdfDhtmlPanelTabbedPeer.prototype.GetBodyInnerElement=function(){return this._bodyInnerDiv};AdfDhtmlPanelTabbedPeer.prototype.GetVertTabsElement=function(){return this._vertDiv};AdfDhtmlPanelTabbedPeer.prototype.UseInvertedRenderingPosition=function(){return!1};
AdfDhtmlPanelTabbedPeer.prototype._getRenderingPosition=function(a){a=a.getPosition();return this.UseInvertedRenderingPosition()?AdfDhtmlPanelTabbedPeer._INVERTED_POSITION_MAP[a]:a};AdfDhtmlPanelTabbedPeer.prototype._hasSubIdInId=function(a,b,d){a=a.id;if(null==a)return!1;a=a.split("::");return 1>=a.length?!1:(a=a[a.length-1])&&(a==b||a==d)?!0:!1};
AdfDhtmlPanelTabbedPeer.prototype._findChildFromSubId=function(a,b,d){return this._hasSubIdInId(a,b,d)&&(a=this._getCurrencyFromDomElement(a,this.getDomElement()),null!=a)?AdfPage.PAGE.findComponent(a):null};AdfDhtmlPanelTabbedPeer.prototype._displayIcon=function(a,b,d){d||(d=b.getIcon());d&&(a.src=d)};
AdfDhtmlPanelTabbedPeer.prototype._handleIcon=function(a,b,d){a=a.getNativeEventTarget();var e=this._findChildFromSubId(a,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON);null==e&&(e=this._findChildFromSubId(a,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON_BELOW));e&&!e.getDisabled()&&"inline"!=e.getIconDelivery()&&(b?this._displayIcon(a,e,e.getHoverIcon()):d?this._displayIcon(a,e,e.getDepressedIcon()):e.getDisclosed()?this._displayIcon(a,e,e.getDepressedIcon()):this._displayIcon(a,e,e.getIcon()))};
AdfDhtmlPanelTabbedPeer.prototype._handleTabFocusOrBlur=function(a,b){a.cancel();var d=a.getNativeEventTarget(),e=d.id;null!=e&&(e=e.split("::"),1>=e.length||(e=e[e.length-1],e!=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_ABOVE&&e!=AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_BELOW||(d=this._getCurrencyFromDomElement(d,this.getDomElement()),null!=d&&(d=AdfRichUIPeer.createSubId(d,e==AdfDhtmlPanelTabbedPeer._ANCHOR_SUB_ID_ABOVE?AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ABOVE:AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_BELOW),
d=AdfAgent.getAgent().getElementById(d),null!=d&&(b?AdfDomUtils.addCSSClassName(d,AdfDhtmlPanelTabbedPeer._HIGHLIGHTED_STYLE_CLASS):AdfDomUtils.removeCSSClassName(d,AdfDhtmlPanelTabbedPeer._HIGHLIGHTED_STYLE_CLASS))))))};AdfDhtmlPanelTabbedPeer.prototype.needsResizeNotify=function(a){return!0};AdfDhtmlPanelTabbedPeer.prototype.ResizeNotify=function(a,b,d,e){a!=d&&(this.GetVertTabsElement()?this._resizeVertTabs():"ellipsis"==this.getComponent().getTruncationStyle()?this._resizeTabs(a,d):this._updateOverflow(d))};
AdfDhtmlPanelTabbedPeer.prototype._updateOverflow=function(a){var b=this.getComponent(),d=this._getRenderingPosition(b);if("above"==d||"both"==d){var e=AdfRichUIPeer.CreateSubId(b.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_HEADER),f=this._getChildElements(e,this._headerTabsDiv);this._resizeOverflow(e,f,a,!0)}if("below"==d||"both"==d)b=AdfRichUIPeer.CreateSubId(b.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_FOOTER),d=this._getChildElements(b,this._footerTabsDiv),this._resizeOverflow(b,d,a,!1)};
AdfDhtmlPanelTabbedPeer.prototype._shouldCompressLayout=function(a){var b=AdfDhtmlPanelTabbedPeer._compressedLayoutMode;return"overflow"==b||"overflow-droplist"==b?AdfOverflowSupport.needsOverflow(a):"conveyorBelt"==b?AdfConveyorBeltSupport.shouldUseConveyorBelt(a):!1};
AdfDhtmlPanelTabbedPeer.prototype._resizeTabs=function(a,b){AdfLogger.LOGGER.finer("Available width for tabs changed from "+a+" to "+b);var d=this.getComponent(),e=this._getRenderingPosition(d);if("above"==e||"both"==e){var f=AdfRichUIPeer.CreateSubId(d.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_HEADER);this._resizeHeaderOrFooterTabs(f,a,b,!0)}if("below"==e||"both"==e)d=AdfRichUIPeer.CreateSubId(d.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_FOOTER),this._resizeHeaderOrFooterTabs(d,a,b,!1)};
AdfDhtmlPanelTabbedPeer.prototype._resizeVertTabs=function(){var a=this._getRenderingPosition(this.getComponent()),b=this.GetBodyOuterElement();if(!b.style.width){var d=!1,e=AdfPage.PAGE.getLocaleContext().isRightToLeft();if("left"==a||"start"==a&&!e||"end"==a&&e)d=!0;a=this.GetVertTabsElement();d?b.style.left=a.offsetWidth+"px":b.style.right=a.offsetWidth+"px"}};
AdfDhtmlPanelTabbedPeer.prototype._resizeHeaderOrFooterTabs=function(a,b,d,e){if(!this.GetVertTabsElement()){d=e?this._headerTabsDiv:this._footerTabsDiv;var f=this._getChildElements(a,d);0!=f.length&&this._layoutTabs(b,d.offsetWidth,a,f,e)}};
AdfDhtmlPanelTabbedPeer.prototype.ComponentRemoved=function(a){this._removeCompressedLayoutSupport();delete this._headerDiv;delete this._headerTabsDiv;delete this._footerDiv;delete this._footerTabsDiv;delete this._bodyOuterDiv;delete this._bodyInnerDiv;AdfPage.PAGE.__unregisterDescendantResizeNotifyComponent(a);AdfDhtmlPanelTabbedPeer.superclass.ComponentRemoved.call(this,a)};
AdfDhtmlPanelTabbedPeer.prototype._getOverflowSupport=function(a,b,d){a=new AdfOverflowSupport(a,this,"both",d);for(d=0;d<b.length;d++){var e=b[d];1==e.nodeType&&(a.createStep(),a.addElement(e),a.addOverflowElement(this._createCompressedLayoutPopupElement(e)))}return a};
AdfDhtmlPanelTabbedPeer.prototype._getOverflowDroplistSupport=function(a,b,d){a=new AdfOverflowSupport(a,this,"droplist",d);d=[];for(var e=0;e<b.length;e++){var f=b[e];1==f.nodeType&&(a.createStep(),a.addElement(f),"none"!=f.style.display&&(a.addOverflowElement(this._createCompressedLayoutPopupElement(f)),d.push(this._createCompressedLayoutPopupElement(f))))}a.addDropListElements(d);return a};
AdfDhtmlPanelTabbedPeer.prototype._getConveyorBeltSupport=function(a,b,d){d=new AdfConveyorBeltSupport(a,this);var e=[];a=AdfRichUIPeer.CreateSubId(a,"cbs");for(var f=0;f<b.length;f++){var g=b[f];1==g.nodeType&&g.getAttribute("id")!=a&&"none"!=g.style.display&&e.push(this._createCompressedLayoutPopupElement(g))}d.addDropListElements(e);return d};AdfDhtmlPanelTabbedPeer.GetRecentTabClientId=function(){return AdfDhtmlPanelTabbedPeer._recentTabClientId};
AdfDhtmlPanelTabbedPeer.IsRecentTabOnTheBelowBar=function(){return AdfDhtmlPanelTabbedPeer._recentTabOnTheBelowBar};AdfDhtmlPanelTabbedPeer.SetRecentTabInfo=function(a,b){AdfDhtmlPanelTabbedPeer._recentTabClientId=a;AdfDhtmlPanelTabbedPeer._recentTabOnTheBelowBar=b};
AdfDhtmlPanelTabbedPeer.prototype._changeSelected=function(a,b,d,e,f){d=AdfRichUIPeer.CreateSubId(b,d);if(d=AdfAgent.getAgent().getElementById(d))AdfDomUtils.addOrRemoveCSSClassName(f,d,"p_AFSelected"),b=AdfRichUIPeer.CreateSubId(b,e),(b=AdfAgent.getAgent().getElementById(b))&&"inline"!=a.getIconDelivery()&&(f?this._displayIcon(b,a,a.getDepressedIcon()):this._displayIcon(b,a,a.getIcon()))};
AdfDhtmlPanelTabbedPeer.prototype.QueueClientDisclosureChanges=function(a,b){var d=null!=a;if(!d&&!this.IsDisclosedTabRequired()||!0==a.getDisclosed()){var e=this.getComponent();if("immediate"==e.getContentDelivery())AdfPage.PAGE.isAttachmentMode()?(d&&(d=a.getClientId(),this._changeSelected(a,d,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ABOVE,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON,!1),this._changeSelected(a,d,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_BELOW,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON_BELOW,!1),d=a.getPeer(),
d.bind(a),d.getDomElement().parentNode.style.display="none",a.setDisclosed(!1),this._setOldDisclosedChild(e,null)),b&&(d=b.getPeer(),d.bind(b),d.getDomElement().parentNode.style.display="",d=b.getClientId(),this._changeSelected(b,d,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ABOVE,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON,!0),this._changeSelected(b,d,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_BELOW,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ICON_BELOW,!0),b.setDisclosed(!0),this._setOldDisclosedChild(e,b.getClientId())),AdfPage.PAGE.doResizeNotify(e)):
AdfLogger.LOGGER.warning("PanelTabbed contentDelivery\x3dimmediate is not supported outside of attachment mode. Disclose ability is disabled while in this state.");else{if(d)return e=a.getPeer(),e.bind(a),e.queueDisclosureEvent(!1,!0,b);e=b.getPeer();e.bind(b);return e.queueDisclosureEvent(!0,!0)}}else AdfLogger.LOGGER.severe("Unexpected panelTabbed showDetailItem disclosure state for queueing client events")};AdfDhtmlPanelTabbedPeer.prototype.IsDisclosedTabRequired=function(a){return!0};
AdfDhtmlPanelTabbedPeer.prototype._createCompressedLayoutPopupElement=function(a){var b=AdfAgent.AGENT,d=b.getAttribute(a,AdfDhtmlPanelTabbedPeer._EXPANDO_ROWKEY_ATTRIBUTE),e=a.getElementsByTagName("a")[0],f=a.getElementsByTagName("a")[1],g=a.getElementsByTagName("img")[0],h=AdfPage.PAGE.getLookAndFeel(),k;g&&(g=g.cloneNode(!0),g.id&&(g.id+=AdfDhtmlPanelTabbedPeer._TAB_ID_CONVEYOR_SUFFIX));e&&-1==e.className.indexOf("p_AFDisabled")?(e=e.cloneNode(!0),e.id&&(e.id+=AdfDhtmlPanelTabbedPeer._TAB_ID_CONVEYOR_SUFFIX),
e._rowKey=d,b.setExpandoProperty(e,AdfDhtmlPanelTabbedPeer._EXPANDO_COMPRESSED_LAYOUT_LINK,"1"),k=AdfDhtmlPanelTabbedPeer._compressedLayoutElementStyleClass,null==k&&(k="conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode?h.getStyleClass("AFConveyorBeltElement"):h.getStyleClass("AFOverflowElement"),AdfDhtmlPanelTabbedPeer._compressedLayoutElementStyleClass=k)):(k=e.innerHTML,e=a.ownerDocument.createElement("div"),e.innerHTML=k,k=AdfDhtmlPanelTabbedPeer._compressedLayoutElementDisabledStyleClass,
null==k&&(k="conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode?h.getStyleClass("AFConveyorBeltElementDisabled"):h.getStyleClass("AFOverflowElementDisabled"),AdfDhtmlPanelTabbedPeer._compressedLayoutElementDisabledStyleClass=k));f&&(f=f.cloneNode(!0),f.id&&(f.id+=AdfDhtmlPanelTabbedPeer._TAB_ID_CONVEYOR_SUFFIX));h=a.ownerDocument.createElement("table");h.cellPadding=0;h.cellSpacing=0;h.style.width="100%";var l=h.insertRow(-1);b.setAttribute(l,AdfDhtmlPanelTabbedPeer._EXPANDO_ROWKEY_ATTRIBUTE,
d);b=l.insertCell(-1);g&&b.appendChild(g);g=l.insertCell(-1);g.style.width="100%";b=a.ownerDocument.createElement("div");b.className=k;g.appendChild(b);b.appendChild(e);e=l.insertCell(-1);f&&(a=a.ownerDocument.createElement("div"),a.className=k,e.appendChild(a),a.appendChild(f));return h};
AdfDhtmlPanelTabbedPeer.prototype._selectTab=function(a){var b=this.getComponent();this.hideAllPopups(b);if(a=a._rowKey){var d=AdfPage.PAGE.findComponent(a),b=this.GetOldDisclosedChild(b);d.getDisabled()||(d==b?(this._headerConveyorBeltSupport||this._footerConveyorBeltSupport)&&this._handleConveyorBeltNewSelection(d.getClientId()):(AdfDhtmlPanelTabbedPeer.SetRecentTabInfo(a,null),this._saveAndRemoveCompressedLayout(),(b=this.QueueClientDisclosureChanges(b,d))&&b.isCanceled()&&this._updateOverflow(0)))}};
AdfDhtmlPanelTabbedPeer.prototype._saveAndRemoveCompressedLayout=function(){var a=null!=this._headerConveyorBeltSupport?this._headerConveyorBeltSupport:this._footerConveyorBeltSupport;a&&(AdfDhtmlPanelTabbedPeer._conveyorBeltFirstItem=a.getFirstItemDisplayed());this._removeCompressedLayoutSupport()};
AdfDhtmlPanelTabbedPeer.prototype._handleConveyorBeltNewSelection=function(a){if(this._headerConveyorBeltSupport){var b=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ABOVE);a=AdfAgent.getAgent().getElementById(b);for(var d=0,b=this._getChildElements(b,this._headerTabsDiv),e=0;e<b.length;e++)if(1==b[e].nodeType){if(b[e]==a){this._headerConveyorBeltSupport.scrollNewSelectedItemIntoView(d);this._footerConveyorBeltSupport&&this._footerConveyorBeltSupport.scrollNewSelectedItemIntoView(d);
return}d++}}else if(this._footerConveyorBeltSupport){b=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_BELOW);a=AdfAgent.getAgent().getElementById(b);d=0;b=this._getChildElements(b,this._footerTabsDiv);for(e=0;e<b.length;e++)if(1==b[e].nodeType){if(b[e]==a){this._footerConveyorBeltSupport.scrollNewSelectedItemIntoView(d);return}d++}}return null};
AdfDhtmlPanelTabbedPeer.prototype._getChildren=function(){var a=AdfAgent.getAgent(),b=this.getComponent(),d=[],e=this._getRenderingPosition(b),f="above"==e||"both"==e?this._headerTabsDiv:this._footerTabsDiv,b="above"==e||"both"==e?AdfRichUIPeer.CreateSubId(b.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_HEADER):AdfRichUIPeer.CreateSubId(b.getClientId(),AdfDhtmlPanelTabbedPeer._TAB_FOOTER);if(this.getDomElement()){f=this._getChildElements(b,f);for(b=0;b<f.length;b++)1==f[b].nodeType&&(e=a.getAttribute(f[b],
AdfDhtmlPanelTabbedPeer._EXPANDO_ROWKEY_ATTRIBUTE),(e=AdfPage.PAGE.findComponent(e))&&d.push(e))}return d};AdfDhtmlPanelTabbedPeer.prototype._getChildElements=function(a,b){for(var d=b.childNodes,e=[],f="conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode,g=f?AdfRichUIPeer.CreateSubId(a,"cbs"):null,h=d.length,k=0;k<h;k++){var l=d[k];1==l.nodeType&&!(f&&l.getAttribute("id")==g)&&e.push(l)}return e};
AdfDhtmlPanelTabbedPeer.prototype._getCurrencyFromDomElement=function(a,b){AdfAssert.assertDomElement(a);var d=a,e=AdfAgent.getAgent();if(null==d||1!=d.nodeType)return null;for(var f=e.getAttribute(d,AdfDhtmlPanelTabbedPeer._EXPANDO_ROWKEY_ATTRIBUTE);null==f;){if(null==d||d==b)return null;d=d.parentNode;if(null==d||1!=d.nodeType)return null;f=e.getAttribute(d,AdfDhtmlPanelTabbedPeer._EXPANDO_ROWKEY_ATTRIBUTE)}return f};
AdfDhtmlPanelTabbedPeer.prototype.GetOldDisclosedChild=function(a){a=AdfAgent.getAgent();var b=null;this._vertDiv?b=a.getAttribute(this._vertDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID):(b=a.getAttribute(this._headerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID),null==b&&(b=a.getAttribute(this._footerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID)));return AdfPage.PAGE.findComponent(b)};
AdfDhtmlPanelTabbedPeer.prototype._setOldDisclosedChild=function(a,b){var d=AdfAgent.getAgent();this._vertDiv?d.setAttribute(this._vertDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID,b):null==d.getAttribute(this._headerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID)?d.setAttribute(this._footerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID,b):d.setAttribute(this._headerDiv,AdfDhtmlPanelTabbedPeer._EXPANDO_DISCLOSED_TAB_ID,b)};
AdfDhtmlPanelTabbedPeer.prototype._canRemove=function(a){a=AdfPage.PAGE.findComponent(a);if(a.getDisabled()||a.getRemove&&(a=a.getRemove())&&("no"==a||"disabled"==a))return!1;a=this.getComponent().getTabRemoval();if("none"==a)return!1;if("all"==a)return!0;if("allExceptLast"==a)return 1<this._getChildren().length;AdfLogger.LOGGER.warning("Unexpected panelTabbed tabRemoval type: "+a);return!1};
AdfDhtmlPanelTabbedPeer.prototype._isOnRemoveButton=function(a,b){var d=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelTabbedPeer._REMOVE_ICON_ABOVE_ID),e=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelTabbedPeer._REMOVE_ICON_BELOW_ID);if(b.id&&-1<b.id.lastIndexOf(d)||-1<b.id.lastIndexOf(e))return!0;var f=b.parentNode.id;return f&&(-1<f.lastIndexOf(d)||-1<f.lastIndexOf(e))};
AdfDhtmlPanelTabbedPeer.prototype._getTabContentElement=function(a){a=a.getAttribute("id");a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelTabbedPeer._TAB_CONTENT);return AdfAgent.AGENT.getElementById(a)};AdfDhtmlPanelTabbedPeer.prototype._getEllipsisElement=function(a){a=a.getAttribute("id");a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelTabbedPeer._ELLIPSIS_SUBID);return AdfAgent.AGENT.getElementById(a)};
AdfDhtmlPanelTabbedPeer.prototype._layoutTabs=function(a,b,d,e,f){a=e.length;var g=this.getComponent();this._maxTabSize||(this._maxTabSize=g.getMaxTabSize(),this._maxTabSize=null==this._maxTabSize||"infinity"==this._maxTabSize?0:parseFloat(this._maxTabSize));this._minTabSize||(this._minTabSize=g.getMinTabSize(),this._minTabSize=parseFloat(this._minTabSize),null==this._minTabSize&&(this._minTabSize=32));if(0<this._maxTabSize&&this._minTabSize>this._maxTabSize)AdfLogger.LOGGER.warning("Minimum tab width should not be greater than maximum tab width: min\x3d"+
this._minTabSize+", max\x3d "+this._maxTabSize);else{if(!this._overflowLimit){this._overflowLimit=this._minTabSize*a;!this._tabOverlapWidth&&1<a&&(this._tabOverlapWidth=e[0].offsetWidth-(e[1].offsetLeft-e[0].offsetLeft));for(g=0;g<a;g++){var h=e[g];tabContentElement=this._getTabContentElement(h);this._getEllipsisElement(h).style.display="none";this._overflowLimit+=h.offsetWidth-tabContentElement.offsetWidth-this._tabOverlapWidth}this._tabOverlapWidth&&(this._overflowLimit+=this._tabOverlapWidth)}b<
this._overflowLimit?(this._setTabSizes(e,this._minTabSize),this._resizeOverflow(d,e,b,f)):(b=Math.floor((b-this._tabOverlapWidth)/a),this._hideOverflow(),this._setTabSizes(e,b,!0))}};
AdfDhtmlPanelTabbedPeer.prototype._setTabSizes=function(a,b,d){for(var e=!1,f=0;f<a.length;f++){var g=a[f];tabContentElement=this._getTabContentElement(g);var h=this._getEllipsisElement(g),k=tabContentElement.style.width;tabContentElement.style.width="";tabContentElement.style.overflow="";h.style.display="none";g=g.offsetWidth;g=d?b-(g-tabContentElement.offsetWidth)+this._tabOverlapWidth:b;0<this._maxTabSize&&g>this._maxTabSize&&(g=this._maxTabSize);tabContentElement.offsetWidth>g&&(h.style.display=
"inline",tabContentElement.style.overflow="hidden",g-=h.offsetWidth);tabContentElement.style.width=g+"px";!e&&k!=tabContentElement.style.width&&(e=!0)}return e};
AdfDhtmlPanelTabbedPeer.prototype._resizeOverflow=function(a,b,d,e){var f=AdfDhtmlPanelTabbedPeer._compressedLayoutMode;"overflow"==f?e?(this._headerOverflowSupport||(this._headerOverflowSupport=this._getOverflowSupport(a,b,"after")),this._headerOverflowSupport&&this._headerOverflowSupport.handleResize()):(this._footerOverflowSupport||(this._footerOverflowSupport=this._getOverflowSupport(a,b,"before")),this._footerOverflowSupport&&this._footerOverflowSupport.handleResize()):"overflow-droplist"==f?
e?(this._headerOverflowSupport||(this._headerOverflowSupport=this._getOverflowDroplistSupport(a,b,"after")),this._headerOverflowSupport&&this._headerOverflowSupport.handleResize()):(this._footerOverflowSupport||(this._footerOverflowSupport=this._getOverflowDroplistSupport(a,b,"before")),this._footerOverflowSupport&&this._footerOverflowSupport.handleResize()):"conveyorBelt"==f&&(e?(this._headerConveyorBeltSupport||(this._headerConveyorBeltSupport=this._getConveyorBeltSupport(a,b,d),this._footerConveyorBeltSupport&&
(this._footerConveyorBeltSupport.registerAdditionalConveyorBeltSupport(this._headerConveyorBeltSupport),this._headerConveyorBeltSupport.registerAdditionalConveyorBeltSupport(this._footerConveyorBeltSupport))),this._headerConveyorBeltSupport&&this._headerConveyorBeltSupport.handleResize()):(this._footerConveyorBeltSupport||(this._footerConveyorBeltSupport=this._getConveyorBeltSupport(a,b,d),this._headerConveyorBeltSupport&&(this._footerConveyorBeltSupport.registerAdditionalConveyorBeltSupport(this._headerConveyorBeltSupport),
this._headerConveyorBeltSupport.registerAdditionalConveyorBeltSupport(this._footerConveyorBeltSupport))),this._footerConveyorBeltSupport&&this._footerConveyorBeltSupport.handleResize()))};
AdfDhtmlPanelTabbedPeer.prototype._hideOverflow=function(){"conveyorBelt"==AdfDhtmlPanelTabbedPeer._compressedLayoutMode?(this._headerConveyorBeltSupport&&this._headerConveyorBeltSupport.handleResize(),this._footerConveyorBeltSupport&&this._footerConveyorBeltSupport.handleResize()):(this._headerOverflowSupport&&this._headerOverflowSupport.removeAllItemsFromOverflow(),this._footerOverflowSupport&&this._footerOverflowSupport.removeAllItemsFromOverflow())};
AdfDhtmlPanelTabbedPeer.prototype._removeCompressedLayoutSupport=function(){this._headerOverflowSupport&&(this._headerOverflowSupport.removeOverflowSupport(!0),this._headerOverflowSupport=null);this._footerOverflowSupport&&(this._footerOverflowSupport.removeOverflowSupport(!0),this._footerOverflowSupport=null);this._headerConveyorBeltSupport&&(this._headerConveyorBeltSupport.removeConveyorBeltSupport(),this._headerConveyorBeltSupport=null);this._footerConveyorBeltSupport&&(this._footerConveyorBeltSupport.removeConveyorBeltSupport(),
this._footerConveyorBeltSupport=null)};AdfDhtmlPanelTabbedPeer.prototype.getContainerId=function(a){return AdfRichUIPeer.createSubId(this.getComponent().getClientId(),AdfDhtmlPanelTabbedPeer._TAB_BODY_INNER)};
AdfUIComponents.createComponentClass("AdfRichPanelSpringboard",{componentType:"oracle.adf.RichPanelSpringboard",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"persist",type:"Array"},{name:"dontPersist",type:"Array"},{name:"contentDelivery",type:"String","default":"lazyUncached"},{name:"displayMode",type:"String","default":"strip"},{name:"immediate",
type:"Boolean","default":!1},"springboardChangeListener"],eventNames:["springboardChange"],superclass:AdfUIShowOne});
AdfRichPanelSpringboard.InitClass=function(){AdfUIComponent.InitClass.call(this);AdfUIComponent.SetDisconnectedProperty(AdfRichPanelSpringboard,"displayMode")};
function AdfSpringboardChangeEvent(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfSpringboardChangeEvent,AdfComponentEvent);AdfSpringboardChangeEvent.EVENT_TYPE="springboardChange";AdfSpringboardChangeEvent.prototype.Init=function(a,b){AdfAssert.assertPrototype(a,AdfUIComponent);AdfSpringboardChangeEvent.superclass.Init.call(this,a,AdfSpringboardChangeEvent.EVENT_TYPE);this._newDisplayMode=b;this.setRoot(a)};AdfSpringboardChangeEvent.prototype.getNewDisplayMode=function(){return this._newDisplayMode};
AdfSpringboardChangeEvent.prototype.isValidationNeeded=function(){return"strip"==this._newDisplayMode?!1:!0};AdfSpringboardChangeEvent.prototype.isImmediate=function(){return this.getSource().getImmediate()};AdfSpringboardChangeEvent.prototype.AddMarshalledProperties=function(a){a.newDisplayMode=this._newDisplayMode};AdfSpringboardChangeEvent.prototype.propagatesToServer=function(){return!0};AdfSpringboardChangeEvent.prototype.IsDeleveryDiscrete=function(){return!0};
AdfSpringboardChangeEvent.queue=function(a,b){(new AdfSpringboardChangeEvent(a,b)).queue(!0)};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlPanelSpringboardPeer",!1);
AdfDhtmlPanelSpringboardPeer.InitSubclass=function(){AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichPanelSpringboard.DISPLAY_MODE);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);
this._EXPANDO_ROWKEY_ATTRIBUTE="data-ptKey";this._EXPANDO_DISCLOSED_TAB_ID="data-disTab";this._EXPANDO_CANVAS_ATTRIBUTE="data-cnv";this._TAB_HEADER="tabh";this._TAB_BODY_VIEWPORT="tabbvp";this._TAB_BODY_CANVAS="tabbcvs";this._TAB_BODY_A="tabba";this._TAB_BODY_B="tabbb";this._TAB_BODY_C="tabbc";this._TAB_SUB_ID_ABOVE="ti";this._TAB_SUB_ID_ICON="icon";this._SUB_ID_BODY_DIV="bodyDiv";this._SUB_ID_ITEMS_DIV="itemsDiv";this._CLICKABLE_TAB_ITEM="tia";this._SELECTED_POINTER_DIV="sbsp";this._CONVEYOR_BELT_CONTAINER_ID=
"cbc";this._CONVEYOR_BELT_CONTENT_ID="cbct";this._START_CONVEYOR_BELT_INDICATOR="scbic";this._END_CONVEYOR_BELT_INDICATOR="ecbic";this._OPT_RND_ID="optRnd";this._STRIP_CLASS="p_AFStrip";this._GRID_CLASS="p_AFGrid";this._SELECTED_CLASS="p_AFSelected";this._DISABLED_CLASS="p_AFDisabled";this._FLOW_STYLECLASS="p_AFFlow";this._BUSY_CLASS="p_AFBusy";this._SCROLL_CLASS="p_AFScrollY"};
AdfDhtmlPanelSpringboardPeer.prototype.InitDomElement=function(a,b){AdfDhtmlPanelSpringboardPeer.superclass.InitDomElement.call(this,a,b);var d=AdfAgent.getAgent(),e=a.getClientId(),f=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._TAB_HEADER);this._headerDiv=d.getElementById(f);f=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._SELECTED_POINTER_DIV);this._selectedPointerDiv=d.getElementById(f);f=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._TAB_BODY_CANVAS);this._bodyCanvasDiv=
d.getElementById(f);f=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._TAB_BODY_VIEWPORT);this._bodyViewportDiv=d.getElementById(f);this._cBeltContainer=d.getElementById(AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._CONVEYOR_BELT_CONTAINER_ID));this._cBeltContent=d.getElementById(AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._CONVEYOR_BELT_CONTENT_ID));this._startCBeltI=d.getElementById(AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._START_CONVEYOR_BELT_INDICATOR));
this._endCBeltI=d.getElementById(AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._END_CONVEYOR_BELT_INDICATOR));this._optRndId=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelSpringboardPeer._OPT_RND_ID);var e=AdfPage.PAGE.getLookAndFeel(),g=AdfDhtmlPanelSpringboardPeer._isRTL();this._shiftField=g?"right":"left";if(this._hideSelectedPointer="true"==e.getSkinProperty("af|panelSpringboard-tr-hide-selected-pointer"))this._selectedPointerDiv.style.display="none";this._cBeltNavWidth=0;this._cBeltMoving=
!1;this._cBeltShift={};this._conveyorSlideAnimationDuration=parseInt(e.getSkinProperty("af|panelSpringboard-tr-conveyor-slide-animation-duration"),10);isNaN(this._conveyorSlideAnimationDuration)&&(this._conveyorSlideAnimationDuration=0);this._currCBeltIndex=0;this._initialDisplay=!0;this._swipeMovingPosition=this._swipeStartPosition=0;var h=this;d.addBubbleEventListener(this._startCBeltI,"click",function(){h._shiftConveyor(!g)});d.addBubbleEventListener(this._endCBeltI,"click",function(){h._shiftConveyor(g)});
d.addBubbleEventListener(this._cBeltContent,"keyup",this.createCallback(this._processCbeltTab));d.addBubbleEventListener(this._cBeltContent,"touchstart",function(a){h._swipeStartPosition=a.pageX});d.addBubbleEventListener(this._cBeltContent,"touchmove",function(a){h._swipeMovingPosition=a.pageX});d.addBubbleEventListener(this._cBeltContent,"touchend",function(a){if(h._isCBeltActivated()){if(!h._swipeMovingPosition||!h._swipeStartPosition)return;h._swipeMovingPosition<h._swipeStartPosition&&"inline-block"==
h._endCBeltI.style.display?h._shiftConveyor(!1):"inline-block"==h._startCBeltI.style.display&&h._shiftConveyor(!0)}h._swipeStartPosition=0;h._swipeMovingPosition=0});(e=d.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN])&&e!=AdfAgent.CAP_TOUCH_SCREEN_NONE&&this._initBodySwiping(d,this._bodyViewportDiv);"strip"===a.getProperty(AdfRichPanelSpringboard.DISPLAY_MODE)&&(d=this._getChildElements(this._headerDiv),this._setBeltContentHeight(d[0]),this._cBeltContent.style.overflow="hidden",this._cBeltContainer.style.overflow=
"hidden")};
AdfDhtmlPanelSpringboardPeer.prototype.ComponentDisplayModeChanged=function(a,b,d,e){if(a.getProperty("_ignoreNextDisplayModeChange"))a.setProperty("_ignoreNextDisplayModeChange",!1,!1,!1);else{var f=new AdfSpringboardChangeEvent(a,d);f.queue(!0);f.isCanceled()?(a.setProperty("_ignoreNextDisplayModeChange",!0,!1,!1),a.setProperty("displayMode",e,!1,!1)):(a=this._getChildElements(this._headerDiv),e=AdfDomUtils.containsCSSClassName(b,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS),"grid"==d?(AdfDomUtils.addCSSClassName(b,
AdfDhtmlPanelSpringboardPeer._GRID_CLASS),AdfDomUtils.removeCSSClassName(b,AdfDhtmlPanelSpringboardPeer._STRIP_CLASS),this._setItemsToNonSelectedState(a),e&&(b.style.height=""),this._isCBeltActivated()&&this._hideCBelt(),this._selectedPointerDiv.style.display="none",this._animateFromStripToGrid(a,b.offsetWidth,b.offsetHeight)):"strip"==d&&(this._bodyViewportDiv.style.visibility="hidden",AdfDomUtils.addCSSClassName(b,AdfDhtmlPanelSpringboardPeer._STRIP_CLASS),AdfDomUtils.removeCSSClassName(b,AdfDhtmlPanelSpringboardPeer._GRID_CLASS),
d=e?null:this._getCanvasDiv("middle"),this._setBusy(b,d),e&&(b.style.width="auto",b.style.height="auto"),delete this._haveShowDetailItemsInStrip,this._animateFromGridToStrip(a,b.offsetWidth)))}};
AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentKeyUp=function(a){var b=a.getKeyCode(),d=a.getNativeEventTarget();if(!a.isCanceled())if(b==AdfKeyStroke.ARROWUP_KEY||b==AdfKeyStroke.ARROWLEFT_KEY)this._isTabLink(d)&&((b=AdfFocusUtils.getPreviousFocusableDescendant(this._headerDiv,d))||(b=AdfFocusUtils.getLastFocusableDescendant(this._headerDiv)),b&&(b.focus(),a.cancel()));else if((b==AdfKeyStroke.ARROWDOWN_KEY||b==AdfKeyStroke.ARROWRIGHT_KEY)&&this._isTabLink(d))(b=AdfFocusUtils.getNextFocusableDescendant(this._headerDiv,
d))||(b=AdfFocusUtils.getFirstFocusableDescendant(this._headerDiv)),b&&(b.focus(),a.cancel())};AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentMouseOver=function(a){this._handleIcon(a,!0,!1)};AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentMouseDown=function(a){this._handleIcon(a,!1,!0)};AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentMouseUp=function(a){this._handleIcon(a,!1,!1)};AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentMouseOut=function(a){this._handleIcon(a,!1,!1)};
AdfDhtmlPanelSpringboardPeer.prototype.HandleComponentClick=function(a){if(!a.isCanceled()&&a.isLeftButtonPressed()){var b=this.getComponent(),d=a.getNativeEventTarget(),d=this._getRowKeyElementFromDomElement(d,this.getDomElement()),e=this._getRowKeyFromDomElement(d);null!=e&&(a.cancel(),a=AdfPage.PAGE.findComponent(e),a.getDisabled()||("grid"!=b.getProperty(AdfRichPanelSpringboard.DISPLAY_MODE)?this._discloseClickedComponent(b,a,d):(d=this._getOldDisclosedChildComponent(b),a!=d&&(null!=a&&(e=a.getClientId(),
this._changeSelected(e,!0)),null!=d&&(d=d.getClientId(),this._changeSelected(d,!1))),b.setProperty(AdfRichPanelSpringboard.DISPLAY_MODE,"strip",!1,!1),this._discloseItem(a.getClientId()))))}};AdfDhtmlPanelSpringboardPeer.prototype._discloseItem=function(a){AdfPage.PAGE.findComponent(a).setDisclosed(!0)};AdfDhtmlPanelSpringboardPeer.prototype.TabReselected=function(a){};AdfDhtmlPanelSpringboardPeer.prototype.NewTabSelected=function(a){};
AdfDhtmlPanelSpringboardPeer.prototype.ReplaceDomElement=function(a,b){var d=AdfAgent.AGENT;this._canvasOfSelectedItem&&delete this._canvasOfSelectedItem;if(this._isOptimizedRenderTarget(a)){var e=this.getDomElement();null!=e&&this._removeBusy(e);var f=a.childNodes,g,h;if(null!=f){2>f.length&&AdfLogger.LOGGER.severe("Error getting the body and item divs of the optRnd block.");for(var k=!1,e=0;e<f.length;e++)if(1==f[e].nodeType)if(k)h=f[e],l=h.id,null!=l&&-1==l.indexOf(AdfDhtmlPanelSpringboardPeer._SUB_ID_ITEMS_DIV)&&
AdfLogger.LOGGER.severe("Error getting the item div of the optRnd block.");else{g=f[e];var l=g.id;null!=l&&-1==l.indexOf(AdfDhtmlPanelSpringboardPeer._SUB_ID_BODY_DIV)&&AdfLogger.LOGGER.severe("Error getting the body div of the optRnd block.");k=!0}for(var k=g.childNodes,m,e=k.length-1;-1<e;--e)if(l=k[e],void 0==l)AdfLogger.LOGGER.severe("Error getting the child of the optRnd block, index: "+e);else if(1==l.nodeType){var n=AdfDomUtils.getFirstChildElement(l);"none"!=l.style.display&&(m=l,this._setOldDisclosedChild(n.id));
g.removeChild(l);f=d.getElementById(n.id);null!=f&&(page.removeComponentsInSubtree(f),d.elementsRemoved(f),d.replaceNode(l,f.parentNode),d.elementsAdded(n));this._haveShowDetailItemsInStrip=!0}k=h.childNodes;for(l=k.length-1;-1<l;--l)n=k[l],void 0==n?AdfLogger.LOGGER.severe("Error getting the child of the optRnd block, index: "+e):1==n.nodeType&&(f=n.id,h.removeChild(n),f=d.getElementById(f),null!=f&&(page.removeComponentsInSubtree(f),d.elementsRemoved(f),d.replaceNode(n,f),d.elementsAdded(n)));(d=
this._getHeaderDivDisclosedElement(AdfDhtmlPanelSpringboardPeer._CLICKABLE_TAB_ITEM))&&AdfFocusUtils.focusElement(d);a.removeChild(g);a.removeChild(h);m&&(this._canvasOfSelectedItem=m.parentNode.parentNode);!this._bodyCanvasAnimatorQueued&&(!this._toStripAnimationObject&&this._canvasOfSelectedItem)&&(this._rearrangeCanvasDivs(this._canvasOfSelectedItem),delete this._canvasOfSelectedItem,this._setSelectedPointerPosition(),this._hideSelectedPointer||(this._selectedPointerDiv.style.display=""))}}else AdfDhtmlPanelSpringboardPeer.superclass.ReplaceDomElement.call(this,
a,b)};AdfDhtmlPanelSpringboardPeer.prototype.DomReplaceNotify=function(a){return this._isOptimizedRenderTarget(a)?this.getDomElement():a};AdfDhtmlPanelSpringboardPeer.prototype.needsResizeNotify=function(a){return!0};
AdfDhtmlPanelSpringboardPeer.prototype.ResizeNotify=function(a,b,d,e){this._cBeltShift={};if(!(null!=this._toStripAnimationObject||null!=this._toGridAnimationObject))if(b=this.getDomElement()){AdfAssert.assertDomElement(b);b=this._initialDisplay;var f=this.getComponent(),g=this._getChildElements(this._headerDiv);(f="grid"!=f.getProperty(AdfRichPanelSpringboard.DISPLAY_MODE))&&d!=a?(this._positionStripMode(g,d),this._initialPositionCanvasDivs(d),!b&&this._getCompleteItemWidth()>d&&this._attemptToShowAsMuchElementsAsPossible(g)):
f||(this._positionGridMode(g,d,e),this._setItemsToNonSelectedState(g))}};
AdfDhtmlPanelSpringboardPeer.prototype.componentRemoved=function(a){this._selectedPtrAnimator&&(this._selectedPtrAnimator.stop(),delete this._selectedPtrAnimator);this._bodyCanvasAnimator&&(this._bodyCanvasAnimator.stop(),delete this._bodyCanvasAnimator,this._bodyCanvasAnimatorQueued=!1);this._toGridAnimationObject&&(this._toGridAnimationObject.stop(),delete this._toGridAnimationObject);this._toStripAnimationObject&&(this._toStripAnimationObject.stop(),delete this._toStripAnimationObject);delete this._headerDiv;
delete this._bodyDiv;delete this._bodyCanvasDiv;delete this._bodyViewportDiv;delete this._optRndId;this._unregisterBodySwiping();AdfPage.PAGE.__unregisterDescendantResizeNotifyComponent(a);AdfDhtmlPanelSpringboardPeer.superclass.ComponentRemoved.call(this,a)};
AdfDhtmlPanelSpringboardPeer.prototype._positionStripMode=function(a,b){var d=a.length;if(0<d){var e=this._getStripItemPositions(a,b),f,g,h=this._shiftField,k=this._initialDisplay,l=-1;k&&delete this._initialDisplay;for(var m=0;m<d;m++){var n=e[m].properties;a[m].style[h]=n[h]+"px";a[m].style.top=n.top+"px";var p=AdfDomUtils.getFirstChildElement(a[m]);p&&AdfDomUtils.containsCSSClassName(p,AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS)&&(g=!0,f=n[h],l=m)}null!=this._selectedPointerDiv&&g&&(this._selectedPointerDiv.style[h]=
f+"px",k&&this._positionElementIntoOverflow(b,a,l,f))}};AdfDhtmlPanelSpringboardPeer.prototype._positionGridMode=function(a,b,d){var e=a.length;if(0<e){b=this._getGridItemPositions(a,b,d);b.length!==e&&AdfLogger.LOGGER.severe("The number of items in the panelSpringboard does not equal the number of items in the grid items position array.");d=this._shiftField;for(var f=0;f<e;f++){var g=b[f].properties;a[f].style[d]=g[d]+"px";a[f].style.top=g.top+"px"}}};
AdfDhtmlPanelSpringboardPeer.prototype._getStripItemPositions=function(a,b,d){var e=a.length,f=this._shiftField,g=[],h;if(0<e){var k=a[0].offsetWidth;h={};if(!d&&this._getCompleteItemWidth()>b){d=0;this._maintainCBeltDisplay(b);for(b=0;b<e;b++)h={top:0},h[f]=d,h={element:a[b],properties:h},g.push(h),d+=k}else{this._isCBeltActivated()&&this._hideCBelt();d=Math.max(0,b/2-e*k/2);for(b=0;b<e;b++)d=Math.round(d),h={top:0},h[f]=d,h={element:a[b],properties:h},g.push(h),d+=k}}return g};
AdfDhtmlPanelSpringboardPeer.prototype._getGridItemPositions=function(a,b,d){var e=a.length;if(0<e){var f=[],g,h=a[0].offsetWidth,k=a[0].offsetHeight,l=this._determineGridLayout(e),m=k*l.rows,n=h*l.columns,p=b/2-n/2,q=d/2-m/2,r=this._shiftField;n>b?(l.columns=Math.floor(b/h),0==l.columns&&(l.columns=1),b=Math.ceil(e/l.columns),l.rows=b,q=b=0):m>d?(b=p,q=0):b=p;m=k*l.rows;m>d?AdfDomUtils.addCSSClassName(this._headerDiv,AdfDhtmlPanelSpringboardPeer._SCROLL_CLASS):AdfDomUtils.removeCSSClassName(this._headerDiv,
AdfDhtmlPanelSpringboardPeer._SCROLL_CLASS);m=0;g={};this._cBeltContent.style.height="";this._cBeltContent.style.overflow="";this._cBeltContainer.style.overflow="";for(n=0;n<l.rows&&m<e;n++){d=b;for(p=0;p<l.columns&&m<e;p++)d=Math.round(d),q=Math.round(q),g={top:q},g[r]=d,g={element:a[m],properties:g},f.push(g),d+=h,m++;q+=k}}return f};
AdfDhtmlPanelSpringboardPeer.prototype._animateFromGridToStrip=function(a,b){if(0<a.length){var d=this._getStripItemPositions(a,b,!0);this._toStripAnimationOffsetWidth=b;var e=0,e=AdfPage.PAGE.getLookAndFeel(),e=parseInt(e.getSkinProperty("af|panelSpringboard-tr-grid-to-strip-animation-duration"),10);isNaN(e)&&(e=0);this._toStripAnimationObject=AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,e,d,function(a){a[0]._duringToStripAnimation()},function(b){b[0]._afterToStripAnimationFinal();
b=b[0];parseInt(b._cBeltContent.style.height,10)!==a[0].offsetHeight&&b._setBeltContentHeight(a[0]);b._cBeltContent.style.overflow="hidden";b._cBeltContainer.style.overflow="hidden";b._getCompleteItemWidth()>b._toStripAnimationOffsetWidth&&(b._maintainCBeltDisplay(b._toStripAnimationOffsetWidth),b._positionElementIntoOverflow(b._toStripAnimationOffsetWidth))},[this],null)}};
AdfDhtmlPanelSpringboardPeer.prototype._animateFromStripToGrid=function(a,b,d){this._bodyViewportDiv.style.visibility="hidden";0<a.length&&(a=this._getGridItemPositions(a,b,d),this._toGridAnimationOffsetWidth=b,this._toGridAnimationOffsetHeight=d,b=0,b=AdfPage.PAGE.getLookAndFeel(),b=parseInt(b.getSkinProperty("af|panelSpringboard-tr-strip-to-grid-animation-duration"),10),isNaN(b)&&(b=0),this._toGridAnimationObject=AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,
b,a,function(a){a[0]._duringToGridAnimation()},function(a){a[0]._afterToGridAnimationFinal()},[this],null))};AdfDhtmlPanelSpringboardPeer.prototype._determineGridLayout=function(a){for(var b=1;b*b<a;)b++;return 3>=a?{rows:1,columns:a}:{rows:b,columns:b}};
AdfDhtmlPanelSpringboardPeer.prototype._initialPositionCanvasDivs=function(a){var b=this.getDomElement();if(!AdfDomUtils.containsCSSClassName(b,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS)){var b=this._getCanvasDiv("left"),d=this._getCanvasDiv("middle"),e=this._getCanvasDiv("right");if(null!=b){var f=a+"px",g=AdfDhtmlPanelSpringboardPeer._isRTL(),h=this._shiftField;b.style[h]=g?2*a+"px":"0px";b.style.width=f;d.style[h]=f;d.style.width=f;e.style[h]=g?"0px":2*a+"px";e.style.width=f;this._bodyCanvasDiv.style.width=
3*a+"px";this._bodyCanvasDiv.style[h]=-1*a+"px"}}};AdfDhtmlPanelSpringboardPeer.prototype._getCanvasDiv=function(a){for(var b=AdfAgent.getAgent(),d=AdfDomUtils.getChildElements(this._bodyCanvasDiv),e=d.length,f=0;f<e;f++){var g=d[f];if(b.getAttribute(g,AdfDhtmlPanelSpringboardPeer._EXPANDO_CANVAS_ATTRIBUTE)==a)return g}return null};
AdfDhtmlPanelSpringboardPeer.prototype._rearrangeCanvasDivs=function(a){var b=this.getDomElement();if(!AdfDomUtils.containsCSSClassName(b,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS)){var b=this.getDomElement().offsetWidth,d=AdfAgent.getAgent(),e=this._getCanvasDiv("middle"),f=d.getAttribute(a,AdfDhtmlPanelSpringboardPeer._EXPANDO_CANVAS_ATTRIBUTE),g=this._shiftField;if("middle"!=f){var h=a.style[g];a.style[g]=e.style[g];e.style[g]=h;d.setAttribute(a,AdfDhtmlPanelSpringboardPeer._EXPANDO_CANVAS_ATTRIBUTE,
"middle");d.setAttribute(e,AdfDhtmlPanelSpringboardPeer._EXPANDO_CANVAS_ATTRIBUTE,f)}this._bodyCanvasDiv.style.width=3*b+"px";this._bodyCanvasDiv.style[g]=-1*b+"px"}};AdfDhtmlPanelSpringboardPeer.prototype._handleBodyTouchStart=function(a){a=a.changedTouches;1==a.length&&(this._bodySwipeStartPosition=a[0].pageX)};AdfDhtmlPanelSpringboardPeer.prototype._handleBodyTouchMove=function(a){a=a.changedTouches;1==a.length&&(this._bodySwipeMovingPosition=a[0].pageX)};
AdfDhtmlPanelSpringboardPeer.prototype._handleBodyTouchEnd=function(a){var b;if(this._bodySwipeMovingPosition!==this._bodySwipeStartPosition){if(a._insideADFTable){this._bodySwipeMovingPosition=this._bodySwipeStartPosition=0;return}b=this._bodySwipeMovingPosition-this._bodySwipeStartPosition;100<Math.abs(b)&&(a=AdfDhtmlPanelSpringboardPeer._isRTL(),this._swipeBody(0>b?!a:a))}this._bodySwipeMovingPosition=this._bodySwipeStartPosition=0};
AdfDhtmlPanelSpringboardPeer.prototype._initBodySwiping=function(a,b){this._handleBodyTouchStartCallback=this.createCallback(this._handleBodyTouchStart);this._handleBodyTouchEndCallback=this.createCallback(this._handleBodyTouchEnd);this._handleBodyTouchMoveCallback=this.createCallback(this._handleBodyTouchMove);this._bodySwipeMovingPosition=this._bodySwipeStartPosition=0;a.addBubbleEventListener(b,"touchstart",this._handleBodyTouchStartCallback);a.addBubbleEventListener(b,"touchmove",this._handleBodyTouchMoveCallback);
a.addBubbleEventListener(b,"touchend",this._handleBodyTouchEndCallback)};
AdfDhtmlPanelSpringboardPeer.prototype._unregisterBodySwiping=function(){if(this._handleBodyTouchStartCallback&&this._bodyViewportDiv){var a=this._bodyViewportDiv,b=AdfAgent.AGENT;b.removeBubbleEventListener(a,"touchstart",this._handleBodyTouchStartCallback);b.removeBubbleEventListener(a,"touchmove",this._handleBodyTouchMoveCallback);b.removeBubbleEventListener(a,"touchend",this._handleBodyTouchEndCallback);delete this._handleBodyTouchStartCallback;delete this._handleBodyTouchEndCallback;delete this._handleBodyTouchMoveCallback;
delete this._bodySwipeStartPosition;delete this._bodySwipeMovingPosition}};AdfDhtmlPanelSpringboardPeer.prototype._swipeBody=function(a){var b,d,e;b=this.getComponent();null!=b&&(d=this._getChildElements(this._headerDiv),e=this._getDisclosedItemIndex(d),-1==e&&(e=0),(a=this._determineComponentToSwipeTo(d,e,a))&&this._discloseClickedComponent(b,a.component,a.element))};
AdfDhtmlPanelSpringboardPeer.prototype._getDisclosedItemIndex=function(a){var b,d,e;b=AdfAgent.getAgent().getAttribute(this._headerDiv,AdfDhtmlPanelSpringboardPeer._EXPANDO_DISCLOSED_TAB_ID);if(null==b)return null;b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ABOVE);d=a.length;e=-1;for(var f=0;f<d;f++)if(a[f].id==b){e=f;break}return e};
AdfDhtmlPanelSpringboardPeer.prototype._determineComponentToSwipeTo=function(a,b,d){var e,f;if(-1==b)return null;f=this.getDomElement();e=a.length;if(d)for(b+=1;b<e;b++){if((d=this._getComponentFromItem(a[b],f))&&!d.getDisabled())return{component:d,element:a[b]}}else for(b-=1;0<=b;b--)if((d=this._getComponentFromItem(a[b],f))&&!d.getDisabled())return{component:d,element:a[b]};return null};
AdfDhtmlPanelSpringboardPeer.prototype._getComponentFromItem=function(a,b){var d=this._getRowKeyElementFromDomElement(a,b),d=this._getRowKeyFromDomElement(d);return null==d?null:AdfPage.PAGE.findComponent(d)};
AdfDhtmlPanelSpringboardPeer.prototype._discloseClickedComponent=function(a,b,d){var e=this._getOldDisclosedChildComponent(a),f=this._shiftField;if(b!=e){b=this._queueClientDisclosureChanges(e,b);if(null==b||!b.isCanceled())this._animateSelectedPointerDiv(d.style[f]),null!=e&&this._animateBodyCanvas(e.getClientId(),d);if("grid"!=a.getProperty(AdfRichPanelSpringboard.DISPLAY_MODE)&&this._isCBeltActivated()){e=this._getChildElements(this._headerDiv);f=e.length;b=-1;for(var g=0;g<f;g++)if(e[g].id==d.id){b=
g;break}-1<b&&this._positionElementIntoOverflow(this.getDomElement().offsetWidth,e,b)}this.NewTabSelected(a)}else this.TabReselected(a)};AdfDhtmlPanelSpringboardPeer.prototype._isTabLink=function(a){if(null==a)return!1;var b=a.id;if(null==b)return!1;b=b.split("::");return 1>=b.length||b[b.length-1]!=AdfDhtmlPanelSpringboardPeer._CLICKABLE_TAB_ITEM||null==this._getRowKeyElementFromDomElement(a,this.getDomElement())?!1:!0};
AdfDhtmlPanelSpringboardPeer.prototype._getRowKeyElementFromDomElement=function(a,b){AdfAssert.assertDomElement(a);var d=a,e=AdfAgent.getAgent();if(null==d||1!=d.nodeType)return null;for(var f=e.getAttribute(d,AdfDhtmlPanelSpringboardPeer._EXPANDO_ROWKEY_ATTRIBUTE);null==f;){if(null==d||d==b)return null;d=d.parentNode;if(null==d||1!=d.nodeType)return null;f=e.getAttribute(d,AdfDhtmlPanelSpringboardPeer._EXPANDO_ROWKEY_ATTRIBUTE)}return d};
AdfDhtmlPanelSpringboardPeer.prototype._getRowKeyFromDomElement=function(a){return null==a?null:AdfAgent.getAgent().getAttribute(a,AdfDhtmlPanelSpringboardPeer._EXPANDO_ROWKEY_ATTRIBUTE)};AdfDhtmlPanelSpringboardPeer.prototype._getOldDisclosedChildComponent=function(a){a=null;a=AdfAgent.getAgent().getAttribute(this._headerDiv,AdfDhtmlPanelSpringboardPeer._EXPANDO_DISCLOSED_TAB_ID);return null!=a?AdfPage.PAGE.findComponent(a):null};
AdfDhtmlPanelSpringboardPeer.prototype._queueClientDisclosureChanges=function(a,b){var d=null!=a;if(!d||!0==a.getDisclosed())if("immediate"==this.getComponent().getContentDelivery())AdfPage.PAGE.isAttachmentMode()?(d=a.getClientId(),this._changeSelected(d,!1),d=a.getPeer(),d.bind(a),d.getDomElement().parentNode.style.display="none",d=b.getPeer(),d.bind(b),d.getDomElement().parentNode.style.display="",d=b.getClientId(),this._changeSelected(d,!0),a.setDisclosed(!1),b.setDisclosed(!0),this._setOldDisclosedChild(b.getClientId())):
AdfLogger.LOGGER.warning("PanelSpringboard contentDelivery\x3dimmediate is not supported outside of attachment mode. Disclose ability is disabled while in this state.");else{if(d)return d=a.getPeer(),d.bind(a),d.queueDisclosureEvent(!1,!0,b);d=b.getPeer();d.bind(b);return d.queueDisclosureEvent(!0,!0)}else AdfLogger.LOGGER.severe("Unexpected panelSpringboard showDetailItem disclosure state for queueing client events. "+a.getClientId())};
AdfDhtmlPanelSpringboardPeer.prototype._changeSelected=function(a,b){var d=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ABOVE);if(d=AdfAgent.getAgent().getElementById(d))if(d=AdfDomUtils.getFirstChildElement(d))AdfDomUtils.addOrRemoveCSSClassName(b,d,AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS),AdfDomUtils.addOrRemoveCSSClassName(b,AdfDomUtils.getDescendentElement(d,"div",1),AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS)};
AdfDhtmlPanelSpringboardPeer.prototype._getChildElements=function(a){a=a.childNodes;for(var b=[],d=a.length,e=0;e<d;e++){var f=a[e];1==f.nodeType&&f!=this._selectedPointerDiv&&b.push(f)}return b};AdfDhtmlPanelSpringboardPeer.prototype._selectedPointerAnimationComplete=function(a){delete this._selectedPtrAnimator};
AdfDhtmlPanelSpringboardPeer.prototype._animateSelectedPointerDiv=function(a){if(null!=this._selectedPointerDiv){var b=AdfAgent.getCSSLengthAsInt,d=this._shiftField;a=b(a);b={};b[d]=a;d=[{element:this._selectedPointerDiv,properties:b}];a=0;a=AdfPage.PAGE.getLookAndFeel();a=parseInt(a.getSkinProperty("af|panelSpringboard-tr-selected-pointer-animation-duration"),10);isNaN(a)&&(a=0);this._selectedPtrAnimator=AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,a,d,null,
function(a){a[0]._selectedPointerAnimationComplete()},[this],null)}else AdfLogger.LOGGER.severe("Cannot find this._selectedPointerDiv. This means that the strip mode was not rendered properly.")};AdfDhtmlPanelSpringboardPeer.prototype._bodyCanvasAnimationComplete=function(a){delete this._bodyCanvasAnimator;this._bodyCanvasAnimatorQueued=!1;this._canvasOfSelectedItem&&(this._rearrangeCanvasDivs(this._canvasOfSelectedItem),delete this._canvasOfSelectedItem)};
AdfDhtmlPanelSpringboardPeer.prototype._animateBodyCanvas=function(a,b){var d=this.getDomElement(),e=AdfDomUtils.containsCSSClassName(d,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS),f=this._shiftField;if(e)this._setBusy(d,null);else if(null!=this._bodyCanvasDiv){var e=AdfAgent.getAgent(),g=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ABOVE),g=e.getElementById(g),g=parseInt(g.style[f]),h=parseInt(b.style[f]),g=g<h,h=this._bodyViewportDiv.offsetWidth,k=this._getRowKeyFromDomElement(b),
e=e.getElementById(k);g?(g=-2*h,this._prepareCanvasSideForSlide(d,e,"right")):(g=0,this._prepareCanvasSideForSlide(d,e,"left"));AdfPage.PAGE.ComponentsInSubtreeCallback(this._bodyCanvasDiv,AdfDhtmlPage.cancelAllPopupsCallback);d={};d[f]=g;var l=[{element:this._bodyCanvasDiv,properties:d}],m=0,f=AdfPage.PAGE.getLookAndFeel(),m=parseInt(f.getSkinProperty("af|panelSpringboard-tr-body-slide-animation-duration"),10);isNaN(m)&&(m=0);var n=this;this._bodyCanvasAnimatorQueued=!0;window.setTimeout(function(){n._animateBodyCanvasCallback(m,
l)},200)}};AdfDhtmlPanelSpringboardPeer.prototype._animateBodyCanvasCallback=function(a,b){this._bodyCanvasAnimator=AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,a,b,null,function(a){a[0]._bodyCanvasAnimationComplete()},[this],null)};AdfDhtmlPanelSpringboardPeer.prototype._prepareCanvasSideForSlide=function(a,b,d){d=this._getCanvasDiv(d);this._moveDom(b.parentNode,AdfDomUtils.getFirstChildElement(d));this._setBusy(a,d)};
AdfDhtmlPanelSpringboardPeer.prototype._moveDom=function(a,b){b.appendChild(a)};
AdfDhtmlPanelSpringboardPeer.prototype._afterToStripAnimationFinal=function(){var a=this.getDomElement();null!=a?this._initialPositionCanvasDivs(a.offsetWidth):AdfLogger.LOGGER.severe("In AdfDhtmlPanelSpringboardPeer.prototype._afterToStripAnimationFinal, no dom element. ");this._toStripAnimationObject=null;this._bodyViewportDiv.style.visibility="visible";this._canvasOfSelectedItem&&(this._rearrangeCanvasDivs(this._canvasOfSelectedItem),delete this._canvasOfSelectedItem);this._haveShowDetailItemsInStrip&&
(this._hideSelectedPointer||(this._selectedPointerDiv.style.display=""),this._setSelectedPointerPosition(),delete this._haveShowDetailItemsInStrip)};AdfDhtmlPanelSpringboardPeer.prototype._afterToGridAnimationFinal=function(){this._toGridAnimationObject=null};
AdfDhtmlPanelSpringboardPeer.prototype._duringToStripAnimation=function(){var a=this.getDomElement();if(null!=a&&(a=a.offsetWidth,a!=this._toStripAnimationOffsetWidth)){this._toStripAnimationOffsetWidth=a;var b=this._toStripAnimationObject;if(null!=b){var d=this._getChildElements(this._headerDiv);b.stop();this._animateFromGridToStrip(d,a)}}};
AdfDhtmlPanelSpringboardPeer.prototype._duringToGridAnimation=function(){var a=this.getDomElement();if(null!=a){var b=a.offsetWidth,a=a.offsetHeight;if(b!=this._toGridAnimationOffsetWidth||a!=this._toGridAnimationOffsetHeight){var d=this._toGridAnimationObject;if(null!=d){var e=this._getChildElements(this._headerDiv);d.stop();this._animateFromStripToGrid(e,b,a)}}}};
AdfDhtmlPanelSpringboardPeer.prototype._setSelectedPointerPosition=function(){var a=this._shiftField,b=this._getHeaderDivDisclosedElement(AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ABOVE);this._selectedPointerDiv.style[a]=b.style[a]};AdfDhtmlPanelSpringboardPeer.prototype._getHeaderDivDisclosedElement=function(a){var b,d;b=AdfAgent.getAgent();d=b.getAttribute(this._headerDiv,AdfDhtmlPanelSpringboardPeer._EXPANDO_DISCLOSED_TAB_ID);a=AdfRichUIPeer.CreateSubId(d,a);return b.getElementById(a)};
AdfDhtmlPanelSpringboardPeer.prototype._setOldDisclosedChild=function(a){AdfAgent.getAgent().setAttribute(this._headerDiv,AdfDhtmlPanelSpringboardPeer._EXPANDO_DISCLOSED_TAB_ID,a)};AdfDhtmlPanelSpringboardPeer.prototype._hasSubIdInId=function(a,b,d){a=a.id;if(null==a)return!1;a=a.split("::");return 1>=a.length?!1:(a=a[a.length-1])&&(a==b||a==d)?!0:!1};
AdfDhtmlPanelSpringboardPeer.prototype._findChildFromSubId=function(a,b,d){a=this._getRowKeyElementFromDomElement(a,this.getDomElement());a=this._getRowKeyFromDomElement(a);return null!=a?AdfPage.PAGE.findComponent(a):null};
AdfDhtmlPanelSpringboardPeer.prototype._setItemsToNonSelectedState=function(a){for(var b=a.length,d=!1,e=0;e<b;e++){var f=AdfDomUtils.getFirstChildElement(a[e]);if(f&&(!d&&!AdfDomUtils.containsCSSClassName(f,AdfDhtmlPanelSpringboardPeer._DISABLED_CLASS)?(f.setAttribute("tabIndex","0"),d=!0):f.setAttribute("tabIndex","-1"),AdfDomUtils.containsCSSClassName(f,AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS))){var g=this._findChildFromSubId(f,AdfDhtmlPanelSpringboardPeer._CLICKABLE_TAB_ITEM);if(g&&!g.getDisabled()&&
"inline"!=g.getIconDelivery()){var h=AdfDomUtils.getFirstDescendentElement(f,"img");this._displayIcon(h,g,g.getIcon())}AdfDomUtils.addOrRemoveCSSClassName(!1,f,AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS);f.removeAttribute("aria-selected")}}};AdfDhtmlPanelSpringboardPeer.prototype._displayIcon=function(a,b,d){d||(d=b.getIcon());a.src=d};
AdfDhtmlPanelSpringboardPeer.prototype._handleIcon=function(a,b,d){var e=AdfAgent.getAgent();a=a.getNativeEventTarget();if((a=this._findChildFromSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ABOVE))&&"inline"!=a.getIconDelivery())e=e.getElementById(AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPanelSpringboardPeer._TAB_SUB_ID_ICON)),a.getDisabled()||(b?this._displayIcon(e,a,a.getHoverIcon()):d?this._displayIcon(e,a,a.getDepressedIcon()):(b=this.getComponent(),a.getDisclosed()&&"grid"!=b.getProperty(AdfRichPanelSpringboard.DISPLAY_MODE)?
this._displayIcon(e,a,a.getDepressedIcon()):this._displayIcon(e,a,a.getIcon())))};AdfDhtmlPanelSpringboardPeer.prototype._getCompleteItemWidth=function(){for(var a=0,b=this._getChildElements(this._headerDiv),d=0,e=b.length;d<e;d++)b[d]&&(a+=b[d].offsetWidth);return a};AdfDhtmlPanelSpringboardPeer.prototype._getCBeltNavWidth=function(){0===this._cBeltNavWidth&&(this._startCBeltI.style.display="inline-block",this._cBeltNavWidth=this._startCBeltI.offsetWidth,this._startCBeltI.style.display="none");return this._cBeltNavWidth};
AdfDhtmlPanelSpringboardPeer.prototype._getCBeltItemShiftValues=function(a,b){var d=0,e=this._currCBeltIndex,f=this._cBeltShift[e];f||(f={},this._cBeltShift[e]=f);var g=f[a];if(g)return g;g||(g={},f[a]=g);var h=this._cBeltContainer.offsetWidth,f=this._getCBeltNavWidth();"inline-block"==this._startCBeltI.style.display&&(h-=f);"inline-block"==this._endCBeltI.style.display&&(h-=f);var k=e,f=0,l=-1;if(a)for(l=k;d<h&&-1<k;k--,f++)d+=b[k].offsetWidth;else for(var m=b.length;d<h&&k<m;k++,f++)l=k,d+=b[k].offsetWidth;
if(1<f){k=0;if(d>h){for(var m=b[l],h=h-(d-m.offsetWidth),n=m;n&&!/^img$/i.test(n.tagName);)n=AdfDomUtils.getFirstChildElement(n);n&&(h>(m.offsetWidth-n.offsetWidth)/2+n.offsetWidth/3?(k=1,d-=b[l].offsetWidth):(k=1,d-=b[l--].offsetWidth,g.showLastAsFirstSubtract=!0,-1<l&&(d-=b[l].offsetWidth,k++)))}else d===h&&(k=1,d-=b[l].offsetWidth,g.showLastAsFirstSubtract=!0);f-=k;a||(e+=f,l=this._cBeltShift[e],l||(l={},this._cBeltShift[e]=l),l[!0]={numItemsPerClick:f,summedWidth:d})}g.numItemsPerClick=f;g.summedWidth=
d;return g};
AdfDhtmlPanelSpringboardPeer.prototype._shiftConveyor=function(a){if(!this._cBeltMoving){this._cBeltMoving=!0;var b=this._getChildElements(this._headerDiv),d=this._currCBeltIndex,e=this._shiftField,f=parseInt(this._headerDiv.style[e],10),g=this._getCBeltItemShiftValues(a,b),h=g.numItemsPerClick,g=g.summedWidth;isNaN(f)&&(this._headerDiv.style[e]="0px",f=0);a?1>d-h?(g=-1*f,this._currCBeltIndex=0):this._currCBeltIndex=Math.max(0,this._currCBeltIndex-h):(g*=-1,this._currCBeltIndex=Math.min(b.length-1,
this._currCBeltIndex+h));a={};a[e]=f+g;this._shiftHelper(a)}};AdfDhtmlPanelSpringboardPeer.prototype._shiftHelper=function(a){AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,this._conveyorSlideAnimationDuration,[{element:this._headerDiv,properties:a}],function(){},function(a){a[0]._cBeltMoving=!1;a[0]._maintainCBeltDisplay()},[this],null)};
AdfDhtmlPanelSpringboardPeer.prototype._maintainCBeltDisplay=function(a){for(var b=this._getChildElements(this._headerDiv),d=0,e=AdfDhtmlPanelSpringboardPeer._isRTL(),f=e?this._endCBeltI:this._startCBeltI,e=e?this._startCBeltI:this._endCBeltI,g=0===this._currCBeltIndex,h=!0,k="undefined"!==typeof a?Math.round(a):this._cBeltContainer.offsetWidth,l=this._shiftField,h=this._currCBeltIndex,m=b.length;h<m;h++)b[h]&&(d+=b[h].offsetWidth);var m=this._getCBeltNavWidth(),n=k-(g?0:m);(h=n>d||this._currCBeltIndex===
b.length-1)||(n-=m);this._cBeltContent.style[l]=0<this._currCBeltIndex?m+"px":"0px";this._cBeltContent.style.width=n+"px";"undefined"!==typeof a&&(this._cBeltContainer.style.width=k+"px");f.style.display=g?"none":"inline-block";e.style.display=h?"none":"inline-block"};
AdfDhtmlPanelSpringboardPeer.prototype._attemptToShowAsMuchElementsAsPossible=function(a){var b=this._cBeltContainer.offsetWidth,d=this._getCBeltNavWidth();"inline-block"==this._startCBeltI.style.display&&(b-=d);"inline-block"==this._endCBeltI.style.display&&(b-=d);for(var d=null,e=0,f=this._currCBeltIndex,g=a.length,h=f;e<=b&&h<g;h++)d=a[h],e+=d.offsetWidth;if(h===g&&!(e>b)){d=g=0;h=null;for(b-=e;-1<f&&d<=b;f--,g++)h=a[f],d+=h.offsetWidth;d>b&&(g--,d-=h.offsetWidth);0<g&&(a=this._shiftField,this._currCBeltIndex-=
g,0>this._currCBeltIndex&&(this._currCBeltIndex=0),b=parseInt(this._headerDiv.style[a],10),this._cBeltMoving?this._headerDiv.style[a]=b+d+"px":(this._cBeltMoving=!0,f={},f[a]=b+d,this._shiftHelper(f)))}};
AdfDhtmlPanelSpringboardPeer.prototype._bringDisclosedElementIntoView=function(a,b){if(this._isCBeltActivated()){var d=0;this._currCBeltIndex=0;var e=this._conveyorSlideAnimationDuration;for(this._conveyorSlideAnimationDuration=0;this._currCBeltIndex<a;){var f=this._getCBeltItemShiftValues(!1,b),g=f.summedWidth;if(this._currCBeltIndex+f.numItemsPerClick+(f.showLastAsFirstSubtract?1:0)>a)break;this._cBeltMoving=!1;this._shiftConveyor(!1);d+=g}this._conveyorSlideAnimationDuration=e;e=this._shiftField;
f={};parseInt(this._headerDiv.style[e],10)<d?(f[e]=-1*d,this._shiftHelper(f)):0<d&&(f[e]=-1*d,this._shiftHelper(f))}};
AdfDhtmlPanelSpringboardPeer.prototype._positionElementIntoOverflow=function(a,b,d,e){if("undefined"===typeof d){d=-1;b=this._getChildElements(this._headerDiv);e=b.length;this._getStripItemPositions(b,a);for(a=0;a<e;a++){var f=AdfDomUtils.getFirstChildElement(b[a]);f&&AdfDomUtils.containsCSSClassName(f,AdfDhtmlPanelSpringboardPeer._SELECTED_CLASS)&&(d=a)}}-1!==d&&this._bringDisclosedElementIntoView(d,b)};
AdfDhtmlPanelSpringboardPeer.prototype._processCbeltTab=function(a){if(this._isCBeltActivated()&&!(this._isCBeltActivated()&&a.keyCode!==AdfKeyStroke.TAB_KEY)){a=this._getChildElements(this._headerDiv);this._cBeltShift={};for(var b=a.length,d=-1,e=document.activeElement,f=0;f<b;f++){var g=AdfDomUtils.getFirstChildElement(a[f]);g&&e==g&&(d=f)}-1<d&&this._positionElementIntoOverflow(this.getDomElement().offsetWidth,a,d)}};
AdfDhtmlPanelSpringboardPeer.prototype._hideCBelt=function(){var a=this._shiftField,b=AdfDhtmlPanelSpringboardPeer._isRTL()?"scrollRight":"scrollLeft";this._cBeltShift={};this._currCBeltIndex=0;this._startCBeltI.style.display="none";this._endCBeltI.style.display="none";this._cBeltContent[b]=0;this._cBeltContent.style[a]="0px";this._headerDiv.style[a]="0px";this._cBeltContent.style.width="";this._cBeltContainer.style.width=""};
AdfDhtmlPanelSpringboardPeer.prototype._isCBeltActivated=function(){return"inline-block"==this._startCBeltI.style.display||"inline-block"==this._endCBeltI.style.display||parseInt(this._headerDiv.style[this._shiftField],10)};AdfDhtmlPanelSpringboardPeer._isRTL=function(){return AdfPage.PAGE.getLocaleContext().isRightToLeft()};AdfDhtmlPanelSpringboardPeer.prototype._isOptimizedRenderTarget=function(a){return a.id===this._optRndId};
AdfDhtmlPanelSpringboardPeer.prototype._setBusy=function(a,b){var d;AdfDomUtils.containsCSSClassName(a,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS)?(d=this.getComponent().getClientId(),d=AdfRichUIPeer.createSubId(d,AdfDhtmlPanelSpringboardPeer._TAB_BODY_B),d=AdfAgent.getAgent().getElementById(d)):d=AdfDomUtils.getFirstChildElement(b);AdfDomUtils.addCSSClassName(d,AdfDhtmlPanelSpringboardPeer._BUSY_CLASS)};
AdfDhtmlPanelSpringboardPeer.prototype._removeBusy=function(a){var b=AdfAgent.getAgent(),d=AdfDomUtils.containsCSSClassName(a,AdfDhtmlPanelSpringboardPeer._FLOW_STYLECLASS);a=this.getComponent().getClientId();var e=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_BODY_B),e=b.getElementById(e);AdfDomUtils.removeCSSClassName(e,AdfDhtmlPanelSpringboardPeer._BUSY_CLASS);d||(d=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_BODY_A),a=AdfRichUIPeer.createSubId(a,AdfDhtmlPanelSpringboardPeer._TAB_BODY_C),
d=b.getElementById(d),b=b.getElementById(a),AdfDomUtils.removeCSSClassName(d,AdfDhtmlPanelSpringboardPeer._BUSY_CLASS),AdfDomUtils.removeCSSClassName(b,AdfDhtmlPanelSpringboardPeer._BUSY_CLASS))};AdfDhtmlPanelSpringboardPeer.prototype._setBeltContentHeight=function(a){var b=AdfAgent.getAgent();b.getPlatform()==AdfAgent.IE_PLATFORM&&8>b.getVersion()&&(b=b.getComputedStyle(a).height,a=a.offsetHeight,this._cBeltContent.style.height=0!==a?a+"px":b)};
AdfDhtmlPanelSpringboardPeer.prototype.getContainerId=function(a){var b=this.getComponent().getClientId(),d=AdfRichUIPeer.createSubId(b,AdfDhtmlPanelSpringboardPeer._TAB_BODY_A),e=AdfRichUIPeer.createSubId(b,AdfDhtmlPanelSpringboardPeer._TAB_BODY_B),b=AdfRichUIPeer.createSubId(b,AdfDhtmlPanelSpringboardPeer._TAB_BODY_C);for(a=a.parentNode;a;){var f=a.id;if(null!=f){if(f==d)return d;if(f==e)return e;if(f==b)return b}a=a.parentNode}return this.getComponent().getClientId()};
AdfUIComponents.createComponentClass("AdfRichPanelHeader",{componentType:"oracle.adf.RichPanelHeader",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"helpTopicId",type:"String"},{name:"text",type:"String"},{name:"icon",type:"String"},{name:"type",type:"String","default":"default"},{name:"contentStyle",type:"String"},{name:"helpType",type:"String",
"default":"inline"},{name:"messageType",type:"String","default":"none"},{name:"size",type:"Number","default":-1},{name:"headerLevel",type:"Number","default":-1}],superclass:AdfUIPanel});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlPanelHeaderPeer",!1);AdfDhtmlPanelHeaderPeer.InitSubclass=function(){AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfDialogEvent.EVENT_TYPE);this._DYNAMIC_HELP_POPUP="_afrHlpPop";this._DYNAMIC_HELP_DIALOG="_afrHlpCnt";this._TITLE_TEXT_SUBID="_afrTtxt";this._STRETCH_CELL_SUBID="_afrStr";this._ELLIPSIS_SUBID="_afrEps";this._MINIMUM_TITLE_TEXT_WIDTH=0};
AdfDhtmlPanelHeaderPeer.prototype.Init=function(a){AdfDhtmlPanelHeaderPeer.superclass.Init.call(this,a);this._stretchedOnLastResize=!0};AdfDhtmlPanelHeaderPeer.prototype.needsResizeNotify=function(a){return!0};AdfDhtmlPanelHeaderPeer.prototype.ComponentRemoved=function(a){delete this._stretchedOnLastResize;delete this._minimumTitleWidth;delete this._preferredTitleTextWidth;delete this._ellipsisWidth;AdfDhtmlPanelHeaderPeer.superclass.ComponentRemoved.call(this,a)};
AdfDhtmlPanelHeaderPeer.prototype.HandleComponentClick=function(a){var b=this.getComponent(),d=b.getClientId(),e=AdfRichUIPeer.CreateSubId(d,"_afrHlpLnk"),f=AdfAgent.AGENT,g=a.getNativeEvent(),h=f.getEventTarget(g),h="A"!=h.tagName?h.parentNode:h;if(a.isLeftButtonPressed()&&h.id==e){a=AdfRichUIPeer.CreateSubId(d,"_afrHlpCtr");if(a=f.getElementById(a)){for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;null!=a&&(d={},d[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START,d[AdfRichPopup.HINT_ALIGN_ID]=
e,this.showPopup(b,a,d,AdfDhtmlPanelHeaderPeer._DYNAMIC_HELP_POPUP))}f.preventDefault(g);return!0}};AdfDhtmlPanelHeaderPeer.prototype.HandleComponentDialog=function(a){var b=this.getComponent(),d=b.getClientId();AdfRichUIPeer.CreateSubId(d,AdfDhtmlPanelHeaderPeer._DYNAMIC_HELP_DIALOG)==a.getSource().getClientId()&&(a.cancel(),this.hidePopup(b,AdfDhtmlPanelHeaderPeer._DYNAMIC_HELP_POPUP))};
AdfDhtmlPanelHeaderPeer.prototype.PopupClosed=function(a,b,d){AdfDhtmlPanelHeaderPeer._DYNAMIC_HELP_POPUP==d&&(AdfDhtmlPanelHeaderPeer.superclass.PopupClosed.call(this,a,b),a=a.getClientId(),a=AdfRichUIPeer.CreateSubId(a,"_afrHlpCtr"),(a=AdfAgent.AGENT.getElementById(a))&&a.appendChild(b))};
AdfDhtmlPanelHeaderPeer.prototype.ResizeNotify=function(a,b,d,e){a=this._minimumTitleWidth;null==this._minimumTitleWidth&&(a=this._calculateMinimumTitleWidth());d>=a?this._stretchTitle():this._truncateTitle(a-d)};
AdfDhtmlPanelHeaderPeer.prototype._calculateMinimumTitleWidth=function(){var a=AdfAgent.AGENT,b=this.getDomElement(),d=0,e=AdfAgent.getCSSLengthAsInt,f=a.getComputedStyle(b),f=e(f.paddingLeft)+e(f.paddingRight),d=d+f,f=AdfDomUtils.getFirstDescendentElement(b,"table"),g=AdfDomUtils.getFirstDescendentElement(f,"tr");if(3==AdfDomUtils.getChildElements(g).length)var h=!0;if(h){h=AdfDomUtils.getFirstDescendentElement(f,"tr");if(null==h)return d;h=AdfDomUtils.getChildElements(h);d+=h[0].offsetWidth;d+=
h[2].offsetWidth;f=h[1];h=AdfDomUtils.getFirstDescendentElement(h[1],"table")}else h=f;f=a.getComputedStyle(f);e=e(f.paddingLeft)+e(f.paddingRight);d+=e;e=this._getTitleTextElement();this._preferredTitleTextWidth=f=AdfDomUtils.getFirstChildElement(e).offsetWidth;d+=f;e.style.width=f+"px";e.style.maxWidth=f+"px";a.getPlatform()==AdfAgent.GECKO_PLATFORM&&1.8==a.getVersion()&&(e.style.overflow="hidden");for(var a=AdfDomUtils.getFirstDescendentElement(h,"tr"),a=AdfDomUtils.getChildElements(a),e=b.getAttribute("id"),
b=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelHeaderPeer._TITLE_TEXT_SUBID),e=AdfRichUIPeer.CreateSubId(e,AdfDhtmlPanelHeaderPeer._STRETCH_CELL_SUBID),h=a.length,k=0;k<h;k++)f=a[k],g=f.getAttribute("id"),b!=g&&e!=g&&(d+=f.offsetWidth);return this._minimumTitleWidth=d};
AdfDhtmlPanelHeaderPeer.prototype._truncateTitle=function(a){var b=this._getEllipsisElement(),d=AdfDomUtils.getFirstChildElement(b),e=this._ellipsisWidth;this._stretchedOnLastResize&&(d.style.display="",null==e&&(this._ellipsisWidth=e=AdfAgent.AGENT.getOuterWidth(b,b.offsetWidth)),0==this._preferredTitleTextWidth&&(d.style.display="none"));a=this._preferredTitleTextWidth-(e+a);b=AdfDhtmlPanelHeaderPeer._MINIMUM_TITLE_TEXT_WIDTH;a=a<b?b:a;b=this._getTitleTextElement();b.style.width=a+"px";b.style.maxWidth=
a+"px";this._stretchedOnLastResize=!1};AdfDhtmlPanelHeaderPeer.prototype._stretchTitle=function(){if(!this._stretchedOnLastResize){var a=this._getEllipsisElement();AdfDomUtils.getFirstChildElement(a).style.display="none";var a=this._getTitleTextElement(),b=this._preferredTitleTextWidth;a.style.width=b+"px";a.style.maxWidth=b+"px";this._stretchedOnLastResize=!0}};
AdfDhtmlPanelHeaderPeer.prototype._getTitleTextElement=function(){var a=this.getDomElement().getAttribute("id"),a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelHeaderPeer._TITLE_TEXT_SUBID),a=AdfAgent.AGENT.getElementById(a);return AdfDomUtils.getFirstChildElement(a)};AdfDhtmlPanelHeaderPeer.prototype._getEllipsisElement=function(){var a=this.getDomElement().getAttribute("id"),a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlPanelHeaderPeer._ELLIPSIS_SUBID);return AdfAgent.AGENT.getElementById(a)};
AdfUIComponents.createComponentClass("AdfRichShowDetailHeader",{componentType:"oracle.adf.RichShowDetailHeader",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"helpTopicId",type:"String"},{name:"text",type:"String"},{name:"icon",type:"String"},{name:"type",type:"String","default":"default"},{name:"contentStyle",type:"String"},{name:"helpType",
type:"String","default":"inline"},{name:"messageType",type:"String","default":"none"},{name:"size",type:"Number","default":-1},{name:"headerLevel",type:"Number","default":-1},{name:"persist",type:"Array"},{name:"dontPersist",type:"Array"},{name:"handleDisclosure",type:"String","default":"server"},{name:"maximized",type:"Boolean","default":!1},{name:"showMaximize",type:"String","default":"auto"},"maximizeListener",{name:"contentDelivery",type:"String","default":"lazyUncached"},{name:"disclosedTransient",
type:"Boolean","default":!1}],superclass:AdfUIShowDetail});
AdfRichUIPeer.createPeerClass(AdfDhtmlPanelHeaderPeer,"AdfDhtmlShowDetailHeaderPeer",!1);AdfDhtmlShowDetailHeaderPeer._INNER_SD_PEER=AdfRichUIPeer.createInnerPeerClassWithSubId(AdfDhtmlShowDisclosurePeer,"InnerSDHShowDetailPeer","_afrDscl");InnerSDHShowDetailPeer.InitSubclass=function(){AdfDhtmlTogglePeer.Config(this,{toggledStyleClass:"af|showDetailHeader::disclosed-icon-style",untoggledStyleClass:"af|showDetailHeader::undisclosed-icon-style"})};
InnerSDHShowDetailPeer.prototype.HandleClientSideToggle=function(a){return InnerSDHShowDetailPeer.superclass.HandleClientSideToggle.call(this,a)?this.outerThis.__handleClientSideDisclosure(a):!1};
InnerSDHShowDetailPeer.prototype.EventPropagatesToServer=function(a){var b=InnerSDHShowDetailPeer.superclass.EventPropagatesToServer.call(this);if(!1==b){var d=this.outerThis.getComponent();if("lazy"===d.getPropertyValue("contentDelivery")&&!1==this.outerThis.__isContentLoaded()||!1==a&&AdfPage.PAGE.getDirtyStateService().hasDirtyData(d))b=!0}return b};
AdfDhtmlShowDetailHeaderPeer.prototype.Init=function(a){AdfDhtmlShowDetailHeaderPeer.superclass.Init.call(this,a);this._disclosurePeer=new AdfDhtmlShowDetailHeaderPeer._INNER_SD_PEER(a,this);var b=a.getPropertyKeys().disclosed;null!=b&&b[AdfUIComponent.PROPERTY_DISCONNECTED]&&(b=AdfCollections.copyInto({},b),delete b[AdfUIComponent.PROPERTY_DISCONNECTED],a.getPropertyKeys().disclosed=b);this._ignoreUpAndDownArrowKey="false"==AdfPage.PAGE.getLookAndFeel().getSkinProperty("af|showDetailHeader-tr-disclose-with-up-down-arrow")};
AdfDhtmlShowDetailHeaderPeer.prototype.initialize=function(a){AdfDhtmlShowDetailHeaderPeer.superclass.initialize.call(this,a);this._disclosurePeer.initialize(a)};AdfDhtmlShowDetailHeaderPeer.InitSubclass=function(){AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.KEY_UP_EVENT_TYPE,AdfDisclosureEvent.EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,"disclosed")};
AdfDhtmlShowDetailHeaderPeer.prototype.HandleComponentClick=function(a){AdfDhtmlShowDetailHeaderPeer.superclass.HandleComponentClick.call(this,a);this._disclosurePeer.HandleComponentClick(a)};AdfDhtmlShowDetailHeaderPeer.prototype.HandleComponentKeyUp=function(a){var b=!0;this._ignoreUpAndDownArrowKey&&(b=a.getNativeEvent(),b=AdfAgent.AGENT.getKeyCode(b),b=b!=AdfKeyStroke.ARROWUP_KEY&&b!=AdfKeyStroke.ARROWDOWN_KEY);b&&this._disclosurePeer.HandleComponentKeyUp(a)};
AdfDhtmlShowDetailHeaderPeer.prototype.HandleComponentDisclosure=function(a){this._disclosurePeer.HandleComponentDisclosure(a)};AdfDhtmlShowDetailHeaderPeer.prototype.ComponentDisclosedChanged=function(a,b,d,e){return"immediate"==a.getPropertyValue("contentDelivery")||"lazy"==a.getPropertyValue("contentDelivery")&&this.__isContentLoaded()?this._disclosurePeer.ComponentDisclosedChanged(a,b,d,e):!1};
AdfDhtmlShowDetailHeaderPeer.prototype.__handleClientSideDisclosure=function(a){var b=this._getContentDomElement();return b?(b.style.display=a?"":"none",!0):!1};AdfDhtmlShowDetailHeaderPeer.prototype.__isContentLoaded=function(){return null!=this._getContentDomElement()};AdfDhtmlShowDetailHeaderPeer.prototype._getContentDomElement=function(){return this.getDomElement().childNodes[1]};
AdfUIComponents.createComponentClass("AdfRichShowDetailItem",{componentType:"oracle.adf.RichShowDetailItem",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"persist",type:"Array"},{name:"dontPersist",type:"Array"},{name:"badge",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"depressedIcon",type:"String"},{name:"hoverIcon",
type:"String"},{name:"disabledIcon",type:"String"},{name:"icon",type:"String"},{name:"iconDelivery",type:"String","default":"auto"},{name:"text",type:"String"},{name:"accessKey",type:"String"},{name:"flex",type:"Number","default":0},{name:"inflexibleHeight",type:"Number","default":100},{name:"stretchChildren",type:"String","default":"none"},"itemListener",{name:"displayIndex",type:"Number","default":-1},{name:"remove",type:"String","default":"inherit"},{name:"disclosedTransient",type:"Boolean","default":!1}],
eventNames:["item"],superclass:AdfUIShowDetail});
AdfRichUIPeer.createPeerClass(AdfDhtmlShowDisclosurePeer,"AdfDhtmlShowDetailItemPeer");AdfDhtmlShowDetailItemPeer.InitSubclass=function(){AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichShowDetailItem.FLEX,AdfRichShowDetailItem.INFLEXIBLE_HEIGHT)};
AdfDhtmlShowDetailItemPeer.prototype.InitDomElement=function(a,b){AdfDhtmlShowDetailItemPeer.superclass.InitDomElement.call(this,a,b);if("first"==a.getStretchChildren()){var d=AdfDomUtils.getOnlyChildElement(b);if(d&&this._isCapableOfAbsolutePositioning(a,d)){var e=d.style;e.position="absolute";"IFRAME"==d.tagName?(e.width="100%",e.height="100%"):(e.width="auto",e.height="auto",e.top="0px",e.bottom="0px",e.left="0px",e.right="0px")}}else if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&(d=AdfDomUtils.getOnlyChildElement(b))&&
(d.style&&"100%"==d.style.height)&&this._isCapableOfAbsolutePositioning(a,d))d.style.position="absolute"};
AdfDhtmlShowDetailItemPeer.prototype._isCapableOfAbsolutePositioning=function(a,b){var d=b.parentNode;if(window.AdfRichPanelTabbed&&a.getParent()instanceof AdfRichPanelTabbed){for(var e=1,d=b.parentNode;4>e&&null!=d;)d=d.parentNode,null!=d&&++e;if(4==e&&null!=d&&"TD"==d.tagName)return this._bypassStretching=!0,!1}else if(window.AdfRichPanelAccordion&&a.getParent()instanceof AdfRichPanelAccordion){if("absolute"!=d.style.position)return this._bypassStretching=!0,!1}else if(window.AdfRichPanelSpringboard&&
a.getParent()instanceof AdfRichPanelSpringboard&&"absolute"!=d.style.position)return this._bypassStretching=!0,!1;return!0};AdfDhtmlShowDetailItemPeer.prototype.SetBusy=function(a){if(!AdfPage.PAGE.isAttachmentMode()){var b=this.getComponent(),d=b.getParent();d&&"oracle.adf.RichPanelTabbed"==d.getComponentType()&&(b=b.getClientId(),this._changeCursor(b,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_ABOVE,a),this._changeCursor(b,AdfDhtmlPanelTabbedPeer.TAB_SUB_ID_BELOW,a))}};
AdfDhtmlShowDetailItemPeer.prototype.ComponentFlexChanged=function(a,b,d,e){return this._propertyChangedHandled(a)};AdfDhtmlShowDetailItemPeer.prototype._propertyChangedHandled=function(a){return a.ResizeHandlePropertyChange?!0:!1};AdfDhtmlShowDetailItemPeer.prototype.ComponentInflexibleHeightChanged=function(a,b,d,e){return this._propertyChangedHandled(a)};
AdfDhtmlShowDetailItemPeer.prototype.DomReplaceNotify=function(a){if(!this._bypassStretching){var b=this.getComponent();if("absolute"!=a.style.position&&"absolute"==a.parentNode.style.position)if("first"==b.getStretchChildren())AdfDomUtils.getOnlyChildElement(this.getDomElement())==a&&(b=a.style,b.position="absolute",b.width="100%",b.height="100%");else if(AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM){var d=AdfDomUtils.getOnlyChildElement(this.getDomElement());d&&(d==a&&d.style&&"100%"==d.style.height)&&
this._isCapableOfAbsolutePositioning(b,d)&&(d.style.position="absolute")}return a}};AdfDhtmlShowDetailItemPeer.prototype._changeCursor=function(a,b,d){a=AdfRichUIPeer.CreateSubId(a,b);(a=AdfAgent.getAgent().getElementById(a))&&AdfDomUtils.addOrRemoveCSSClassName(d,a,AdfRichUIPeer.BUSY_STYLECLASS)};AdfDhtmlShowDetailItemPeer.prototype.getContainerId=function(a){var b=this.getComponent(),d=b.getParent(),e=d.getPeer();return e&&e.getContainerId?(e.bind(d),e.getContainerId(a)):b.getClientId()};
AdfUIComponents.createComponentClass("AdfRichStatusIndicator",{componentType:"oracle.adf.RichStatusIndicator",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0}],superclass:AdfUIObject});
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlStatusIndicatorPeer");
AdfDhtmlStatusIndicatorPeer.InitSubclass=function(){this.DTS_PROCESSING_ICON="af|statusIndicator::processing-icon";this.DTS_IDLE_ICON="af|statusIndicator::idle-icon";this.ADS_CONNECTING_ICON="af|statusIndicator::connecting-icon";this.ADS_CONNECTED_ICON="af|statusIndicator::connected-icon";this.ADS_DISCONNECTED_ICON="af|statusIndicator::disconnected-icon";this.ADS_RECONNECTING_ICON="af|statusIndicator::reconnecting-icon";this.ADS_ICONS=[];var a=AdfDhtmlPage.PushChannelStates;this.ADS_ICONS[a.CONNECTING]=
this.ADS_CONNECTING_ICON;this.ADS_ICONS[a.CONNECTED]=this.ADS_CONNECTED_ICON;this.ADS_ICONS[a.RECONNECTING]=this.ADS_RECONNECTING_ICON;this.ADS_ICONS[a.DISCONNECTED]=this.ADS_DISCONNECTED_ICON;this._serverBusy=!1};
AdfDhtmlStatusIndicatorPeer.prototype.InitDomElement=function(a,b){AdfAssert.assertDomElement(b);AdfDhtmlStatusIndicatorPeer.superclass.InitDomElement.call(this,a,b);this._updateIcon(b);AdfPage.PAGE.getDataTransferService().addStateChangeListener(this._stateChanged,a);var d=this;window.setTimeout(function(){AdfPage.PAGE.isActiveDataSupported()&&AdfPage.PAGE.getActiveDataSupport().addADSConnectionStateListener(d._stateChanged,a)},0)};
AdfDhtmlStatusIndicatorPeer.prototype.ComponentRemoved=function(a){AdfPage.PAGE.getDataTransferService().removeStateChangeListener(this._stateChanged,a);AdfPage.PAGE.isActiveDataSupported()&&AdfPage.PAGE.getActiveDataSupport().removeADSConnectionStateListener(this._stateChanged,a);AdfDhtmlStatusIndicatorPeer.superclass.ComponentRemoved.call(this,a)};AdfDhtmlStatusIndicatorPeer.prototype._stateChanged=function(a){a=this.getPeer();a.bind(this);var b=a.getDomElement();a._updateIcon(b);return!0};
AdfDhtmlStatusIndicatorPeer.prototype._updateIcon=function(a){var b;if(AdfPage.PAGE.getDataTransferService().getDTSState()!=AdfDataTransferService.STATE_READY)b=AdfDhtmlStatusIndicatorPeer.DTS_PROCESSING_ICON;else if(b=AdfDhtmlStatusIndicatorPeer.DTS_IDLE_ICON,AdfPage.PAGE.isActiveDataSupported()){var d=AdfPage.PAGE.getActiveDataSupport().getADSConnectionState();void 0!=d&&(b=AdfDhtmlStatusIndicatorPeer.ADS_ICONS[d])}AdfDomUtils.swapIcon(a.firstChild,b)};
AdfUIComponents.createComponentClass("AdfRichSelectOneListbox",{componentType:"oracle.adf.RichSelectOneListbox",propertyKeys:[{name:"changed",type:"Boolean","default":!1},{name:"changedDesc",type:"String"},{name:"autoSubmit",type:"Boolean","default":!1},{name:"accessKey",type:"String"},{name:"contentStyle",type:"String"},{name:"helpTopicId",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"label",type:"String"},{name:"labelStyle",type:"String"},{name:"readOnly",type:"Boolean",
"default":!1,secured:!0},{name:"showRequired",type:"Boolean","default":!1},{name:"simple",type:"Boolean","default":!1},{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"valuePassThru",type:"Boolean","default":!1,secured:!0},{name:"unselectedLabel",type:"String"},{name:"size",type:"Number","default":4}],superclass:AdfUISelectOne});
AdfRichUIPeer.createPeerClass(AdfDhtmlSelectOneListbasePeer,"AdfDhtmlSelectOneListboxPeer");
AdfDhtmlSelectOneListboxPeer.InitSubclass=function(){AdfRichUIPeer.addComponentPropertyGetters(this,AdfUIEditableValue.SUBMITTED_VALUE,AdfUISelectOne.SELECT_ITEMS,AdfRichSelectOneListbox.LABEL);AdfObject.ensureClassInitialization(AdfRichSelectOneListbox);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichSelectOneListbox.LABEL);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.BLUR_EVENT_TYPE);
this._DISABLED_STYLE_CLASS="p_AFDisabled";this._SELECTED_STYLE_CLASS="p_AFSelected";this._SELECTED_ID="_afrSelectedId";this.LIST_HOLDER_ID="listHolder";this._TITLES_POPULATED_EXPANDO="_adfTP"};AdfDhtmlSelectOneListboxPeer.prototype.InitDomElement=function(a,b){AdfDhtmlSelectOneListboxPeer.superclass.InitDomElement.call(this,a,b);this._scrollToSelection(a)};
AdfDhtmlSelectOneListboxPeer.prototype.BindToComponent=function(a,b){AdfDhtmlSelectOneListboxPeer.superclass.BindToComponent.call(this,a,b);var d=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneListboxPeer.LIST_HOLDER_ID),e=AdfAgent.AGENT;if((d=e.getElementById(d))&&!d.getAttribute(AdfDhtmlSelectOneListboxPeer._TITLES_POPULATED_EXPANDO)){for(var f=this.GetItemElements(a),g=f.length,h=null,k=e.getPlatform()==AdfAgent.IE_PLATFORM&&7==Math.floor(e.getVersion()),l=0;l<g;l++)h=f[l],(null==h.title||
""==h.title)&&h.setAttribute("title",h.innerHTML),k&&e.disableUserSelect(h);d.setAttribute(AdfDhtmlSelectOneListboxPeer._TITLES_POPULATED_EXPANDO,!0)}};
AdfDhtmlSelectOneListboxPeer.prototype.HandleComponentClick=function(a){AdfDhtmlSelectOneListboxPeer.superclass.HandleComponentClick.call(this,a);var b=a.getSource(),d=a.getNativeEventTarget();if("LABEL"==AdfAgent.AGENT.getNodeName(d))this.focus(b);else if(this.IsItemEnabled(d)){var e=d.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),f=this.getDomElement(),g=this._getSelectedItemElement(b,f);null!=g&&a.getNativeEvent().ctrlKey&&g==d&&(e="");this._validate(b,f,""+e)}};
AdfDhtmlSelectOneListboxPeer.prototype.HandleComponentMouseDown=function(a){a.getNativeEvent().ctrlKey&&a.cancel()};
AdfDhtmlSelectOneListboxPeer.prototype.HandleComponentKeyDown=function(a){var b=a.getNativeEvent(),d=AdfAgent.AGENT.getKeyCode(b),e=a.getSource(),f=this.getDomElement(),g=this._getSelectedItemElement(e,f);a.getNativeEventTarget();switch(d){case AdfKeyStroke.SPACE_KEY:b.ctrlKey&&this._validate(e,f,"");a.cancel();break;case AdfKeyStroke.ENTER_KEY:this.ValidateIfStashedOldValue(e,f);break;case AdfKeyStroke.ARROWUP_KEY:case AdfKeyStroke.ARROWDOWN_KEY:(b=d==AdfKeyStroke.ARROWUP_KEY?this.GetPreviousEnabledItem(g):
this.GetNextEnabledItem(g))||(b=this.GetFirstEnabledItem(e)),b&&(this.StashOldValue(e,f),b=b.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),this.SetDisplayValue(e,f,b)),a.cancel()}};AdfDhtmlSelectOneListboxPeer.prototype.HandleComponentBlur=function(a){a=a.getSource();var b=this.getDomElement();this.ValidateIfStashedOldValue(a,b)};
AdfDhtmlSelectOneListboxPeer.prototype.SetDisplayValue=function(a,b,d){var e=AdfDhtmlEditableValuePeer.getContentNode(a,b);AdfAssert.assertString(d);if(!a.getReadOnly()){var f=this.FindItemElementWithValue(a,d);b=this._getSelectedItemElement(a,b);this.SelectItemElement(a,f,b);e.value=d}};AdfDhtmlSelectOneListboxPeer.prototype.GetNoteWindowAlignmentNode=function(a,b){var d=a.getClientId(),d=AdfRichUIPeer.CreateSubId(d,AdfDhtmlSelectOneListboxPeer.LIST_HOLDER_ID);return AdfAgent.AGENT.getElementById(d)};
AdfDhtmlSelectOneListboxPeer.prototype.GetItemElementsParent=function(a){a=a.getClientId();return AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(a,AdfDhtmlSelectOneListboxPeer.LIST_HOLDER_ID))};AdfDhtmlSelectOneListboxPeer.prototype._getSelectedItemElement=function(a,b){var d=this.GetSubmittedValue(a,b);return this.FindItemElementWithValue(a,d)};AdfDhtmlSelectOneListboxPeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleLabelEditor.getInlineEditor()};
AdfDhtmlSelectOneListboxPeer.prototype._validate=function(a,b,d){this.SetDisplayValue(a,b,d);this.Validate(a,d)};AdfDhtmlSelectOneListboxPeer.prototype.needsResizeNotify=function(a){return!0};AdfDhtmlSelectOneListboxPeer.prototype.ResizeNotify=function(a,b,d,e){a=this.getComponent();this._scrollToSelection(a)};
AdfDhtmlSelectOneListboxPeer.prototype._scrollToSelection=function(a){var b=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneListboxPeer.LIST_HOLDER_ID);if(b=AdfAgent.AGENT.getElementById(b)){var d=this.getDomElement();a=this._getSelectedItemElement(a,d);null!=a&&AdfDomUtils.setScrollTop(b,a.offsetTop)}};
AdfUIComponents.createComponentClass("AdfRichSelectOneChoice",{componentType:"oracle.adf.RichSelectOneChoice",propertyKeys:[{name:"changed",type:"Boolean","default":!1},{name:"changedDesc",type:"String"},{name:"autoSubmit",type:"Boolean","default":!1},{name:"accessKey",type:"String"},{name:"contentStyle",type:"String"},{name:"helpTopicId",type:"String"},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"label",type:"String"},{name:"labelStyle",type:"String"},{name:"readOnly",type:"Boolean",
"default":!1,secured:!0},{name:"showRequired",type:"Boolean","default":!1},{name:"simple",type:"Boolean","default":!1},{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"valuePassThru",type:"Boolean","default":!1,secured:!0},{name:"editable",type:"String","default":"inherit"},{name:"unselectedLabel",type:"String"},{name:"mode",type:"String","default":"default"}],
superclass:AdfUISelectOne});
AdfRichUIPeer.createPeerClass(AdfDhtmlSelectOneListbasePeer,"AdfDhtmlSelectOneChoicePeer");
AdfDhtmlSelectOneChoicePeer.InitSubclass=function(){AdfRichUIPeer.addComponentPropertyGetters(this,AdfUIEditableValue.SUBMITTED_VALUE,AdfUISelectOne.SELECT_ITEMS,AdfRichSelectOneChoice.LABEL);AdfRichUIPeer.addComponentPropertyChanges(this,AdfRichSelectOneChoice.LABEL,AdfRichSelectOneChoice.DISABLED);AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.KEY_PRESS_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==
AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);this._TEXT_ID="content";this._COMPACT="compact";this._DROPDOWN_ID="drop";this._POPUP_ID="pop";this._POPUP_WRAPPER_ID="popWrap";this._SPACER_ID="sp";this._POPUP_PANEL_ID="_afrSelectOnePopupPanel";this._HIGHLIGHTED_STYLE_CLASS="p_AFHighlighted";this._TEMP_OPTION_KEY="_adfTmpOpt"};AdfDhtmlSelectOneChoicePeer.prototype.needsFocusTargetStyleClass=function(){return!0};
AdfDhtmlSelectOneChoicePeer.prototype.LazyInitialize=function(a,b){AdfDhtmlSelectOneChoicePeer.superclass.LazyInitialize.call(this,a,b);var d=AdfDhtmlEditableValuePeer.getContentNode(a,b);if(d&&!this._isCompact(a)&&(AdfRichUIPeer.addEventHandlerToDomInstance(AdfDhtmlSelectOneChoicePeer,d,AdfDhtmlLookAndFeel.CHANGE_EVENT_TYPE),d=d.options)){var e=d.length;for(i=0;i<e;i++)if(null==d[i].title||""==d[i].title)d[i].title=d[i].text}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentFocus=function(a){AdfDhtmlSelectOneChoicePeer.superclass.HandleComponentFocus.call(this,a);a=AdfAgent.AGENT;if(a.getPlatform()==AdfAgent.IE_PLATFORM){var b=this.getComponent(),d=this.getDomElement();if(b=AdfDhtmlEditableValuePeer.getContentNode(b,d))"true"!=b.getAttribute("data-afr-init")?(b==AdfPage.PAGE.getActiveDomElement()&&((9==a.getVersion()||10==a.getVersion())&&b.blur(),AdfFocusUtils.focusElementDelayed(b,1)),b.setAttribute("data-afr-init",
!0)):b.removeAttribute("data-afr-init")}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentMouseDown=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=a.getSource();if(this._isCompact(b)&&!b.getDisabled()){a=a.getNativeEvent();a=AdfAgent.AGENT.getEventTarget(a);var d=AdfRichUIPeer.getDomElementForComponent(b);if(d==a||AdfDomUtils.isAncestor(d,a))this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)?this.hidePopup(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID):this._showPopupPanel(b),this._mouseDownCalled=
!0;AdfFocusUtils.focusElement(this._getFocusElement(b))}}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentClick=function(a){if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){AdfDhtmlSelectOneChoicePeer.superclass.HandleComponentClick.call(this,a);var b=a.getSource();if(this._isCompact(b)){var d=a.getNativeEventTarget();this.IsItemEnabled(d)?(a=d.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),AdfDomUtils.removeCSSClassName(d,AdfDhtmlSelectOneChoicePeer._HIGHLIGHTED_STYLE_CLASS),d=this.getDomElement(),this.SetDisplayValue(b,d,a),this.Validate(b,
a),this._returnToDropDown(b)):!this._mouseDownCalled&&!this._closingPopup&&AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&this._showPopupPanel(b);this._closingPopup=this._mouseDownCalled=!1}}};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyUp=function(a){if(AdfBaseEvent.AT_TARGET_PHASE==a.getEventPhase()&&AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&AdfKeyStroke.ENTER_KEY==AdfAgent.AGENT.getKeyCode(a.getNativeEvent())){var b=a.getSource();a.cancel();AdfDhtmlEditableValuePeer.getContentNode(b).blur();AdfFocusUtils.focusElement(this._getFocusElement(b))}};AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyPress=function(a){this.StopArrowKeyBubbling(a)};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentKeyDown=function(a){this.StopArrowKeyBubbling(a);if(a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE){var b=a.getSource();if(this._isCompact(b)&&!b.getDisabled()){var d=a.getNativeEventTarget(),e=a.getNativeEvent(),f=AdfAgent.AGENT.getKeyCode(e),g=this.getDomElement(),h=this.GetSubmittedValue(b,g),k=this.FindItemElementWithValue(b,h);switch(f){case AdfKeyStroke.ESC_KEY:a.cancel();this._returnToDropDown(b);break;case AdfKeyStroke.ENTER_KEY:this.isPopupVisible(b,
AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)?(k=AdfDhtmlEditableValuePeer.getContentNode(b,g),d=k.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),null!=d&&(k.removeAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),h=this.GetSubmittedValue(b,g),h!=d&&this.Validate(b,h)),AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&(this._closingPopup=!0),this._returnToDropDown(b),AdfFocusUtils.focusElement(this._getFocusElement(b))):f==AdfKeyStroke.ENTER_KEY&&!this.isPopupVisible(b,
AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)&&this._showPopupPanel(b);break;case AdfKeyStroke.TAB_KEY:this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)&&this._returnToDropDown(b);break;case AdfKeyStroke.ARROWDOWN_KEY:if(e.altKey){this._showPopupPanel(b);break}case AdfKeyStroke.ARROWUP_KEY:if("A"==d.tagName&&!this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)){this._showPopupPanel(b);break}(e=f==AdfKeyStroke.ARROWUP_KEY?this.GetPreviousEnabledItem(k):this.GetNextEnabledItem(k))||
(e=this.GetFirstEnabledItem(b));d=this.isPopupVisible(b,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);e!=k&&(e=""+e.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),d?(k=AdfDhtmlEditableValuePeer.getContentNode(b,g),null==k.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO)&&k.setAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO,""+h),this.SetDisplayValue(b,g,e)):this.Validate(b,e));d&&a.cancel()}}AdfAgent.IE_PLATFORM==AdfAgent.AGENT.getPlatform()&&(8>=AdfAgent.AGENT.getVersion()&&
AdfKeyStroke.ENTER_KEY==AdfAgent.AGENT.getKeyCode(a.getNativeEvent()))&&(a.Event.returnValue=!1)}};AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentMouseOver=function(a){a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE&&(a.getSource(),a=a.getNativeEventTarget(),this.IsItemEnabled(a)&&(AdfDomUtils.containsCSSClassName(a,AdfDhtmlSelectOneChoicePeer._HIGHLIGHTED_STYLE_CLASS)||AdfDomUtils.addCSSClassName(a,AdfDhtmlSelectOneChoicePeer._HIGHLIGHTED_STYLE_CLASS)))};
AdfDhtmlSelectOneChoicePeer.prototype.HandleComponentMouseOut=function(a){a.getEventPhase()==AdfBaseEvent.AT_TARGET_PHASE&&(a.getSource(),a=a.getNativeEventTarget(),this.IsItemEnabled(a)&&AdfDomUtils.removeCSSClassName(a,AdfDhtmlSelectOneChoicePeer._HIGHLIGHTED_STYLE_CLASS))};AdfDhtmlSelectOneChoicePeer.prototype.HandleDomChange=function(a,b){var d=this.getDomElement();this.Validate(a,this.GetSubmittedValue(a,d))};
AdfDhtmlSelectOneChoicePeer.prototype.PopupClosed=function(a,b,d){if(d==AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID){d=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._POPUP_WRAPPER_ID);AdfAgent.AGENT.getElementById(d).appendChild(b);b=AdfRichUIPeer.getDomElementForComponent(a);d=AdfDhtmlEditableValuePeer.getContentNode(a,b);var e=d.getAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO);null!=e&&(d.removeAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO),this.SetDisplayValue(a,
b,e));AdfFocusUtils.focusElement(this._getFocusElement(a))}};AdfDhtmlSelectOneChoicePeer.prototype.VetoShowNoteWindow=function(a){return this._isCompact(a)&&this.isPopupVisible(a,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)?!0:AdfDhtmlSelectOneChoicePeer.superclass.VetoShowNoteWindow.call(this)};AdfDhtmlSelectOneChoicePeer.prototype.GetNoteWindowAlignmentNode=function(a,b){return this._getFocusElement(a)};AdfDhtmlSelectOneChoicePeer.prototype.GetComponentMode=function(a){return a.getMode()};
AdfDhtmlSelectOneChoicePeer.prototype.SetDisplayValue=function(a,b,d){var e=AdfDhtmlEditableValuePeer.getContentNode(a,b);if(null!=e){var f=a.getReadOnly();AdfAssert.assertString(d);if(!f){f=this.FindItemElementWithValue(a,d);if(this._isCompact(a)){var g=this.GetSubmittedValue(a,b),g=this.FindItemElementWithValue(a,g);this.SelectItemElement(a,f,g);null==f&&this.AddEmptyOption(a,b)}else f&&(a=AdfAgent.AGENT.getAttribute(f,AdfDhtmlSelectOneChoicePeer._TEMP_OPTION_KEY),a||(b=AdfDomUtils.getFirstDescendentElement(e,
"OPTION"),(a=AdfAgent.AGENT.getAttribute(b,AdfDhtmlSelectOneChoicePeer._TEMP_OPTION_KEY))&&e.removeChild(b)),e.title=f.title);e.value=d}}};
AdfDhtmlSelectOneChoicePeer.prototype.AddEmptyOption=function(a,b){var d=a.getClientId(),d=AdfRichUIPeer.CreateSubId(d,AdfDhtmlSelectOneChoicePeer._POPUP_ID),d=AdfAgent.AGENT.getElementById(d).firstChild.insertRow(0),e=selectedItem.cloneNode(!0),f=a.getUnselectedLabel();null==f&&(f="");e.setAttribute(AdfDhtmlSelectOneListbasePeer._ITEM_VALUE_EXPANDO,"");e.firstChild.nodeValue=f;d.appendChild(e);AdfAgent.AGENT.elementsAdded(e)};
AdfDhtmlSelectOneChoicePeer.prototype.GetItemElements=function(a){if(this._isCompact(a))return AdfDhtmlSelectOneChoicePeer.superclass.GetItemElements.call(this,a);var b=this.getDomElement();a=AdfDhtmlEditableValuePeer.getContentNode(a,b);return null==a?null:a.options};AdfDhtmlSelectOneChoicePeer.prototype.GetComponentSelectItems=function(a,b){return this._isCompact(a)?AdfDhtmlSelectOneChoicePeer.superclass.GetComponentSelectItems.call(this,a,b):AdfDhtmlSelectOnePeer.GetSelectItemsFromOptions(a,b)};
AdfDhtmlSelectOneChoicePeer.prototype.FindItemElementWithValue=function(a,b){if(this._isCompact(a))return AdfDhtmlSelectOneChoicePeer.superclass.FindItemElementWithValue.call(this,a,b);var d=this.getDomElement(),d=AdfDhtmlEditableValuePeer.getContentNode(a,d);if(null==d)return null;for(var e=d.options,f=e.length,d=0;d<f;d++)if(e[d].value==b)return e[d];return null};AdfDhtmlSelectOneChoicePeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleLabelEditor.getInlineEditor()};
AdfDhtmlSelectOneChoicePeer.prototype.ComponentDisabledChanged=function(a,b,d,e){a=AdfDhtmlEditableValuePeer.getContentNode(a,b);!0==d?(AdfDomUtils.addCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),a.setAttribute("disabled","true")):(AdfDomUtils.removeCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),a.removeAttribute("disabled"))};
AdfDhtmlSelectOneChoicePeer.prototype._returnToDropDown=function(a){a.getClientId();var b=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._POPUP_ID);AdfAgent.AGENT.getElementById(b);this.hidePopup(a,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID);AdfFocusUtils.focusElement(this._getFocusElement(a))};
AdfDhtmlSelectOneChoicePeer.prototype._showPopupPanel=function(a){AdfObject.ensureClassInitialization(AdfRichPopup);var b=a.getClientId(),d=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._SPACER_ID);AdfAgent.AGENT.getElementById(d);d=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._POPUP_ID);d=AdfAgent.AGENT.getElementById(d);d.parentNode.removeChild(d);var e={};e[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START;this._isCompact(a)?(e[AdfDhtmlPopupHints.FOCUS]=!0,e[AdfRichPopup.HINT_ALIGN_ID]=
AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID)):(e[AdfDhtmlPopupHints.FOCUS]=!1,e[AdfRichPopup.HINT_ALIGN_ID]=AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._TEXT_ID));this.showPopup(a,d,e,AdfDhtmlSelectOneChoicePeer._POPUP_PANEL_ID)};AdfDhtmlSelectOneChoicePeer.prototype._isCompact=function(a){return this.GetComponentMode(a)==AdfDhtmlSelectOneChoicePeer._COMPACT};
AdfDhtmlSelectOneChoicePeer.prototype._getFocusElement=function(a){a=this._isCompact(a)?AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._DROPDOWN_ID):AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlSelectOneChoicePeer._TEXT_ID);return AdfAgent.AGENT.getElementById(a)};
AdfDhtmlSelectOneChoicePeer.prototype.GetItemElementsParent=function(a){var b=a.getClientId();return this._isCompact(a)?AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._POPUP_ID)):AdfAgent.AGENT.getElementById(AdfRichUIPeer.CreateSubId(b,AdfDhtmlSelectOneChoicePeer._TEXT_ID))};
AdfUIComponents.createComponentClass("AdfRichCommandToolbarButton",{componentType:"oracle.adf.RichCommandToolbarButton",propertyKeys:[{name:"inlineStyle",type:"String"},{name:"styleClass",type:"String"},{name:"shortDesc",type:"String"},{name:"unsecure",type:"Object",secured:!0},{name:"visible",type:"Boolean","default":!0},{name:"useWindow",type:"Boolean","default":!1},{name:"windowModalityType",type:"String","default":"modeless"},{name:"windowEmbedStyle",type:"String","default":"window"},{name:"windowHeight",
type:"Number"},{name:"windowWidth",type:"Number"},{name:"accessKey",type:"String"},{name:"actionDelivery",type:"String","default":"clientServer",secured:!0},{name:"partialSubmit",type:"Boolean","default":!0},{name:"disabled",type:"Boolean","default":!1,secured:!0},{name:"depressedIcon",type:"String"},{name:"hoverIcon",type:"String"},{name:"disabledIcon",type:"String"},{name:"icon",type:"String"},{name:"text",type:"String"},{name:"type",type:"String","default":"default"},{name:"selected",type:"Boolean",
"default":!1}],superclass:AdfUICommand});
AdfRichCommandToolbarButton.prototype.getAccessibleName=function(){return this.getShortDesc()};
AdfRichUIPeer.createPeerClass(AdfRichUIPeer,"AdfDhtmlCommandToolbarButtonPeer");
AdfDhtmlCommandToolbarButtonPeer.InitSubclass=function(){AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,AdfUIInputEvent.CLICK_EVENT_TYPE,AdfUIInputEvent.MOUSE_DOWN_EVENT_TYPE,AdfUIInputEvent.MOUSE_UP_EVENT_TYPE);AdfAgent.AGENT.getCapabilities()[AdfAgent.CAP_TOUCH_SCREEN]==AdfAgent.CAP_TOUCH_SCREEN_NONE&&AdfRichUIPeer.addComponentEventHandlers(this,AdfUIInputEvent.MOUSE_IN_EVENT_TYPE,AdfUIInputEvent.MOUSE_OUT_EVENT_TYPE);AdfRichUIPeer.addComponentPropertyChanges(this,
AdfRichCommandToolbarButton.DISABLED,AdfRichCommandToolbarButton.SELECTED,AdfRichCommandToolbarButton.SHORT_DESC,AdfRichCommandToolbarButton.TEXT);AdfRichUIPeer.addComponentPropertyGetters(this,AdfRichCommandToolbarButton.TEXT);this._POPUP_ELEMENT="popEl";this._POPUP_CONTAINER="popCtr";this._POPUP_CONTEXT_AREA="popArea";this._POPUP_CONTENT_ID="popup";this._POPUP_ID="_afrPopId";this._AFR_GROUPID="_afrGrp";this._DEPRESSED_STYLE_CLASS="p_AFDepressed";this._SELECTED_STYLE_CLASS="p_AFSelected";this._BUSY=
"_busy"};AdfDhtmlCommandToolbarButtonPeer.prototype.BindToComponent=function(a,b){AdfDhtmlCommandToolbarButtonPeer.superclass.BindToComponent.call(this,a,b);this._actionDisabled=AdfDomUtils.containsCSSClassName(b,"p_AFActionDisabled")};
AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentKeyDown=function(a){if(!a.isCanceled()){var b=a.getKeyCode(),d=this.getComponent(),e=this._getPopupId();if(this._isEventInRootElement(a)){var f=this._actionDisabled&&(b==AdfKeyStroke.ENTER_KEY||b==AdfKeyStroke.SPACE_KEY);b==AdfKeyStroke.ARROWDOWN_KEY||f?this._openPopupMenu(e,!0,a):b==AdfKeyStroke.SPACE_KEY&&(f=d.getProperty(AdfDhtmlCommandToolbarButtonPeer._BUSY),!d.getDisabled()&&!f&&(this._execute(),a.cancel()))}b==AdfKeyStroke.ESC_KEY&&
(e||(e=d.getClientId()),this.hidePopup(d,e))}};AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentClick=function(a){if(a.isLeftButtonPressed()&&!this._actionDisabled&&!this._isInPopupSelector(a)&&this._isEventInRootElement(a)){a=this.getComponent();var b=a.getProperty(AdfDhtmlCommandToolbarButtonPeer._BUSY);!a.getDisabled()&&!b&&this._execute()}};
AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentMouseOver=function(a){!this.getComponent().getDisabled()&&this._isEventInRootElement(a)&&this._displayMouseOverIcon(this.getComponent())};AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentMouseOut=function(a){var b=this.getComponent();!b.getDisabled()&&this._isEventInRootElement(a)&&(b.getSelected()?(this._setDepressedStyle(b,!0),this._displayMouseDownIcon(b)):(this._setDepressedStyle(b,!1),this._displayDefaultIcon(b)))};
AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentMouseUp=function(a){var b=this.getComponent();!b.getDisabled()&&(a.isLeftButtonPressed()&&this._isEventInRootElement(a))&&(this._setDepressedStyle(b,!1),this._displayMouseOverIcon(b))};
AdfDhtmlCommandToolbarButtonPeer.prototype.HandleComponentMouseDown=function(a){var b=this.getComponent(),d=a.isLeftButtonPressed();if(!b.getDisabled()&&(d&&this._isEventInRootElement(a))&&(this._setDepressedStyle(b,!0),this._displayMouseDownIcon(b),this._actionDisabled||this._isInPopupSelector(a)))b=this._getPopupId(),this._openPopupMenu(b,!1,a)};
AdfDhtmlCommandToolbarButtonPeer.prototype.ComponentDisabledChanged=function(a,b,d,e){e=AdfDomUtils.getFirstDescendentElement(b,"A");!0==d?(AdfDomUtils.addCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),e.removeAttribute("href"),this._displayDisabledIcon(a),this._setAriaDisabled(a),e.setAttribute(AdfFocusUtils.DESCENDANT_FOCUSABLE,"false")):(AdfDomUtils.removeCSSClassName(b,AdfRichUIPeer.DISABLED_STYLECLASS),e.setAttribute("href","#"),this._displayDefaultIcon(a),this._removeAriaDisabled(a),e.setAttribute(AdfFocusUtils.DESCENDANT_FOCUSABLE,
"true"))};
AdfDhtmlCommandToolbarButtonPeer.prototype.ComponentSelectedChanged=function(a,b,d,e){e=a.getType();d?(this._setDepressedStyle(a,!0),AdfDomUtils.addCSSClassName(b,AdfDhtmlCommandToolbarButtonPeer._SELECTED_STYLE_CLASS),this._displayMouseDownIcon(a),"radio"==e&&(this._toggleRadioGroupItems(),this._enableAriaChecked(a)),"check"==e&&this._enableAriaPressed(a)):(this._setDepressedStyle(a,!1),AdfDomUtils.removeCSSClassName(b,AdfDhtmlCommandToolbarButtonPeer._SELECTED_STYLE_CLASS),this._displayDefaultIcon(a),"radio"==
e&&this._disableAriaChecked(a),"check"==e&&this._disableAriaPressed(a))};AdfDhtmlCommandToolbarButtonPeer.prototype.ComponentShortDescChanged=function(a,b,d,e){b.setAttribute("title",d);if(a=this._getIconElement(a))a.setAttribute("title",d),a.setAttribute("alt",d)};AdfDhtmlCommandToolbarButtonPeer.prototype.ComponentTextChanged=AdfDomUtils.__componentTextChanged;AdfDhtmlCommandToolbarButtonPeer.prototype.GetInlineEditor=function(a){return AdfDhtmlSimpleTextEditor.getInlineEditor()};
AdfDhtmlCommandToolbarButtonPeer.prototype.GetComponentText=function(a,b){var d=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlCommandToolbarButtonPeer._POPUP_CONTEXT_AREA);if(d=(d=AdfAgent.AGENT.getElementById(d))?AdfDomUtils.getPreviousElement(d):b){if(d=AdfDomUtils.getFirstDescendentElement(d,"span"))if(d=AdfAgent.AGENT.getTextContent(d),""!=d)return d;return null}AdfAssert.assert(!1,"Unable to find the element containing the text")};
AdfDhtmlCommandToolbarButtonPeer.prototype.SetBusy=function(a){var b=this.getComponent(),d=this.getDomElement();AdfDomUtils.getFormElement(d)&&(!b.getDisabled()&&!AdfPage.PAGE.isAttachmentMode())&&(AdfDomUtils.addOrRemoveCSSClassName(a,d,AdfRichUIPeer.DISABLED_STYLECLASS),b.setProperty(AdfDhtmlCommandToolbarButtonPeer._BUSY,a,!1,AdfUIComponent.PROPAGATE_NEVER))};
AdfDhtmlCommandToolbarButtonPeer.prototype.PopupClosed=function(a,b,d){AdfDhtmlCommandToolbarButtonPeer.superclass.PopupClosed.call(this,a,b);a=a.getClientId();d==a&&(d=AdfRichUIPeer.createSubId(a,AdfDhtmlCommandToolbarButtonPeer._POPUP_CONTAINER),(d=AdfAgent.AGENT.getElementById(d))&&d.appendChild(b))};AdfDhtmlCommandToolbarButtonPeer.prototype.__preferredSizeChangeNotify=function(a){this.bind(a);a=this.getComponentParent(a);var b=null!=a?a.getPeer():null;b&&b.__preferredSizeChangeNotify&&b.__preferredSizeChangeNotify(a)};
AdfDhtmlCommandToolbarButtonPeer.prototype._execute=function(){var a=this.getComponent(),b=new AdfActionEvent(a);b.queue(a.getPartialSubmit());b.isCanceled()||(b=a.getType(),"check"==b?a.setSelected(!a.getSelected()):"radio"==b&&this._toggleRadioGroupItems())};
AdfDhtmlCommandToolbarButtonPeer.prototype._openPopupMenu=function(a,b,d){var e=this.getComponent(),f=e.getClientId(),g=AdfRichUIPeer.createSubId(f,AdfDhtmlCommandToolbarButtonPeer._POPUP_ELEMENT);if(AdfAgent.AGENT.getElementById(g))if(g=this.getDomElement(),null!=a)e=AdfPage.PAGE.findComponent(a).getPeer(),a={},a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=g,a[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START,a[AdfDhtmlPopupHints.FOCUS]=b,e.show(a),d.cancel();else{a=AdfRichUIPeer.createSubId(f,AdfDhtmlCommandToolbarButtonPeer._POPUP_CONTAINER);
var h=AdfAgent.AGENT.getElementById(a);if(null!=h){for(var k=h.firstChild;k&&8==k.nodeType;)k=k.nextSibling;if(null!=k){a={};var l=AdfRichUIPeer.createSubId(f,AdfDhtmlCommandToolbarButtonPeer._POPUP_CONTENT_ID);k.id!=l&&(h=h.ownerDocument.createElement("div"),h.appendChild(k),k=h,k.id=l);a[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_ALWAYS;a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=g;a[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_AFTER_START;a[AdfDhtmlPopupHints.FOCUS]=b;this.showPopup(e,
k,a,f);d.cancel()}}}};AdfDhtmlCommandToolbarButtonPeer.prototype._toggleRadioGroupItems=function(){for(var a=this.getComponent(),b=this.getDomElement(),b=this._getGroupId(b),d=a.getParent(),d=d.getPeer().getDescendantComponents(d),e=0;e<d.length;e++){var f=d[e],g=AdfRichUIPeer.getDomElementForComponent(f),g=this._getGroupId(g);b==g&&f!=a&&(f.getType&&"radio"==f.getType())&&this._toggleComponentUnselected(f)}a.setSelected(!0)};AdfDhtmlCommandToolbarButtonPeer.prototype._getGroupId=function(a){return a.getAttribute(AdfDhtmlCommandToolbarButtonPeer._AFR_GROUPID)};
AdfDhtmlCommandToolbarButtonPeer.prototype._toggleComponentUnselected=function(a){a.setSelected(!1);this._setDepressedStyle(a,!1);this._displayDefaultIcon(a)};AdfDhtmlCommandToolbarButtonPeer.prototype._getIconElement=function(a){a=a.getClientId();a=AdfRichUIPeer.createSubId(a,"icon");return AdfAgent.AGENT.getElementById(a)};AdfDhtmlCommandToolbarButtonPeer.prototype._displayDefaultIcon=function(a){this._displayIcon(a,null)};
AdfDhtmlCommandToolbarButtonPeer.prototype._displayMouseDownIcon=function(a){this._displayIcon(a,a.getDepressedIcon())};AdfDhtmlCommandToolbarButtonPeer.prototype._displayMouseOverIcon=function(a){a.getSelected()||this._displayIcon(a,a.getHoverIcon())};AdfDhtmlCommandToolbarButtonPeer.prototype._displayDisabledIcon=function(a){this._displayIcon(a,a.getDisabledIcon())};
AdfDhtmlCommandToolbarButtonPeer.prototype._displayIcon=function(a,b){var d=a.getIcon(),e=this._getIconElement(a);e&&d&&(e.src=b||d)};AdfDhtmlCommandToolbarButtonPeer.prototype._setDepressedStyle=function(a,b){var d=AdfRichUIPeer.getDomElementForComponent(a),e=AdfDhtmlCommandToolbarButtonPeer._DEPRESSED_STYLE_CLASS;b?AdfDomUtils.addCSSClassName(d,e):AdfDomUtils.removeCSSClassName(d,e)};
AdfDhtmlCommandToolbarButtonPeer.prototype._isInPopupSelector=function(a){var b=this.getComponent().getClientId(),d=AdfRichUIPeer.createSubId(b,AdfDhtmlCommandToolbarButtonPeer._POPUP_CONTEXT_AREA);for(a=a.getNativeEventTarget();null!=a&&a.id!=b;){if(a.id==d)return!0;a=a.parentNode}return!1};
AdfDhtmlCommandToolbarButtonPeer.prototype._getPopupId=function(){var a=this.getComponent(),a=AdfRichUIPeer.createSubId(a.getClientId(),AdfDhtmlCommandToolbarButtonPeer._POPUP_ELEMENT),a=AdfAgent.AGENT.getElementById(a);if(!a)return null;var a=a.parentNode,b=a.getAttribute(AdfDhtmlCommandToolbarButtonPeer._POPUP_ID);null==b&&(b=a.parentNode.getAttribute(AdfDhtmlCommandToolbarButtonPeer._POPUP_ID));return b};
AdfDhtmlCommandToolbarButtonPeer.prototype._isEventInRootElement=function(a){var b=a.getNativeEventTarget();a=this._getPopupId();for(var d=null!=a,e=this.getDomElement();b.parentNode&&!(d&&a==b.id);b=b.parentNode)if(b==e)return!0;return!1};AdfDhtmlCommandToolbarButtonPeer.prototype._enableAriaPressed=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));a.setAttribute("aria-pressed","true")};
AdfDhtmlCommandToolbarButtonPeer.prototype._disableAriaPressed=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));a.setAttribute("aria-pressed","false")};AdfDhtmlCommandToolbarButtonPeer.prototype._enableAriaChecked=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));var b="button"==a.getAttribute("role").toLowerCase()?"aria-pressed":"aria-checked";a.setAttribute(b,"true")};
AdfDhtmlCommandToolbarButtonPeer.prototype._disableAriaChecked=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));var b="button"==a.getAttribute("role").toLowerCase()?"aria-pressed":"aria-checked";a.setAttribute(b,"false")};AdfDhtmlCommandToolbarButtonPeer.prototype._setAriaDisabled=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));a.setAttribute("aria-disabled","true")};
AdfDhtmlCommandToolbarButtonPeer.prototype._removeAriaDisabled=function(a){a=this.getDomElement();"A"!=a.tagName&&(a=AdfDomUtils.getDescendentElement(a,"a",0));a.removeAttribute("aria-disabled")};